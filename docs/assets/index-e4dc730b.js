var UD=Object.defineProperty;var zD=(t,e,r)=>e in t?UD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var HD=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Sr=(t,e,r)=>(zD(t,typeof e!="symbol"?e+"":e,r),r);var pY=HD((vY,J0)=>{function VD(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ja(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function l_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var nA={exports:{}},D0={},iA={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=Symbol.for("react.element"),jD=Symbol.for("react.portal"),GD=Symbol.for("react.fragment"),WD=Symbol.for("react.strict_mode"),$D=Symbol.for("react.profiler"),XD=Symbol.for("react.provider"),YD=Symbol.for("react.context"),qD=Symbol.for("react.forward_ref"),KD=Symbol.for("react.suspense"),QD=Symbol.for("react.memo"),ZD=Symbol.for("react.lazy"),HS=Symbol.iterator;function JD(t){return t===null||typeof t!="object"?null:(t=HS&&t[HS]||t["@@iterator"],typeof t=="function"?t:null)}var sA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oA=Object.assign,aA={};function Fu(t,e,r){this.props=t,this.context=e,this.refs=aA,this.updater=r||sA}Fu.prototype.isReactComponent={};Fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lA(){}lA.prototype=Fu.prototype;function u_(t,e,r){this.props=t,this.context=e,this.refs=aA,this.updater=r||sA}var c_=u_.prototype=new lA;c_.constructor=u_;oA(c_,Fu.prototype);c_.isPureReactComponent=!0;var VS=Array.isArray,uA=Object.prototype.hasOwnProperty,h_={current:null},cA={key:!0,ref:!0,__self:!0,__source:!0};function hA(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uA.call(e,n)&&!cA.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Kh,type:t,key:s,ref:o,props:i,_owner:h_.current}}function eO(t,e){return{$$typeof:Kh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function f_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kh}function tO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var jS=/\/+/g;function zg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tO(""+t.key):e.toString(36)}function ap(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kh:case jD:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+zg(o,0):n,VS(i)?(r="",t!=null&&(r=t.replace(jS,"$&/")+"/"),ap(i,e,r,"",function(u){return u})):i!=null&&(f_(i)&&(i=eO(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",VS(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+zg(s,a);o+=ap(s,e,r,l,i)}else if(l=JD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+zg(s,a++),o+=ap(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function od(t,e,r){if(t==null)return t;var n=[],i=0;return ap(t,n,"","",function(s){return e.call(r,s,i++)}),n}function rO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},lp={transition:null},nO={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:lp,ReactCurrentOwner:h_};rt.Children={map:od,forEach:function(t,e,r){od(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return od(t,function(){e++}),e},toArray:function(t){return od(t,function(e){return e})||[]},only:function(t){if(!f_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rt.Component=Fu;rt.Fragment=GD;rt.Profiler=$D;rt.PureComponent=u_;rt.StrictMode=WD;rt.Suspense=KD;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nO;rt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=oA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=h_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)uA.call(e,l)&&!cA.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Kh,type:t.type,key:i,ref:s,props:n,_owner:o}};rt.createContext=function(t){return t={$$typeof:YD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XD,_context:t},t.Consumer=t};rt.createElement=hA;rt.createFactory=function(t){var e=hA.bind(null,t);return e.type=t,e};rt.createRef=function(){return{current:null}};rt.forwardRef=function(t){return{$$typeof:qD,render:t}};rt.isValidElement=f_;rt.lazy=function(t){return{$$typeof:ZD,_payload:{_status:-1,_result:t},_init:rO}};rt.memo=function(t,e){return{$$typeof:QD,type:t,compare:e===void 0?null:e}};rt.startTransition=function(t){var e=lp.transition;lp.transition={};try{t()}finally{lp.transition=e}};rt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};rt.useCallback=function(t,e){return hn.current.useCallback(t,e)};rt.useContext=function(t){return hn.current.useContext(t)};rt.useDebugValue=function(){};rt.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};rt.useEffect=function(t,e){return hn.current.useEffect(t,e)};rt.useId=function(){return hn.current.useId()};rt.useImperativeHandle=function(t,e,r){return hn.current.useImperativeHandle(t,e,r)};rt.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};rt.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};rt.useMemo=function(t,e){return hn.current.useMemo(t,e)};rt.useReducer=function(t,e,r){return hn.current.useReducer(t,e,r)};rt.useRef=function(t){return hn.current.useRef(t)};rt.useState=function(t){return hn.current.useState(t)};rt.useSyncExternalStore=function(t,e,r){return hn.current.useSyncExternalStore(t,e,r)};rt.useTransition=function(){return hn.current.useTransition()};rt.version="18.2.0";iA.exports=rt;var J=iA.exports;const Nn=Ja(J),iO=VD({__proto__:null,default:Nn},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO=J,oO=Symbol.for("react.element"),aO=Symbol.for("react.fragment"),lO=Object.prototype.hasOwnProperty,uO=sO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cO={key:!0,ref:!0,__self:!0,__source:!0};function fA(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)lO.call(e,n)&&!cO.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:oO,type:t,key:s,ref:o,props:i,_owner:uO.current}}D0.Fragment=aO;D0.jsx=fA;D0.jsxs=fA;nA.exports=D0;var ae=nA.exports,qy={},dA={exports:{}},Hn={},pA={exports:{}},mA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var H=F.length;F.push($);e:for(;0<H;){var L=H-1>>>1,j=F[L];if(0<i(j,$))F[L]=$,F[H]=j,H=L;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var $=F[0],H=F.pop();if(H!==$){F[0]=H;e:for(var L=0,j=F.length,Y=j>>>1;L<Y;){var W=2*(L+1)-1,de=F[W],he=W+1,Pe=F[he];if(0>i(de,H))he<j&&0>i(Pe,de)?(F[L]=Pe,F[he]=H,L=he):(F[L]=de,F[W]=H,L=W);else if(he<j&&0>i(Pe,H))F[L]=Pe,F[he]=H,L=he;else break e}}return $}function i(F,$){var H=F.sortIndex-$.sortIndex;return H!==0?H:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,p=null,d=3,g=!1,m=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=F)n(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=r(u)}}function x(F){if(_=!1,y(F),!m)if(r(l)!==null)m=!0,Q(C);else{var $=r(u);$!==null&&z(x,$.startTime-F)}}function C(F,$){m=!1,_&&(_=!1,T(A),A=-1),g=!0;var H=d;try{for(y($),p=r(l);p!==null&&(!(p.expirationTime>$)||F&&!k());){var L=p.callback;if(typeof L=="function"){p.callback=null,d=p.priorityLevel;var j=L(p.expirationTime<=$);$=t.unstable_now(),typeof j=="function"?p.callback=j:p===r(l)&&n(l),y($)}else n(l);p=r(l)}if(p!==null)var Y=!0;else{var W=r(u);W!==null&&z(x,W.startTime-$),Y=!1}return Y}finally{p=null,d=H,g=!1}}var M=!1,I=null,A=-1,D=5,R=-1;function k(){return!(t.unstable_now()-R<D)}function O(){if(I!==null){var F=t.unstable_now();R=F;var $=!0;try{$=I(!0,F)}finally{$?U():(M=!1,I=null)}}else M=!1}var U;if(typeof b=="function")U=function(){b(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,G=N.port2;N.port1.onmessage=O,U=function(){G.postMessage(null)}}else U=function(){S(O,0)};function Q(F){I=F,M||(M=!0,U())}function z(F,$){A=S(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,Q(C))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var H=d;d=$;try{return F()}finally{d=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=d;d=F;try{return $()}finally{d=H}},t.unstable_scheduleCallback=function(F,$,H){var L=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?L+H:L):H=L,F){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=H+j,F={id:f++,callback:$,priorityLevel:F,startTime:H,expirationTime:j,sortIndex:-1},H>L?(F.sortIndex=H,e(u,F),r(l)===null&&F===r(u)&&(_?(T(A),A=-1):_=!0,z(x,H-L))):(F.sortIndex=j,e(l,F),m||g||(m=!0,Q(C))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var $=d;return function(){var H=d;d=$;try{return F.apply(this,arguments)}finally{d=H}}}})(mA);pA.exports=mA;var hO=pA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA=J,Un=hO;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vA=new Set,gh={};function el(t,e){_u(t,e),_u(t+"Capture",e)}function _u(t,e){for(gh[t]=e,t=0;t<e.length;t++)vA.add(e[t])}var Xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ky=Object.prototype.hasOwnProperty,fO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GS={},WS={};function dO(t){return Ky.call(WS,t)?!0:Ky.call(GS,t)?!1:fO.test(t)?WS[t]=!0:(GS[t]=!0,!1)}function pO(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mO(t,e,r,n){if(e===null||typeof e>"u"||pO(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lr[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lr[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lr[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lr[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lr[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lr[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lr[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lr[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lr[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var d_=/[\-:]([a-z])/g;function p_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(d_,p_);Lr[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(d_,p_);Lr[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(d_,p_);Lr[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lr[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lr.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lr[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function m_(t,e,r,n){var i=Lr.hasOwnProperty(e)?Lr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mO(e,r,i,n)&&(r=null),n||i===null?dO(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var eo=gA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ad=Symbol.for("react.element"),Fl=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),g_=Symbol.for("react.strict_mode"),Qy=Symbol.for("react.profiler"),yA=Symbol.for("react.provider"),xA=Symbol.for("react.context"),v_=Symbol.for("react.forward_ref"),Zy=Symbol.for("react.suspense"),Jy=Symbol.for("react.suspense_list"),y_=Symbol.for("react.memo"),_o=Symbol.for("react.lazy"),_A=Symbol.for("react.offscreen"),$S=Symbol.iterator;function gc(t){return t===null||typeof t!="object"?null:(t=$S&&t[$S]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Object.assign,Hg;function Fc(t){if(Hg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Hg=e&&e[1]||""}return`
`+Hg+t}var Vg=!1;function jg(t,e){if(!t||Vg)return"";Vg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Fc(t):""}function gO(t){switch(t.tag){case 5:return Fc(t.type);case 16:return Fc("Lazy");case 13:return Fc("Suspense");case 19:return Fc("SuspenseList");case 0:case 2:case 15:return t=jg(t.type,!1),t;case 11:return t=jg(t.type.render,!1),t;case 1:return t=jg(t.type,!0),t;default:return""}}function ex(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ll:return"Fragment";case Fl:return"Portal";case Qy:return"Profiler";case g_:return"StrictMode";case Zy:return"Suspense";case Jy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xA:return(t.displayName||"Context")+".Consumer";case yA:return(t._context.displayName||"Context")+".Provider";case v_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case y_:return e=t.displayName||null,e!==null?e:ex(t.type)||"Memo";case _o:e=t._payload,t=t._init;try{return ex(t(e))}catch{}}return null}function vO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ex(e);case 8:return e===g_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yO(t){var e=bA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ld(t){t._valueTracker||(t._valueTracker=yO(t))}function wA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Rp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tx(t,e){var r=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function XS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=jo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SA(t,e){e=e.checked,e!=null&&m_(t,"checked",e,!1)}function rx(t,e){SA(t,e);var r=jo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nx(t,e.type,r):e.hasOwnProperty("defaultValue")&&nx(t,e.type,jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function nx(t,e,r){(e!=="number"||Rp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Lc=Array.isArray;function su(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+jo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ix(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(le(92));if(Lc(r)){if(1<r.length)throw Error(le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:jo(r)}}function EA(t,e){var r=jo(e.value),n=jo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function KS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ud,CA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ud=ud||document.createElement("div"),ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ud.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xO=["Webkit","ms","Moz","O"];Object.keys(Yc).forEach(function(t){xO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yc[e]=Yc[t]})});function PA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Yc.hasOwnProperty(t)&&Yc[t]?(""+e).trim():e+"px"}function AA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=PA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var _O=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ox(t,e){if(e){if(_O[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function ax(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lx=null;function x_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ux=null,ou=null,au=null;function QS(t){if(t=Jh(t)){if(typeof ux!="function")throw Error(le(280));var e=t.stateNode;e&&(e=L0(e),ux(t.stateNode,t.type,e))}}function RA(t){ou?au?au.push(t):au=[t]:ou=t}function IA(){if(ou){var t=ou,e=au;if(au=ou=null,QS(t),e)for(t=0;t<e.length;t++)QS(e[t])}}function MA(t,e){return t(e)}function kA(){}var Gg=!1;function DA(t,e,r){if(Gg)return t(e,r);Gg=!0;try{return MA(t,e,r)}finally{Gg=!1,(ou!==null||au!==null)&&(kA(),IA())}}function yh(t,e){var r=t.stateNode;if(r===null)return null;var n=L0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(le(231,e,typeof r));return r}var cx=!1;if(Xs)try{var vc={};Object.defineProperty(vc,"passive",{get:function(){cx=!0}}),window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{cx=!1}function bO(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(f){this.onError(f)}}var qc=!1,Ip=null,Mp=!1,hx=null,wO={onError:function(t){qc=!0,Ip=t}};function SO(t,e,r,n,i,s,o,a,l){qc=!1,Ip=null,bO.apply(wO,arguments)}function EO(t,e,r,n,i,s,o,a,l){if(SO.apply(this,arguments),qc){if(qc){var u=Ip;qc=!1,Ip=null}else throw Error(le(198));Mp||(Mp=!0,hx=u)}}function tl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function OA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZS(t){if(tl(t)!==t)throw Error(le(188))}function TO(t){var e=t.alternate;if(!e){if(e=tl(t),e===null)throw Error(le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return ZS(i),t;if(s===n)return ZS(i),e;s=s.sibling}throw Error(le(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?t:e}function BA(t){return t=TO(t),t!==null?NA(t):null}function NA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NA(t);if(e!==null)return e;t=t.sibling}return null}var FA=Un.unstable_scheduleCallback,JS=Un.unstable_cancelCallback,CO=Un.unstable_shouldYield,PO=Un.unstable_requestPaint,rr=Un.unstable_now,AO=Un.unstable_getCurrentPriorityLevel,__=Un.unstable_ImmediatePriority,LA=Un.unstable_UserBlockingPriority,kp=Un.unstable_NormalPriority,RO=Un.unstable_LowPriority,UA=Un.unstable_IdlePriority,O0=null,fs=null;function IO(t){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(O0,t,void 0,(t.current.flags&128)===128)}catch{}}var Bi=Math.clz32?Math.clz32:DO,MO=Math.log,kO=Math.LN2;function DO(t){return t>>>=0,t===0?32:31-(MO(t)/kO|0)|0}var cd=64,hd=4194304;function Uc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Uc(a):(s&=o,s!==0&&(n=Uc(s)))}else o=r&~i,o!==0?n=Uc(o):s!==0&&(n=Uc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Bi(e),i=1<<r,n|=t[r],e&=~i;return n}function OO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BO(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Bi(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=OO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zA(){var t=cd;return cd<<=1,!(cd&4194240)&&(cd=64),t}function Wg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Qh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bi(e),t[e]=r}function NO(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Bi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function b_(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Bi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var yt=0;function HA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VA,w_,jA,GA,WA,dx=!1,fd=[],ko=null,Do=null,Oo=null,xh=new Map,_h=new Map,Eo=[],FO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eE(t,e){switch(t){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":xh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(e.pointerId)}}function yc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jh(e),e!==null&&w_(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LO(t,e,r,n,i){switch(e){case"focusin":return ko=yc(ko,t,e,r,n,i),!0;case"dragenter":return Do=yc(Do,t,e,r,n,i),!0;case"mouseover":return Oo=yc(Oo,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return xh.set(s,yc(xh.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_h.set(s,yc(_h.get(s)||null,t,e,r,n,i)),!0}return!1}function $A(t){var e=Ma(t.target);if(e!==null){var r=tl(e);if(r!==null){if(e=r.tag,e===13){if(e=OA(r),e!==null){t.blockedOn=e,WA(t.priority,function(){jA(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function up(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=px(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);lx=n,r.target.dispatchEvent(n),lx=null}else return e=Jh(r),e!==null&&w_(e),t.blockedOn=r,!1;e.shift()}return!0}function tE(t,e,r){up(t)&&r.delete(e)}function UO(){dx=!1,ko!==null&&up(ko)&&(ko=null),Do!==null&&up(Do)&&(Do=null),Oo!==null&&up(Oo)&&(Oo=null),xh.forEach(tE),_h.forEach(tE)}function xc(t,e){t.blockedOn===e&&(t.blockedOn=null,dx||(dx=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,UO)))}function bh(t){function e(i){return xc(i,t)}if(0<fd.length){xc(fd[0],t);for(var r=1;r<fd.length;r++){var n=fd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ko!==null&&xc(ko,t),Do!==null&&xc(Do,t),Oo!==null&&xc(Oo,t),xh.forEach(e),_h.forEach(e),r=0;r<Eo.length;r++)n=Eo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Eo.length&&(r=Eo[0],r.blockedOn===null);)$A(r),r.blockedOn===null&&Eo.shift()}var lu=eo.ReactCurrentBatchConfig,Op=!0;function zO(t,e,r,n){var i=yt,s=lu.transition;lu.transition=null;try{yt=1,S_(t,e,r,n)}finally{yt=i,lu.transition=s}}function HO(t,e,r,n){var i=yt,s=lu.transition;lu.transition=null;try{yt=4,S_(t,e,r,n)}finally{yt=i,lu.transition=s}}function S_(t,e,r,n){if(Op){var i=px(t,e,r,n);if(i===null)tv(t,e,n,Bp,r),eE(t,n);else if(LO(i,t,e,r,n))n.stopPropagation();else if(eE(t,n),e&4&&-1<FO.indexOf(t)){for(;i!==null;){var s=Jh(i);if(s!==null&&VA(s),s=px(t,e,r,n),s===null&&tv(t,e,n,Bp,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else tv(t,e,n,null,r)}}var Bp=null;function px(t,e,r,n){if(Bp=null,t=x_(n),t=Ma(t),t!==null)if(e=tl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=OA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bp=t,null}function XA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AO()){case __:return 1;case LA:return 4;case kp:case RO:return 16;case UA:return 536870912;default:return 16}default:return 16}}var Po=null,E_=null,cp=null;function YA(){if(cp)return cp;var t,e=E_,r=e.length,n,i="value"in Po?Po.value:Po.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return cp=i.slice(t,1<n?1-n:void 0)}function hp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dd(){return!0}function rE(){return!1}function Vn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dd:rE,this.isPropagationStopped=rE,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),e}var Lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T_=Vn(Lu),Zh=Gt({},Lu,{view:0,detail:0}),VO=Vn(Zh),$g,Xg,_c,B0=Gt({},Zh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_c&&(_c&&t.type==="mousemove"?($g=t.screenX-_c.screenX,Xg=t.screenY-_c.screenY):Xg=$g=0,_c=t),$g)},movementY:function(t){return"movementY"in t?t.movementY:Xg}}),nE=Vn(B0),jO=Gt({},B0,{dataTransfer:0}),GO=Vn(jO),WO=Gt({},Zh,{relatedTarget:0}),Yg=Vn(WO),$O=Gt({},Lu,{animationName:0,elapsedTime:0,pseudoElement:0}),XO=Vn($O),YO=Gt({},Lu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qO=Vn(YO),KO=Gt({},Lu,{data:0}),iE=Vn(KO),QO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JO[t])?!!e[t]:!1}function C_(){return eB}var tB=Gt({},Zh,{key:function(t){if(t.key){var e=QO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C_,charCode:function(t){return t.type==="keypress"?hp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rB=Vn(tB),nB=Gt({},B0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sE=Vn(nB),iB=Gt({},Zh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C_}),sB=Vn(iB),oB=Gt({},Lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),aB=Vn(oB),lB=Gt({},B0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uB=Vn(lB),cB=[9,13,27,32],P_=Xs&&"CompositionEvent"in window,Kc=null;Xs&&"documentMode"in document&&(Kc=document.documentMode);var hB=Xs&&"TextEvent"in window&&!Kc,qA=Xs&&(!P_||Kc&&8<Kc&&11>=Kc),oE=String.fromCharCode(32),aE=!1;function KA(t,e){switch(t){case"keyup":return cB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ul=!1;function fB(t,e){switch(t){case"compositionend":return QA(e);case"keypress":return e.which!==32?null:(aE=!0,oE);case"textInput":return t=e.data,t===oE&&aE?null:t;default:return null}}function dB(t,e){if(Ul)return t==="compositionend"||!P_&&KA(t,e)?(t=YA(),cp=E_=Po=null,Ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qA&&e.locale!=="ko"?null:e.data;default:return null}}var pB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pB[t.type]:e==="textarea"}function ZA(t,e,r,n){RA(n),e=Np(e,"onChange"),0<e.length&&(r=new T_("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Qc=null,wh=null;function mB(t){uR(t,0)}function N0(t){var e=Vl(t);if(wA(e))return t}function gB(t,e){if(t==="change")return e}var JA=!1;if(Xs){var qg;if(Xs){var Kg="oninput"in document;if(!Kg){var uE=document.createElement("div");uE.setAttribute("oninput","return;"),Kg=typeof uE.oninput=="function"}qg=Kg}else qg=!1;JA=qg&&(!document.documentMode||9<document.documentMode)}function cE(){Qc&&(Qc.detachEvent("onpropertychange",eR),wh=Qc=null)}function eR(t){if(t.propertyName==="value"&&N0(wh)){var e=[];ZA(e,wh,t,x_(t)),DA(mB,e)}}function vB(t,e,r){t==="focusin"?(cE(),Qc=e,wh=r,Qc.attachEvent("onpropertychange",eR)):t==="focusout"&&cE()}function yB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return N0(wh)}function xB(t,e){if(t==="click")return N0(e)}function _B(t,e){if(t==="input"||t==="change")return N0(e)}function bB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hi=typeof Object.is=="function"?Object.is:bB;function Sh(t,e){if(Hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ky.call(e,i)||!Hi(t[i],e[i]))return!1}return!0}function hE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fE(t,e){var r=hE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hE(r)}}function tR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rR(){for(var t=window,e=Rp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Rp(t.document)}return e}function A_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wB(t){var e=rR(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&tR(r.ownerDocument.documentElement,r)){if(n!==null&&A_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=fE(r,s);var o=fE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SB=Xs&&"documentMode"in document&&11>=document.documentMode,zl=null,mx=null,Zc=null,gx=!1;function dE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gx||zl==null||zl!==Rp(n)||(n=zl,"selectionStart"in n&&A_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zc&&Sh(Zc,n)||(Zc=n,n=Np(mx,"onSelect"),0<n.length&&(e=new T_("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=zl)))}function pd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Hl={animationend:pd("Animation","AnimationEnd"),animationiteration:pd("Animation","AnimationIteration"),animationstart:pd("Animation","AnimationStart"),transitionend:pd("Transition","TransitionEnd")},Qg={},nR={};Xs&&(nR=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function F0(t){if(Qg[t])return Qg[t];if(!Hl[t])return t;var e=Hl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in nR)return Qg[t]=e[r];return t}var iR=F0("animationend"),sR=F0("animationiteration"),oR=F0("animationstart"),aR=F0("transitionend"),lR=new Map,pE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zo(t,e){lR.set(t,e),el(e,[t])}for(var Zg=0;Zg<pE.length;Zg++){var Jg=pE[Zg],EB=Jg.toLowerCase(),TB=Jg[0].toUpperCase()+Jg.slice(1);Zo(EB,"on"+TB)}Zo(iR,"onAnimationEnd");Zo(sR,"onAnimationIteration");Zo(oR,"onAnimationStart");Zo("dblclick","onDoubleClick");Zo("focusin","onFocus");Zo("focusout","onBlur");Zo(aR,"onTransitionEnd");_u("onMouseEnter",["mouseout","mouseover"]);_u("onMouseLeave",["mouseout","mouseover"]);_u("onPointerEnter",["pointerout","pointerover"]);_u("onPointerLeave",["pointerout","pointerover"]);el("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));el("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));el("onBeforeInput",["compositionend","keypress","textInput","paste"]);el("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));el("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));el("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CB=new Set("cancel close invalid load scroll toggle".split(" ").concat(zc));function mE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,EO(n,e,void 0,t),t.currentTarget=null}function uR(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;mE(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;mE(i,a,u),s=l}}}if(Mp)throw t=hx,Mp=!1,hx=null,t}function Tt(t,e){var r=e[bx];r===void 0&&(r=e[bx]=new Set);var n=t+"__bubble";r.has(n)||(cR(e,t,2,!1),r.add(n))}function ev(t,e,r){var n=0;e&&(n|=4),cR(r,t,n,e)}var md="_reactListening"+Math.random().toString(36).slice(2);function Eh(t){if(!t[md]){t[md]=!0,vA.forEach(function(r){r!=="selectionchange"&&(CB.has(r)||ev(r,!1,t),ev(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[md]||(e[md]=!0,ev("selectionchange",!1,e))}}function cR(t,e,r,n){switch(XA(e)){case 1:var i=zO;break;case 4:i=HO;break;default:i=S_}r=i.bind(null,e,r,t),i=void 0,!cx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function tv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ma(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}DA(function(){var u=s,f=x_(r),p=[];e:{var d=lR.get(t);if(d!==void 0){var g=T_,m=t;switch(t){case"keypress":if(hp(r)===0)break e;case"keydown":case"keyup":g=rB;break;case"focusin":m="focus",g=Yg;break;case"focusout":m="blur",g=Yg;break;case"beforeblur":case"afterblur":g=Yg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=nE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=GO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=sB;break;case iR:case sR:case oR:g=XO;break;case aR:g=aB;break;case"scroll":g=VO;break;case"wheel":g=uB;break;case"copy":case"cut":case"paste":g=qO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sE}var _=(e&4)!==0,S=!_&&t==="scroll",T=_?d!==null?d+"Capture":null:d;_=[];for(var b=u,y;b!==null;){y=b;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,T!==null&&(x=yh(b,T),x!=null&&_.push(Th(b,x,y)))),S)break;b=b.return}0<_.length&&(d=new g(d,m,null,r,f),p.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&r!==lx&&(m=r.relatedTarget||r.fromElement)&&(Ma(m)||m[Ys]))break e;if((g||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=u,m=m?Ma(m):null,m!==null&&(S=tl(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(_=nE,x="onMouseLeave",T="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(_=sE,x="onPointerLeave",T="onPointerEnter",b="pointer"),S=g==null?d:Vl(g),y=m==null?d:Vl(m),d=new _(x,b+"leave",g,r,f),d.target=S,d.relatedTarget=y,x=null,Ma(f)===u&&(_=new _(T,b+"enter",m,r,f),_.target=y,_.relatedTarget=S,x=_),S=x,g&&m)t:{for(_=g,T=m,b=0,y=_;y;y=El(y))b++;for(y=0,x=T;x;x=El(x))y++;for(;0<b-y;)_=El(_),b--;for(;0<y-b;)T=El(T),y--;for(;b--;){if(_===T||T!==null&&_===T.alternate)break t;_=El(_),T=El(T)}_=null}else _=null;g!==null&&gE(p,d,g,_,!1),m!==null&&S!==null&&gE(p,S,m,_,!0)}}e:{if(d=u?Vl(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var C=gB;else if(lE(d))if(JA)C=_B;else{C=yB;var M=vB}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=xB);if(C&&(C=C(t,u))){ZA(p,C,r,f);break e}M&&M(t,d,u),t==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&nx(d,"number",d.value)}switch(M=u?Vl(u):window,t){case"focusin":(lE(M)||M.contentEditable==="true")&&(zl=M,mx=u,Zc=null);break;case"focusout":Zc=mx=zl=null;break;case"mousedown":gx=!0;break;case"contextmenu":case"mouseup":case"dragend":gx=!1,dE(p,r,f);break;case"selectionchange":if(SB)break;case"keydown":case"keyup":dE(p,r,f)}var I;if(P_)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ul?KA(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(qA&&r.locale!=="ko"&&(Ul||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ul&&(I=YA()):(Po=f,E_="value"in Po?Po.value:Po.textContent,Ul=!0)),M=Np(u,A),0<M.length&&(A=new iE(A,t,null,r,f),p.push({event:A,listeners:M}),I?A.data=I:(I=QA(r),I!==null&&(A.data=I)))),(I=hB?fB(t,r):dB(t,r))&&(u=Np(u,"onBeforeInput"),0<u.length&&(f=new iE("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:u}),f.data=I))}uR(p,e)})}function Th(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Np(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yh(t,r),s!=null&&n.unshift(Th(t,s,i)),s=yh(t,e),s!=null&&n.push(Th(t,s,i))),t=t.return}return n}function El(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gE(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=yh(r,s),l!=null&&o.unshift(Th(r,l,a))):i||(l=yh(r,s),l!=null&&o.push(Th(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var PB=/\r\n?/g,AB=/\u0000|\uFFFD/g;function vE(t){return(typeof t=="string"?t:""+t).replace(PB,`
`).replace(AB,"")}function gd(t,e,r){if(e=vE(e),vE(t)!==e&&r)throw Error(le(425))}function Fp(){}var vx=null,yx=null;function xx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _x=typeof setTimeout=="function"?setTimeout:void 0,RB=typeof clearTimeout=="function"?clearTimeout:void 0,yE=typeof Promise=="function"?Promise:void 0,IB=typeof queueMicrotask=="function"?queueMicrotask:typeof yE<"u"?function(t){return yE.resolve(null).then(t).catch(MB)}:_x;function MB(t){setTimeout(function(){throw t})}function rv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),bh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);bh(e)}function Bo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Uu=Math.random().toString(36).slice(2),cs="__reactFiber$"+Uu,Ch="__reactProps$"+Uu,Ys="__reactContainer$"+Uu,bx="__reactEvents$"+Uu,kB="__reactListeners$"+Uu,DB="__reactHandles$"+Uu;function Ma(t){var e=t[cs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ys]||r[cs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=xE(t);t!==null;){if(r=t[cs])return r;t=xE(t)}return e}t=r,r=t.parentNode}return null}function Jh(t){return t=t[cs]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function L0(t){return t[Ch]||null}var wx=[],jl=-1;function Jo(t){return{current:t}}function Pt(t){0>jl||(t.current=wx[jl],wx[jl]=null,jl--)}function bt(t,e){jl++,wx[jl]=t.current,t.current=e}var Go={},en=Jo(Go),_n=Jo(!1),Ga=Go;function bu(t,e){var r=t.type.contextTypes;if(!r)return Go;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function Lp(){Pt(_n),Pt(en)}function _E(t,e,r){if(en.current!==Go)throw Error(le(168));bt(en,e),bt(_n,r)}function hR(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(le(108,vO(t)||"Unknown",i));return Gt({},r,n)}function Up(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Go,Ga=en.current,bt(en,t),bt(_n,_n.current),!0}function bE(t,e,r){var n=t.stateNode;if(!n)throw Error(le(169));r?(t=hR(t,e,Ga),n.__reactInternalMemoizedMergedChildContext=t,Pt(_n),Pt(en),bt(en,t)):Pt(_n),bt(_n,r)}var Ds=null,U0=!1,nv=!1;function fR(t){Ds===null?Ds=[t]:Ds.push(t)}function OB(t){U0=!0,fR(t)}function ea(){if(!nv&&Ds!==null){nv=!0;var t=0,e=yt;try{var r=Ds;for(yt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ds=null,U0=!1}catch(i){throw Ds!==null&&(Ds=Ds.slice(t+1)),FA(__,ea),i}finally{yt=e,nv=!1}}return null}var Gl=[],Wl=0,zp=null,Hp=0,ri=[],ni=0,Wa=null,Bs=1,Ns="";function ba(t,e){Gl[Wl++]=Hp,Gl[Wl++]=zp,zp=t,Hp=e}function dR(t,e,r){ri[ni++]=Bs,ri[ni++]=Ns,ri[ni++]=Wa,Wa=t;var n=Bs;t=Ns;var i=32-Bi(n)-1;n&=~(1<<i),r+=1;var s=32-Bi(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Bs=1<<32-Bi(e)+i|r<<i|n,Ns=s+t}else Bs=1<<s|r<<i|n,Ns=t}function R_(t){t.return!==null&&(ba(t,1),dR(t,1,0))}function I_(t){for(;t===zp;)zp=Gl[--Wl],Gl[Wl]=null,Hp=Gl[--Wl],Gl[Wl]=null;for(;t===Wa;)Wa=ri[--ni],ri[ni]=null,Ns=ri[--ni],ri[ni]=null,Bs=ri[--ni],ri[ni]=null}var Fn=null,Bn=null,Dt=!1,Ri=null;function pR(t,e){var r=ii(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function wE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,Bn=Bo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Wa!==null?{id:Bs,overflow:Ns}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ii(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Fn=t,Bn=null,!0):!1;default:return!1}}function Sx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ex(t){if(Dt){var e=Bn;if(e){var r=e;if(!wE(t,e)){if(Sx(t))throw Error(le(418));e=Bo(r.nextSibling);var n=Fn;e&&wE(t,e)?pR(n,r):(t.flags=t.flags&-4097|2,Dt=!1,Fn=t)}}else{if(Sx(t))throw Error(le(418));t.flags=t.flags&-4097|2,Dt=!1,Fn=t}}}function SE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function vd(t){if(t!==Fn)return!1;if(!Dt)return SE(t),Dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xx(t.type,t.memoizedProps)),e&&(e=Bn)){if(Sx(t))throw mR(),Error(le(418));for(;e;)pR(t,e),e=Bo(e.nextSibling)}if(SE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Bn=Bo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=Fn?Bo(t.stateNode.nextSibling):null;return!0}function mR(){for(var t=Bn;t;)t=Bo(t.nextSibling)}function wu(){Bn=Fn=null,Dt=!1}function M_(t){Ri===null?Ri=[t]:Ri.push(t)}var BB=eo.ReactCurrentBatchConfig;function Ei(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Vp=Jo(null),jp=null,$l=null,k_=null;function D_(){k_=$l=jp=null}function O_(t){var e=Vp.current;Pt(Vp),t._currentValue=e}function Tx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function uu(t,e){jp=t,k_=$l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function li(t){var e=t._currentValue;if(k_!==t)if(t={context:t,memoizedValue:e,next:null},$l===null){if(jp===null)throw Error(le(308));$l=t,jp.dependencies={lanes:0,firstContext:t}}else $l=$l.next=t;return e}var ka=null;function B_(t){ka===null?ka=[t]:ka.push(t)}function gR(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,B_(e)):(r.next=i.next,i.next=r),e.interleaved=r,qs(t,n)}function qs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bo=!1;function N_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function No(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,lt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,qs(t,r)}return i=n.interleaved,i===null?(e.next=e,B_(n)):(e.next=i.next,i.next=e),n.interleaved=e,qs(t,r)}function fp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,b_(t,r)}}function EE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Gp(t,e,r,n){var i=t.updateQueue;bo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,f=u=l=null,a=s;do{var d=a.lane,g=a.eventTime;if((n&d)===d){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(d=e,g=r,_.tag){case 1:if(m=_.payload,typeof m=="function"){p=m.call(g,p,d);break e}p=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,d=typeof m=="function"?m.call(g,p,d):m,d==null)break e;p=Gt({},p,d);break e;case 2:bo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=g,l=p):f=f.next=g,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xa|=o,t.lanes=o,t.memoizedState=p}}function TE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(le(191,i));i.call(n)}}}var yR=new gA.Component().refs;function Cx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Gt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var z0={isMounted:function(t){return(t=t._reactInternals)?tl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cn(),i=Lo(t),s=Hs(n,i);s.payload=e,r!=null&&(s.callback=r),e=No(t,s,i),e!==null&&(Ni(e,t,i,n),fp(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cn(),i=Lo(t),s=Hs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=No(t,s,i),e!==null&&(Ni(e,t,i,n),fp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cn(),n=Lo(t),i=Hs(r,n);i.tag=2,e!=null&&(i.callback=e),e=No(t,i,n),e!==null&&(Ni(e,t,n,r),fp(e,t,n))}};function CE(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sh(r,n)||!Sh(i,s):!0}function xR(t,e,r){var n=!1,i=Go,s=e.contextType;return typeof s=="object"&&s!==null?s=li(s):(i=bn(e)?Ga:en.current,n=e.contextTypes,s=(n=n!=null)?bu(t,i):Go),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function PE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&z0.enqueueReplaceState(e,e.state,null)}function Px(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=yR,N_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=li(s):(s=bn(e)?Ga:en.current,i.context=bu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cx(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&z0.enqueueReplaceState(i,i.state,null),Gp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===yR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,t))}return t}function yd(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AE(t){var e=t._init;return e(t._payload)}function _R(t){function e(T,b){if(t){var y=T.deletions;y===null?(T.deletions=[b],T.flags|=16):y.push(b)}}function r(T,b){if(!t)return null;for(;b!==null;)e(T,b),b=b.sibling;return null}function n(T,b){for(T=new Map;b!==null;)b.key!==null?T.set(b.key,b):T.set(b.index,b),b=b.sibling;return T}function i(T,b){return T=Uo(T,b),T.index=0,T.sibling=null,T}function s(T,b,y){return T.index=y,t?(y=T.alternate,y!==null?(y=y.index,y<b?(T.flags|=2,b):y):(T.flags|=2,b)):(T.flags|=1048576,b)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,b,y,x){return b===null||b.tag!==6?(b=cv(y,T.mode,x),b.return=T,b):(b=i(b,y),b.return=T,b)}function l(T,b,y,x){var C=y.type;return C===Ll?f(T,b,y.props.children,x,y.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===_o&&AE(C)===b.type)?(x=i(b,y.props),x.ref=bc(T,b,y),x.return=T,x):(x=yp(y.type,y.key,y.props,null,T.mode,x),x.ref=bc(T,b,y),x.return=T,x)}function u(T,b,y,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=hv(y,T.mode,x),b.return=T,b):(b=i(b,y.children||[]),b.return=T,b)}function f(T,b,y,x,C){return b===null||b.tag!==7?(b=La(y,T.mode,x,C),b.return=T,b):(b=i(b,y),b.return=T,b)}function p(T,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=cv(""+b,T.mode,y),b.return=T,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ad:return y=yp(b.type,b.key,b.props,null,T.mode,y),y.ref=bc(T,null,b),y.return=T,y;case Fl:return b=hv(b,T.mode,y),b.return=T,b;case _o:var x=b._init;return p(T,x(b._payload),y)}if(Lc(b)||gc(b))return b=La(b,T.mode,y,null),b.return=T,b;yd(T,b)}return null}function d(T,b,y,x){var C=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(T,b,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ad:return y.key===C?l(T,b,y,x):null;case Fl:return y.key===C?u(T,b,y,x):null;case _o:return C=y._init,d(T,b,C(y._payload),x)}if(Lc(y)||gc(y))return C!==null?null:f(T,b,y,x,null);yd(T,y)}return null}function g(T,b,y,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return T=T.get(y)||null,a(b,T,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ad:return T=T.get(x.key===null?y:x.key)||null,l(b,T,x,C);case Fl:return T=T.get(x.key===null?y:x.key)||null,u(b,T,x,C);case _o:var M=x._init;return g(T,b,y,M(x._payload),C)}if(Lc(x)||gc(x))return T=T.get(y)||null,f(b,T,x,C,null);yd(b,x)}return null}function m(T,b,y,x){for(var C=null,M=null,I=b,A=b=0,D=null;I!==null&&A<y.length;A++){I.index>A?(D=I,I=null):D=I.sibling;var R=d(T,I,y[A],x);if(R===null){I===null&&(I=D);break}t&&I&&R.alternate===null&&e(T,I),b=s(R,b,A),M===null?C=R:M.sibling=R,M=R,I=D}if(A===y.length)return r(T,I),Dt&&ba(T,A),C;if(I===null){for(;A<y.length;A++)I=p(T,y[A],x),I!==null&&(b=s(I,b,A),M===null?C=I:M.sibling=I,M=I);return Dt&&ba(T,A),C}for(I=n(T,I);A<y.length;A++)D=g(I,T,A,y[A],x),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?A:D.key),b=s(D,b,A),M===null?C=D:M.sibling=D,M=D);return t&&I.forEach(function(k){return e(T,k)}),Dt&&ba(T,A),C}function _(T,b,y,x){var C=gc(y);if(typeof C!="function")throw Error(le(150));if(y=C.call(y),y==null)throw Error(le(151));for(var M=C=null,I=b,A=b=0,D=null,R=y.next();I!==null&&!R.done;A++,R=y.next()){I.index>A?(D=I,I=null):D=I.sibling;var k=d(T,I,R.value,x);if(k===null){I===null&&(I=D);break}t&&I&&k.alternate===null&&e(T,I),b=s(k,b,A),M===null?C=k:M.sibling=k,M=k,I=D}if(R.done)return r(T,I),Dt&&ba(T,A),C;if(I===null){for(;!R.done;A++,R=y.next())R=p(T,R.value,x),R!==null&&(b=s(R,b,A),M===null?C=R:M.sibling=R,M=R);return Dt&&ba(T,A),C}for(I=n(T,I);!R.done;A++,R=y.next())R=g(I,T,A,R.value,x),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?A:R.key),b=s(R,b,A),M===null?C=R:M.sibling=R,M=R);return t&&I.forEach(function(O){return e(T,O)}),Dt&&ba(T,A),C}function S(T,b,y,x){if(typeof y=="object"&&y!==null&&y.type===Ll&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ad:e:{for(var C=y.key,M=b;M!==null;){if(M.key===C){if(C=y.type,C===Ll){if(M.tag===7){r(T,M.sibling),b=i(M,y.props.children),b.return=T,T=b;break e}}else if(M.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===_o&&AE(C)===M.type){r(T,M.sibling),b=i(M,y.props),b.ref=bc(T,M,y),b.return=T,T=b;break e}r(T,M);break}else e(T,M);M=M.sibling}y.type===Ll?(b=La(y.props.children,T.mode,x,y.key),b.return=T,T=b):(x=yp(y.type,y.key,y.props,null,T.mode,x),x.ref=bc(T,b,y),x.return=T,T=x)}return o(T);case Fl:e:{for(M=y.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(T,b.sibling),b=i(b,y.children||[]),b.return=T,T=b;break e}else{r(T,b);break}else e(T,b);b=b.sibling}b=hv(y,T.mode,x),b.return=T,T=b}return o(T);case _o:return M=y._init,S(T,b,M(y._payload),x)}if(Lc(y))return m(T,b,y,x);if(gc(y))return _(T,b,y,x);yd(T,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(T,b.sibling),b=i(b,y),b.return=T,T=b):(r(T,b),b=cv(y,T.mode,x),b.return=T,T=b),o(T)):r(T,b)}return S}var Su=_R(!0),bR=_R(!1),ef={},ds=Jo(ef),Ph=Jo(ef),Ah=Jo(ef);function Da(t){if(t===ef)throw Error(le(174));return t}function F_(t,e){switch(bt(Ah,e),bt(Ph,t),bt(ds,ef),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sx(e,t)}Pt(ds),bt(ds,e)}function Eu(){Pt(ds),Pt(Ph),Pt(Ah)}function wR(t){Da(Ah.current);var e=Da(ds.current),r=sx(e,t.type);e!==r&&(bt(Ph,t),bt(ds,r))}function L_(t){Ph.current===t&&(Pt(ds),Pt(Ph))}var Ut=Jo(0);function Wp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iv=[];function U_(){for(var t=0;t<iv.length;t++)iv[t]._workInProgressVersionPrimary=null;iv.length=0}var dp=eo.ReactCurrentDispatcher,sv=eo.ReactCurrentBatchConfig,$a=0,jt=null,mr=null,Cr=null,$p=!1,Jc=!1,Rh=0,NB=0;function Wr(){throw Error(le(321))}function z_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Hi(t[r],e[r]))return!1;return!0}function H_(t,e,r,n,i,s){if($a=s,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dp.current=t===null||t.memoizedState===null?zB:HB,t=r(n,i),Jc){s=0;do{if(Jc=!1,Rh=0,25<=s)throw Error(le(301));s+=1,Cr=mr=null,e.updateQueue=null,dp.current=VB,t=r(n,i)}while(Jc)}if(dp.current=Xp,e=mr!==null&&mr.next!==null,$a=0,Cr=mr=jt=null,$p=!1,e)throw Error(le(300));return t}function V_(){var t=Rh!==0;return Rh=0,t}function os(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?jt.memoizedState=Cr=t:Cr=Cr.next=t,Cr}function ui(){if(mr===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=mr.next;var e=Cr===null?jt.memoizedState:Cr.next;if(e!==null)Cr=e,mr=t;else{if(t===null)throw Error(le(310));mr=t,t={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},Cr===null?jt.memoizedState=Cr=t:Cr=Cr.next=t}return Cr}function Ih(t,e){return typeof e=="function"?e(t):e}function ov(t){var e=ui(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=mr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if(($a&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=n):l=l.next=p,jt.lanes|=f,Xa|=f}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Hi(n,e.memoizedState)||(xn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,jt.lanes|=s,Xa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function av(t){var e=ui(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hi(s,e.memoizedState)||(xn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function SR(){}function ER(t,e){var r=jt,n=ui(),i=e(),s=!Hi(n.memoizedState,i);if(s&&(n.memoizedState=i,xn=!0),n=n.queue,j_(PR.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Cr!==null&&Cr.memoizedState.tag&1){if(r.flags|=2048,Mh(9,CR.bind(null,r,n,i,e),void 0,null),Rr===null)throw Error(le(349));$a&30||TR(r,e,i)}return i}function TR(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function CR(t,e,r,n){e.value=r,e.getSnapshot=n,AR(e)&&RR(t)}function PR(t,e,r){return r(function(){AR(e)&&RR(t)})}function AR(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Hi(t,r)}catch{return!0}}function RR(t){var e=qs(t,1);e!==null&&Ni(e,t,1,-1)}function RE(t){var e=os();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:t},e.queue=t,t=t.dispatch=UB.bind(null,jt,t),[e.memoizedState,t]}function Mh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function IR(){return ui().memoizedState}function pp(t,e,r,n){var i=os();jt.flags|=t,i.memoizedState=Mh(1|e,r,void 0,n===void 0?null:n)}function H0(t,e,r,n){var i=ui();n=n===void 0?null:n;var s=void 0;if(mr!==null){var o=mr.memoizedState;if(s=o.destroy,n!==null&&z_(n,o.deps)){i.memoizedState=Mh(e,r,s,n);return}}jt.flags|=t,i.memoizedState=Mh(1|e,r,s,n)}function IE(t,e){return pp(8390656,8,t,e)}function j_(t,e){return H0(2048,8,t,e)}function MR(t,e){return H0(4,2,t,e)}function kR(t,e){return H0(4,4,t,e)}function DR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OR(t,e,r){return r=r!=null?r.concat([t]):null,H0(4,4,DR.bind(null,e,t),r)}function G_(){}function BR(t,e){var r=ui();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&z_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function NR(t,e){var r=ui();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&z_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function FR(t,e,r){return $a&21?(Hi(r,e)||(r=zA(),jt.lanes|=r,Xa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=r)}function FB(t,e){var r=yt;yt=r!==0&&4>r?r:4,t(!0);var n=sv.transition;sv.transition={};try{t(!1),e()}finally{yt=r,sv.transition=n}}function LR(){return ui().memoizedState}function LB(t,e,r){var n=Lo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},UR(t))zR(e,r);else if(r=gR(t,e,r,n),r!==null){var i=cn();Ni(r,t,n,i),HR(r,e,n)}}function UB(t,e,r){var n=Lo(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(UR(t))zR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Hi(a,o)){var l=e.interleaved;l===null?(i.next=i,B_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=gR(t,e,i,n),r!==null&&(i=cn(),Ni(r,t,n,i),HR(r,e,n))}}function UR(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function zR(t,e){Jc=$p=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function HR(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,b_(t,r)}}var Xp={readContext:li,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},zB={readContext:li,useCallback:function(t,e){return os().memoizedState=[t,e===void 0?null:e],t},useContext:li,useEffect:IE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,pp(4194308,4,DR.bind(null,e,t),r)},useLayoutEffect:function(t,e){return pp(4194308,4,t,e)},useInsertionEffect:function(t,e){return pp(4,2,t,e)},useMemo:function(t,e){var r=os();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=os();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=LB.bind(null,jt,t),[n.memoizedState,t]},useRef:function(t){var e=os();return t={current:t},e.memoizedState=t},useState:RE,useDebugValue:G_,useDeferredValue:function(t){return os().memoizedState=t},useTransition:function(){var t=RE(!1),e=t[0];return t=FB.bind(null,t[1]),os().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=jt,i=os();if(Dt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=e(),Rr===null)throw Error(le(349));$a&30||TR(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,IE(PR.bind(null,n,s,t),[t]),n.flags|=2048,Mh(9,CR.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=os(),e=Rr.identifierPrefix;if(Dt){var r=Ns,n=Bs;r=(n&~(1<<32-Bi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Rh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=NB++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HB={readContext:li,useCallback:BR,useContext:li,useEffect:j_,useImperativeHandle:OR,useInsertionEffect:MR,useLayoutEffect:kR,useMemo:NR,useReducer:ov,useRef:IR,useState:function(){return ov(Ih)},useDebugValue:G_,useDeferredValue:function(t){var e=ui();return FR(e,mr.memoizedState,t)},useTransition:function(){var t=ov(Ih)[0],e=ui().memoizedState;return[t,e]},useMutableSource:SR,useSyncExternalStore:ER,useId:LR,unstable_isNewReconciler:!1},VB={readContext:li,useCallback:BR,useContext:li,useEffect:j_,useImperativeHandle:OR,useInsertionEffect:MR,useLayoutEffect:kR,useMemo:NR,useReducer:av,useRef:IR,useState:function(){return av(Ih)},useDebugValue:G_,useDeferredValue:function(t){var e=ui();return mr===null?e.memoizedState=t:FR(e,mr.memoizedState,t)},useTransition:function(){var t=av(Ih)[0],e=ui().memoizedState;return[t,e]},useMutableSource:SR,useSyncExternalStore:ER,useId:LR,unstable_isNewReconciler:!1};function Tu(t,e){try{var r="",n=e;do r+=gO(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function lv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ax(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jB=typeof WeakMap=="function"?WeakMap:Map;function VR(t,e,r){r=Hs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){qp||(qp=!0,Lx=n),Ax(t,e)},r}function jR(t,e,r){r=Hs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Ax(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Ax(t,e),typeof n!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function ME(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jB;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=nN.bind(null,t,e,r),e.then(t,t))}function kE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function DE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Hs(-1,1),e.tag=2,No(r,e,1))),r.lanes|=1),t)}var GB=eo.ReactCurrentOwner,xn=!1;function un(t,e,r,n){e.child=t===null?bR(e,null,r,n):Su(e,t.child,r,n)}function OE(t,e,r,n,i){r=r.render;var s=e.ref;return uu(e,i),n=H_(t,e,r,n,s,i),r=V_(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ks(t,e,i)):(Dt&&r&&R_(e),e.flags|=1,un(t,e,n,i),e.child)}function BE(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Z_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,GR(t,e,s,n,i)):(t=yp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Sh,r(o,n)&&t.ref===e.ref)return Ks(t,e,i)}return e.flags|=1,t=Uo(s,n),t.ref=e.ref,t.return=e,e.child=t}function GR(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Sh(s,n)&&t.ref===e.ref)if(xn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,Ks(t,e,i)}return Rx(t,e,r,n,i)}function WR(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Yl,On),On|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bt(Yl,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,bt(Yl,On),On|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,bt(Yl,On),On|=n;return un(t,e,i,r),e.child}function $R(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Rx(t,e,r,n,i){var s=bn(r)?Ga:en.current;return s=bu(e,s),uu(e,i),r=H_(t,e,r,n,s,i),n=V_(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ks(t,e,i)):(Dt&&n&&R_(e),e.flags|=1,un(t,e,r,i),e.child)}function NE(t,e,r,n,i){if(bn(r)){var s=!0;Up(e)}else s=!1;if(uu(e,i),e.stateNode===null)mp(t,e),xR(e,r,n),Px(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=li(u):(u=bn(r)?Ga:en.current,u=bu(e,u));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&PE(e,o,n,u),bo=!1;var d=e.memoizedState;o.state=d,Gp(e,n,o,i),l=e.memoizedState,a!==n||d!==l||_n.current||bo?(typeof f=="function"&&(Cx(e,r,f,n),l=e.memoizedState),(a=bo||CE(e,r,a,n,d,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,vR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ei(e.type,a),o.props=u,p=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=li(l):(l=bn(r)?Ga:en.current,l=bu(e,l));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||d!==l)&&PE(e,o,n,l),bo=!1,d=e.memoizedState,o.state=d,Gp(e,n,o,i);var m=e.memoizedState;a!==p||d!==m||_n.current||bo?(typeof g=="function"&&(Cx(e,r,g,n),m=e.memoizedState),(u=bo||CE(e,r,u,n,d,m,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Ix(t,e,r,n,s,i)}function Ix(t,e,r,n,i,s){$R(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&bE(e,r,!1),Ks(t,e,s);n=e.stateNode,GB.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Su(e,t.child,null,s),e.child=Su(e,null,a,s)):un(t,e,a,s),e.memoizedState=n.state,i&&bE(e,r,!0),e.child}function XR(t){var e=t.stateNode;e.pendingContext?_E(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_E(t,e.context,!1),F_(t,e.containerInfo)}function FE(t,e,r,n,i){return wu(),M_(i),e.flags|=256,un(t,e,r,n),e.child}var Mx={dehydrated:null,treeContext:null,retryLane:0};function kx(t){return{baseLanes:t,cachePool:null,transitions:null}}function YR(t,e,r){var n=e.pendingProps,i=Ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bt(Ut,i&1),t===null)return Ex(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=G0(o,n,0,null),t=La(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=kx(r),e.memoizedState=Mx,t):W_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return WB(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Uo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Uo(a,s):(s=La(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?kx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Mx,n}return s=t.child,t=s.sibling,n=Uo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function W_(t,e){return e=G0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xd(t,e,r,n){return n!==null&&M_(n),Su(e,t.child,null,r),t=W_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WB(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=lv(Error(le(422))),xd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=G0({mode:"visible",children:n.children},i,0,null),s=La(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Su(e,t.child,null,o),e.child.memoizedState=kx(o),e.memoizedState=Mx,s);if(!(e.mode&1))return xd(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(le(419)),n=lv(s,n,void 0),xd(t,e,o,n)}if(a=(o&t.childLanes)!==0,xn||a){if(n=Rr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qs(t,i),Ni(n,t,i,-1))}return Q_(),n=lv(Error(le(421))),xd(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bn=Bo(i.nextSibling),Fn=e,Dt=!0,Ri=null,t!==null&&(ri[ni++]=Bs,ri[ni++]=Ns,ri[ni++]=Wa,Bs=t.id,Ns=t.overflow,Wa=e),e=W_(e,n.children),e.flags|=4096,e)}function LE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Tx(t.return,e,r)}function uv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function qR(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(un(t,e,n.children,r),n=Ut.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&LE(t,r,e);else if(t.tag===19)LE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(bt(Ut,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Wp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),uv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}uv(e,!0,r,null,s);break;case"together":uv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ks(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Xa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,r=Uo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Uo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function $B(t,e,r){switch(e.tag){case 3:XR(e),wu();break;case 5:wR(e);break;case 1:bn(e.type)&&Up(e);break;case 4:F_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;bt(Vp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(bt(Ut,Ut.current&1),e.flags|=128,null):r&e.child.childLanes?YR(t,e,r):(bt(Ut,Ut.current&1),t=Ks(t,e,r),t!==null?t.sibling:null);bt(Ut,Ut.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return qR(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(Ut,Ut.current),n)break;return null;case 22:case 23:return e.lanes=0,WR(t,e,r)}return Ks(t,e,r)}var KR,Dx,QR,ZR;KR=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dx=function(){};QR=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Da(ds.current);var s=null;switch(r){case"input":i=tx(t,i),n=tx(t,n),s=[];break;case"select":i=Gt({},i,{value:void 0}),n=Gt({},n,{value:void 0}),s=[];break;case"textarea":i=ix(t,i),n=ix(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Fp)}ox(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Tt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ZR=function(t,e,r,n){r!==n&&(e.flags|=4)};function wc(t,e){if(!Dt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function $r(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function XB(t,e,r){var n=e.pendingProps;switch(I_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(e),null;case 1:return bn(e.type)&&Lp(),$r(e),null;case 3:return n=e.stateNode,Eu(),Pt(_n),Pt(en),U_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ri!==null&&(Hx(Ri),Ri=null))),Dx(t,e),$r(e),null;case 5:L_(e);var i=Da(Ah.current);if(r=e.type,t!==null&&e.stateNode!=null)QR(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(le(166));return $r(e),null}if(t=Da(ds.current),vd(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[cs]=e,n[Ch]=s,t=(e.mode&1)!==0,r){case"dialog":Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":case"embed":Tt("load",n);break;case"video":case"audio":for(i=0;i<zc.length;i++)Tt(zc[i],n);break;case"source":Tt("error",n);break;case"img":case"image":case"link":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"input":XS(n,s),Tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Tt("invalid",n);break;case"textarea":qS(n,s),Tt("invalid",n)}ox(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&gd(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gd(n.textContent,a,t),i=["children",""+a]):gh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Tt("scroll",n)}switch(r){case"input":ld(n),YS(n,s,!0);break;case"textarea":ld(n),KS(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Fp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TA(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[cs]=e,t[Ch]=n,KR(t,e,!1,!1),e.stateNode=t;e:{switch(o=ax(r,n),r){case"dialog":Tt("cancel",t),Tt("close",t),i=n;break;case"iframe":case"object":case"embed":Tt("load",t),i=n;break;case"video":case"audio":for(i=0;i<zc.length;i++)Tt(zc[i],t);i=n;break;case"source":Tt("error",t),i=n;break;case"img":case"image":case"link":Tt("error",t),Tt("load",t),i=n;break;case"details":Tt("toggle",t),i=n;break;case"input":XS(t,n),i=tx(t,n),Tt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Gt({},n,{value:void 0}),Tt("invalid",t);break;case"textarea":qS(t,n),i=ix(t,n),Tt("invalid",t);break;default:i=n}ox(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?AA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CA(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&vh(t,l):typeof l=="number"&&vh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Tt("scroll",t):l!=null&&m_(t,s,l,o))}switch(r){case"input":ld(t),YS(t,n,!1);break;case"textarea":ld(t),KS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+jo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?su(t,!!n.multiple,s,!1):n.defaultValue!=null&&su(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $r(e),null;case 6:if(t&&e.stateNode!=null)ZR(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(le(166));if(r=Da(Ah.current),Da(ds.current),vd(e)){if(n=e.stateNode,r=e.memoizedProps,n[cs]=e,(s=n.nodeValue!==r)&&(t=Fn,t!==null))switch(t.tag){case 3:gd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gd(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cs]=e,e.stateNode=n}return $r(e),null;case 13:if(Pt(Ut),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dt&&Bn!==null&&e.mode&1&&!(e.flags&128))mR(),wu(),e.flags|=98560,s=!1;else if(s=vd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[cs]=e}else wu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$r(e),s=!1}else Ri!==null&&(Hx(Ri),Ri=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?gr===0&&(gr=3):Q_())),e.updateQueue!==null&&(e.flags|=4),$r(e),null);case 4:return Eu(),Dx(t,e),t===null&&Eh(e.stateNode.containerInfo),$r(e),null;case 10:return O_(e.type._context),$r(e),null;case 17:return bn(e.type)&&Lp(),$r(e),null;case 19:if(Pt(Ut),s=e.memoizedState,s===null)return $r(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)wc(s,!1);else{if(gr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wp(t),o!==null){for(e.flags|=128,wc(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return bt(Ut,Ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&rr()>Cu&&(e.flags|=128,n=!0,wc(s,!1),e.lanes=4194304)}else{if(!n)if(t=Wp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),wc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Dt)return $r(e),null}else 2*rr()-s.renderingStartTime>Cu&&r!==1073741824&&(e.flags|=128,n=!0,wc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rr(),e.sibling=null,r=Ut.current,bt(Ut,n?r&1|2:r&1),e):($r(e),null);case 22:case 23:return K_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?On&1073741824&&($r(e),e.subtreeFlags&6&&(e.flags|=8192)):$r(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function YB(t,e){switch(I_(e),e.tag){case 1:return bn(e.type)&&Lp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Eu(),Pt(_n),Pt(en),U_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return L_(e),null;case 13:if(Pt(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));wu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(Ut),null;case 4:return Eu(),null;case 10:return O_(e.type._context),null;case 22:case 23:return K_(),null;case 24:return null;default:return null}}var _d=!1,Qr=!1,qB=typeof WeakSet=="function"?WeakSet:Set,be=null;function Xl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$t(t,e,n)}else r.current=null}function Ox(t,e,r){try{r()}catch(n){$t(t,e,n)}}var UE=!1;function KB(t,e){if(vx=Op,t=rR(),A_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,f=0,p=t,d=null;t:for(;;){for(var g;p!==r||i!==0&&p.nodeType!==3||(a=o+i),p!==s||n!==0&&p.nodeType!==3||(l=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(g=p.firstChild)!==null;)d=p,p=g;for(;;){if(p===t)break t;if(d===r&&++u===i&&(a=o),d===s&&++f===n&&(l=o),(g=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(yx={focusedElem:t,selectionRange:r},Op=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,S=m.memoizedState,T=e.stateNode,b=T.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ei(e.type,_),S);T.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(x){$t(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return m=UE,UE=!1,m}function eh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ox(e,r,s)}i=i.next}while(i!==n)}}function V0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Bx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function JR(t){var e=t.alternate;e!==null&&(t.alternate=null,JR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cs],delete e[Ch],delete e[bx],delete e[kB],delete e[DB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eI(t){return t.tag===5||t.tag===3||t.tag===4}function zE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Fp));else if(n!==4&&(t=t.child,t!==null))for(Nx(t,e,r),t=t.sibling;t!==null;)Nx(t,e,r),t=t.sibling}function Fx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Fx(t,e,r),t=t.sibling;t!==null;)Fx(t,e,r),t=t.sibling}var Dr=null,Pi=!1;function vo(t,e,r){for(r=r.child;r!==null;)tI(t,e,r),r=r.sibling}function tI(t,e,r){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(O0,r)}catch{}switch(r.tag){case 5:Qr||Xl(r,e);case 6:var n=Dr,i=Pi;Dr=null,vo(t,e,r),Dr=n,Pi=i,Dr!==null&&(Pi?(t=Dr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Dr.removeChild(r.stateNode));break;case 18:Dr!==null&&(Pi?(t=Dr,r=r.stateNode,t.nodeType===8?rv(t.parentNode,r):t.nodeType===1&&rv(t,r),bh(t)):rv(Dr,r.stateNode));break;case 4:n=Dr,i=Pi,Dr=r.stateNode.containerInfo,Pi=!0,vo(t,e,r),Dr=n,Pi=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ox(r,e,o),i=i.next}while(i!==n)}vo(t,e,r);break;case 1:if(!Qr&&(Xl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){$t(r,e,a)}vo(t,e,r);break;case 21:vo(t,e,r);break;case 22:r.mode&1?(Qr=(n=Qr)||r.memoizedState!==null,vo(t,e,r),Qr=n):vo(t,e,r);break;default:vo(t,e,r)}}function HE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new qB),e.forEach(function(n){var i=sN.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function yi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dr=a.stateNode,Pi=!1;break e;case 3:Dr=a.stateNode.containerInfo,Pi=!0;break e;case 4:Dr=a.stateNode.containerInfo,Pi=!0;break e}a=a.return}if(Dr===null)throw Error(le(160));tI(s,o,i),Dr=null,Pi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$t(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rI(e,t),e=e.sibling}function rI(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yi(e,t),rs(t),n&4){try{eh(3,t,t.return),V0(3,t)}catch(_){$t(t,t.return,_)}try{eh(5,t,t.return)}catch(_){$t(t,t.return,_)}}break;case 1:yi(e,t),rs(t),n&512&&r!==null&&Xl(r,r.return);break;case 5:if(yi(e,t),rs(t),n&512&&r!==null&&Xl(r,r.return),t.flags&32){var i=t.stateNode;try{vh(i,"")}catch(_){$t(t,t.return,_)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&SA(i,s),ax(a,o);var u=ax(a,s);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?AA(i,p):f==="dangerouslySetInnerHTML"?CA(i,p):f==="children"?vh(i,p):m_(i,f,p,u)}switch(a){case"input":rx(i,s);break;case"textarea":EA(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?su(i,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?su(i,!!s.multiple,s.defaultValue,!0):su(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ch]=s}catch(_){$t(t,t.return,_)}}break;case 6:if(yi(e,t),rs(t),n&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){$t(t,t.return,_)}}break;case 3:if(yi(e,t),rs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bh(e.containerInfo)}catch(_){$t(t,t.return,_)}break;case 4:yi(e,t),rs(t);break;case 13:yi(e,t),rs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Y_=rr())),n&4&&HE(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Qr=(u=Qr)||f,yi(e,t),Qr=u):yi(e,t),rs(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(be=t,f=t.child;f!==null;){for(p=be=f;be!==null;){switch(d=be,g=d.child,d.tag){case 0:case 11:case 14:case 15:eh(4,d,d.return);break;case 1:Xl(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){$t(n,r,_)}}break;case 5:Xl(d,d.return);break;case 22:if(d.memoizedState!==null){jE(p);continue}}g!==null?(g.return=d,be=g):jE(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=PA("display",o))}catch(_){$t(t,t.return,_)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(_){$t(t,t.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yi(e,t),rs(t),n&4&&HE(t);break;case 21:break;default:yi(e,t),rs(t)}}function rs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(eI(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(vh(i,""),n.flags&=-33);var s=zE(t);Fx(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=zE(t);Nx(t,a,o);break;default:throw Error(le(161))}}catch(l){$t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QB(t,e,r){be=t,nI(t)}function nI(t,e,r){for(var n=(t.mode&1)!==0;be!==null;){var i=be,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||_d;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qr;a=_d;var u=Qr;if(_d=o,(Qr=l)&&!u)for(be=i;be!==null;)o=be,l=o.child,o.tag===22&&o.memoizedState!==null?GE(i):l!==null?(l.return=o,be=l):GE(i);for(;s!==null;)be=s,nI(s),s=s.sibling;be=i,_d=a,Qr=u}VE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,be=s):VE(t)}}function VE(t){for(;be!==null;){var e=be;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||V0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ei(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&TE(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}TE(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&bh(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Qr||e.flags&512&&Bx(e)}catch(d){$t(e,e.return,d)}}if(e===t){be=null;break}if(r=e.sibling,r!==null){r.return=e.return,be=r;break}be=e.return}}function jE(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var r=e.sibling;if(r!==null){r.return=e.return,be=r;break}be=e.return}}function GE(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{V0(4,e)}catch(l){$t(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){$t(e,i,l)}}var s=e.return;try{Bx(e)}catch(l){$t(e,s,l)}break;case 5:var o=e.return;try{Bx(e)}catch(l){$t(e,o,l)}}}catch(l){$t(e,e.return,l)}if(e===t){be=null;break}var a=e.sibling;if(a!==null){a.return=e.return,be=a;break}be=e.return}}var ZB=Math.ceil,Yp=eo.ReactCurrentDispatcher,$_=eo.ReactCurrentOwner,ai=eo.ReactCurrentBatchConfig,lt=0,Rr=null,cr=null,Fr=0,On=0,Yl=Jo(0),gr=0,kh=null,Xa=0,j0=0,X_=0,th=null,yn=null,Y_=0,Cu=1/0,ks=null,qp=!1,Lx=null,Fo=null,bd=!1,Ao=null,Kp=0,rh=0,Ux=null,gp=-1,vp=0;function cn(){return lt&6?rr():gp!==-1?gp:gp=rr()}function Lo(t){return t.mode&1?lt&2&&Fr!==0?Fr&-Fr:BB.transition!==null?(vp===0&&(vp=zA()),vp):(t=yt,t!==0||(t=window.event,t=t===void 0?16:XA(t.type)),t):1}function Ni(t,e,r,n){if(50<rh)throw rh=0,Ux=null,Error(le(185));Qh(t,r,n),(!(lt&2)||t!==Rr)&&(t===Rr&&(!(lt&2)&&(j0|=r),gr===4&&To(t,Fr)),wn(t,n),r===1&&lt===0&&!(e.mode&1)&&(Cu=rr()+500,U0&&ea()))}function wn(t,e){var r=t.callbackNode;BO(t,e);var n=Dp(t,t===Rr?Fr:0);if(n===0)r!==null&&JS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&JS(r),e===1)t.tag===0?OB(WE.bind(null,t)):fR(WE.bind(null,t)),IB(function(){!(lt&6)&&ea()}),r=null;else{switch(HA(n)){case 1:r=__;break;case 4:r=LA;break;case 16:r=kp;break;case 536870912:r=UA;break;default:r=kp}r=hI(r,iI.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function iI(t,e){if(gp=-1,vp=0,lt&6)throw Error(le(327));var r=t.callbackNode;if(cu()&&t.callbackNode!==r)return null;var n=Dp(t,t===Rr?Fr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Qp(t,n);else{e=n;var i=lt;lt|=2;var s=oI();(Rr!==t||Fr!==e)&&(ks=null,Cu=rr()+500,Fa(t,e));do try{tN();break}catch(a){sI(t,a)}while(1);D_(),Yp.current=s,lt=i,cr!==null?e=0:(Rr=null,Fr=0,e=gr)}if(e!==0){if(e===2&&(i=fx(t),i!==0&&(n=i,e=zx(t,i))),e===1)throw r=kh,Fa(t,0),To(t,n),wn(t,rr()),r;if(e===6)To(t,n);else{if(i=t.current.alternate,!(n&30)&&!JB(i)&&(e=Qp(t,n),e===2&&(s=fx(t),s!==0&&(n=s,e=zx(t,s))),e===1))throw r=kh,Fa(t,0),To(t,n),wn(t,rr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(le(345));case 2:wa(t,yn,ks);break;case 3:if(To(t,n),(n&130023424)===n&&(e=Y_+500-rr(),10<e)){if(Dp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_x(wa.bind(null,t,yn,ks),e);break}wa(t,yn,ks);break;case 4:if(To(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Bi(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=rr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ZB(n/1960))-n,10<n){t.timeoutHandle=_x(wa.bind(null,t,yn,ks),n);break}wa(t,yn,ks);break;case 5:wa(t,yn,ks);break;default:throw Error(le(329))}}}return wn(t,rr()),t.callbackNode===r?iI.bind(null,t):null}function zx(t,e){var r=th;return t.current.memoizedState.isDehydrated&&(Fa(t,e).flags|=256),t=Qp(t,e),t!==2&&(e=yn,yn=r,e!==null&&Hx(e)),t}function Hx(t){yn===null?yn=t:yn.push.apply(yn,t)}function JB(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Hi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function To(t,e){for(e&=~X_,e&=~j0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Bi(e),n=1<<r;t[r]=-1,e&=~n}}function WE(t){if(lt&6)throw Error(le(327));cu();var e=Dp(t,0);if(!(e&1))return wn(t,rr()),null;var r=Qp(t,e);if(t.tag!==0&&r===2){var n=fx(t);n!==0&&(e=n,r=zx(t,n))}if(r===1)throw r=kh,Fa(t,0),To(t,e),wn(t,rr()),r;if(r===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wa(t,yn,ks),wn(t,rr()),null}function q_(t,e){var r=lt;lt|=1;try{return t(e)}finally{lt=r,lt===0&&(Cu=rr()+500,U0&&ea())}}function Ya(t){Ao!==null&&Ao.tag===0&&!(lt&6)&&cu();var e=lt;lt|=1;var r=ai.transition,n=yt;try{if(ai.transition=null,yt=1,t)return t()}finally{yt=n,ai.transition=r,lt=e,!(lt&6)&&ea()}}function K_(){On=Yl.current,Pt(Yl)}function Fa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,RB(r)),cr!==null)for(r=cr.return;r!==null;){var n=r;switch(I_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lp();break;case 3:Eu(),Pt(_n),Pt(en),U_();break;case 5:L_(n);break;case 4:Eu();break;case 13:Pt(Ut);break;case 19:Pt(Ut);break;case 10:O_(n.type._context);break;case 22:case 23:K_()}r=r.return}if(Rr=t,cr=t=Uo(t.current,null),Fr=On=e,gr=0,kh=null,X_=j0=Xa=0,yn=th=null,ka!==null){for(e=0;e<ka.length;e++)if(r=ka[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ka=null}return t}function sI(t,e){do{var r=cr;try{if(D_(),dp.current=Xp,$p){for(var n=jt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$p=!1}if($a=0,Cr=mr=jt=null,Jc=!1,Rh=0,$_.current=null,r===null||r.return===null){gr=1,kh=e,cr=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Fr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=kE(o);if(g!==null){g.flags&=-257,DE(g,o,a,s,e),g.mode&1&&ME(s,u,e),e=g,l=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if(!(e&1)){ME(s,u,e),Q_();break e}l=Error(le(426))}}else if(Dt&&a.mode&1){var S=kE(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),DE(S,o,a,s,e),M_(Tu(l,a));break e}}s=l=Tu(l,a),gr!==4&&(gr=2),th===null?th=[s]:th.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=VR(s,l,e);EE(s,T);break e;case 1:a=l;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Fo===null||!Fo.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=jR(s,a,e);EE(s,x);break e}}s=s.return}while(s!==null)}lI(r)}catch(C){e=C,cr===r&&r!==null&&(cr=r=r.return);continue}break}while(1)}function oI(){var t=Yp.current;return Yp.current=Xp,t===null?Xp:t}function Q_(){(gr===0||gr===3||gr===2)&&(gr=4),Rr===null||!(Xa&268435455)&&!(j0&268435455)||To(Rr,Fr)}function Qp(t,e){var r=lt;lt|=2;var n=oI();(Rr!==t||Fr!==e)&&(ks=null,Fa(t,e));do try{eN();break}catch(i){sI(t,i)}while(1);if(D_(),lt=r,Yp.current=n,cr!==null)throw Error(le(261));return Rr=null,Fr=0,gr}function eN(){for(;cr!==null;)aI(cr)}function tN(){for(;cr!==null&&!CO();)aI(cr)}function aI(t){var e=cI(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?lI(t):cr=e,$_.current=null}function lI(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=YB(r,e),r!==null){r.flags&=32767,cr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gr=6,cr=null;return}}else if(r=XB(r,e,On),r!==null){cr=r;return}if(e=e.sibling,e!==null){cr=e;return}cr=e=t}while(e!==null);gr===0&&(gr=5)}function wa(t,e,r){var n=yt,i=ai.transition;try{ai.transition=null,yt=1,rN(t,e,r,n)}finally{ai.transition=i,yt=n}return null}function rN(t,e,r,n){do cu();while(Ao!==null);if(lt&6)throw Error(le(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(NO(t,s),t===Rr&&(cr=Rr=null,Fr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bd||(bd=!0,hI(kp,function(){return cu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ai.transition,ai.transition=null;var o=yt;yt=1;var a=lt;lt|=4,$_.current=null,KB(t,r),rI(r,t),wB(yx),Op=!!vx,yx=vx=null,t.current=r,QB(r),PO(),lt=a,yt=o,ai.transition=s}else t.current=r;if(bd&&(bd=!1,Ao=t,Kp=i),s=t.pendingLanes,s===0&&(Fo=null),IO(r.stateNode),wn(t,rr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(qp)throw qp=!1,t=Lx,Lx=null,t;return Kp&1&&t.tag!==0&&cu(),s=t.pendingLanes,s&1?t===Ux?rh++:(rh=0,Ux=t):rh=0,ea(),null}function cu(){if(Ao!==null){var t=HA(Kp),e=ai.transition,r=yt;try{if(ai.transition=null,yt=16>t?16:t,Ao===null)var n=!1;else{if(t=Ao,Ao=null,Kp=0,lt&6)throw Error(le(331));var i=lt;for(lt|=4,be=t.current;be!==null;){var s=be,o=s.child;if(be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(be=u;be!==null;){var f=be;switch(f.tag){case 0:case 11:case 15:eh(8,f,s)}var p=f.child;if(p!==null)p.return=f,be=p;else for(;be!==null;){f=be;var d=f.sibling,g=f.return;if(JR(f),f===u){be=null;break}if(d!==null){d.return=g,be=d;break}be=g}}}var m=s.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,be=o;else e:for(;be!==null;){if(s=be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:eh(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,be=T;break e}be=s.return}}var b=t.current;for(be=b;be!==null;){o=be;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,be=y;else e:for(o=b;be!==null;){if(a=be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:V0(9,a)}}catch(C){$t(a,a.return,C)}if(a===o){be=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,be=x;break e}be=a.return}}if(lt=i,ea(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(O0,t)}catch{}n=!0}return n}finally{yt=r,ai.transition=e}}return!1}function $E(t,e,r){e=Tu(r,e),e=VR(t,e,1),t=No(t,e,1),e=cn(),t!==null&&(Qh(t,1,e),wn(t,e))}function $t(t,e,r){if(t.tag===3)$E(t,t,r);else for(;e!==null;){if(e.tag===3){$E(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fo===null||!Fo.has(n))){t=Tu(r,t),t=jR(e,t,1),e=No(e,t,1),t=cn(),e!==null&&(Qh(e,1,t),wn(e,t));break}}e=e.return}}function nN(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&r,Rr===t&&(Fr&r)===r&&(gr===4||gr===3&&(Fr&130023424)===Fr&&500>rr()-Y_?Fa(t,0):X_|=r),wn(t,e)}function uI(t,e){e===0&&(t.mode&1?(e=hd,hd<<=1,!(hd&130023424)&&(hd=4194304)):e=1);var r=cn();t=qs(t,e),t!==null&&(Qh(t,e,r),wn(t,r))}function iN(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),uI(t,r)}function sN(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(e),uI(t,r)}var cI;cI=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)xn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xn=!1,$B(t,e,r);xn=!!(t.flags&131072)}else xn=!1,Dt&&e.flags&1048576&&dR(e,Hp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;mp(t,e),t=e.pendingProps;var i=bu(e,en.current);uu(e,r),i=H_(null,e,n,t,i,r);var s=V_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(n)?(s=!0,Up(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,N_(e),i.updater=z0,e.stateNode=i,i._reactInternals=e,Px(e,n,t,r),e=Ix(null,e,n,!0,s,r)):(e.tag=0,Dt&&s&&R_(e),un(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(mp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=aN(n),t=Ei(n,t),i){case 0:e=Rx(null,e,n,t,r);break e;case 1:e=NE(null,e,n,t,r);break e;case 11:e=OE(null,e,n,t,r);break e;case 14:e=BE(null,e,n,Ei(n.type,t),r);break e}throw Error(le(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ei(n,i),Rx(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ei(n,i),NE(t,e,n,i,r);case 3:e:{if(XR(e),t===null)throw Error(le(387));n=e.pendingProps,s=e.memoizedState,i=s.element,vR(t,e),Gp(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Tu(Error(le(423)),e),e=FE(t,e,n,r,i);break e}else if(n!==i){i=Tu(Error(le(424)),e),e=FE(t,e,n,r,i);break e}else for(Bn=Bo(e.stateNode.containerInfo.firstChild),Fn=e,Dt=!0,Ri=null,r=bR(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wu(),n===i){e=Ks(t,e,r);break e}un(t,e,n,r)}e=e.child}return e;case 5:return wR(e),t===null&&Ex(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xx(n,i)?o=null:s!==null&&xx(n,s)&&(e.flags|=32),$R(t,e),un(t,e,o,r),e.child;case 6:return t===null&&Ex(e),null;case 13:return YR(t,e,r);case 4:return F_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Su(e,null,n,r):un(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ei(n,i),OE(t,e,n,i,r);case 7:return un(t,e,e.pendingProps,r),e.child;case 8:return un(t,e,e.pendingProps.children,r),e.child;case 12:return un(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,bt(Vp,n._currentValue),n._currentValue=o,s!==null)if(Hi(s.value,o)){if(s.children===i.children&&!_n.current){e=Ks(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Hs(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Tx(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Tx(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}un(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,uu(e,r),i=li(i),n=n(i),e.flags|=1,un(t,e,n,r),e.child;case 14:return n=e.type,i=Ei(n,e.pendingProps),i=Ei(n.type,i),BE(t,e,n,i,r);case 15:return GR(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ei(n,i),mp(t,e),e.tag=1,bn(n)?(t=!0,Up(e)):t=!1,uu(e,r),xR(e,n,i),Px(e,n,i,r),Ix(null,e,n,!0,t,r);case 19:return qR(t,e,r);case 22:return WR(t,e,r)}throw Error(le(156,e.tag))};function hI(t,e){return FA(t,e)}function oN(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(t,e,r,n){return new oN(t,e,r,n)}function Z_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aN(t){if(typeof t=="function")return Z_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===v_)return 11;if(t===y_)return 14}return 2}function Uo(t,e){var r=t.alternate;return r===null?(r=ii(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function yp(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Z_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ll:return La(r.children,i,s,e);case g_:o=8,i|=8;break;case Qy:return t=ii(12,r,e,i|2),t.elementType=Qy,t.lanes=s,t;case Zy:return t=ii(13,r,e,i),t.elementType=Zy,t.lanes=s,t;case Jy:return t=ii(19,r,e,i),t.elementType=Jy,t.lanes=s,t;case _A:return G0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yA:o=10;break e;case xA:o=9;break e;case v_:o=11;break e;case y_:o=14;break e;case _o:o=16,n=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=ii(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function La(t,e,r,n){return t=ii(7,t,n,e),t.lanes=r,t}function G0(t,e,r,n){return t=ii(22,t,n,e),t.elementType=_A,t.lanes=r,t.stateNode={isHidden:!1},t}function cv(t,e,r){return t=ii(6,t,null,e),t.lanes=r,t}function hv(t,e,r){return e=ii(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lN(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wg(0),this.expirationTimes=Wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function J_(t,e,r,n,i,s,o,a,l){return t=new lN(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ii(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},N_(s),t}function uN(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function fI(t){if(!t)return Go;t=t._reactInternals;e:{if(tl(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var r=t.type;if(bn(r))return hR(t,r,e)}return e}function dI(t,e,r,n,i,s,o,a,l){return t=J_(r,n,!0,t,i,s,o,a,l),t.context=fI(null),r=t.current,n=cn(),i=Lo(r),s=Hs(n,i),s.callback=e??null,No(r,s,i),t.current.lanes=i,Qh(t,i,n),wn(t,n),t}function W0(t,e,r,n){var i=e.current,s=cn(),o=Lo(i);return r=fI(r),e.context===null?e.context=r:e.pendingContext=r,e=Hs(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=No(i,e,o),t!==null&&(Ni(t,i,o,s),fp(t,i,o)),o}function Zp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function eb(t,e){XE(t,e),(t=t.alternate)&&XE(t,e)}function cN(){return null}var pI=typeof reportError=="function"?reportError:function(t){console.error(t)};function tb(t){this._internalRoot=t}$0.prototype.render=tb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));W0(t,e,null,null)};$0.prototype.unmount=tb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ya(function(){W0(null,t,null,null)}),e[Ys]=null}};function $0(t){this._internalRoot=t}$0.prototype.unstable_scheduleHydration=function(t){if(t){var e=GA();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Eo.length&&e!==0&&e<Eo[r].priority;r++);Eo.splice(r,0,t),r===0&&$A(t)}};function rb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function X0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YE(){}function hN(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Zp(o);s.call(u)}}var o=dI(e,n,t,0,null,!1,!1,"",YE);return t._reactRootContainer=o,t[Ys]=o.current,Eh(t.nodeType===8?t.parentNode:t),Ya(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Zp(l);a.call(u)}}var l=J_(t,0,!1,null,null,!1,!1,"",YE);return t._reactRootContainer=l,t[Ys]=l.current,Eh(t.nodeType===8?t.parentNode:t),Ya(function(){W0(e,l,r,n)}),l}function Y0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Zp(o);a.call(l)}}W0(e,o,t,i)}else o=hN(r,e,t,i,n);return Zp(o)}VA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Uc(e.pendingLanes);r!==0&&(b_(e,r|1),wn(e,rr()),!(lt&6)&&(Cu=rr()+500,ea()))}break;case 13:Ya(function(){var n=qs(t,1);if(n!==null){var i=cn();Ni(n,t,1,i)}}),eb(t,1)}};w_=function(t){if(t.tag===13){var e=qs(t,134217728);if(e!==null){var r=cn();Ni(e,t,134217728,r)}eb(t,134217728)}};jA=function(t){if(t.tag===13){var e=Lo(t),r=qs(t,e);if(r!==null){var n=cn();Ni(r,t,e,n)}eb(t,e)}};GA=function(){return yt};WA=function(t,e){var r=yt;try{return yt=t,e()}finally{yt=r}};ux=function(t,e,r){switch(e){case"input":if(rx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=L0(n);if(!i)throw Error(le(90));wA(n),rx(n,i)}}}break;case"textarea":EA(t,r);break;case"select":e=r.value,e!=null&&su(t,!!r.multiple,e,!1)}};MA=q_;kA=Ya;var fN={usingClientEntryPoint:!1,Events:[Jh,Vl,L0,RA,IA,q_]},Sc={findFiberByHostInstance:Ma,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dN={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BA(t),t===null?null:t.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||cN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{O0=wd.inject(dN),fs=wd}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fN;Hn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rb(e))throw Error(le(200));return uN(t,e,null,r)};Hn.createRoot=function(t,e){if(!rb(t))throw Error(le(299));var r=!1,n="",i=pI;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=J_(t,1,!1,null,null,r,!1,n,i),t[Ys]=e.current,Eh(t.nodeType===8?t.parentNode:t),new tb(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=BA(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return Ya(t)};Hn.hydrate=function(t,e,r){if(!X0(e))throw Error(le(200));return Y0(null,t,e,!0,r)};Hn.hydrateRoot=function(t,e,r){if(!rb(t))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=pI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=dI(e,null,t,1,r??null,i,!1,s,o),t[Ys]=e.current,Eh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new $0(e)};Hn.render=function(t,e,r){if(!X0(e))throw Error(le(200));return Y0(null,t,e,!1,r)};Hn.unmountComponentAtNode=function(t){if(!X0(t))throw Error(le(40));return t._reactRootContainer?(Ya(function(){Y0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};Hn.unstable_batchedUpdates=q_;Hn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!X0(r))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Y0(t,e,r,!1,n)};Hn.version="18.2.0-next-9e3b772b8-20220608";function mI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mI)}catch(t){console.error(t)}}mI(),dA.exports=Hn;var gI=dA.exports,qE=gI;qy.createRoot=qE.createRoot,qy.hydrateRoot=qE.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kt(){return kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kt.apply(this,arguments)}var lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lr||(lr={}));const KE="popstate";function pN(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Dh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:qa(i)}return gN(e,r,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mN(){return Math.random().toString(36).substr(2,8)}function QE(t,e){return{usr:t.state,key:t.key,idx:e}}function Dh(t,e,r,n){return r===void 0&&(r=null),kt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?to(e):e,{state:r,key:e&&e.key||n||mN()})}function qa(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function to(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function gN(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=lr.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(kt({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function p(){a=lr.Pop;let S=f(),T=S==null?null:S-u;u=S,l&&l({action:a,location:_.location,delta:T})}function d(S,T){a=lr.Push;let b=Dh(_.location,S,T);r&&r(b,S),u=f()+1;let y=QE(b,u),x=_.createHref(b);try{o.pushState(y,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(x)}s&&l&&l({action:a,location:_.location,delta:1})}function g(S,T){a=lr.Replace;let b=Dh(_.location,S,T);r&&r(b,S),u=f();let y=QE(b,u),x=_.createHref(b);o.replaceState(y,"",x),s&&l&&l({action:a,location:_.location,delta:0})}function m(S){let T=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof S=="string"?S:qa(S);return Je(T,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,T)}let _={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(KE,p),l=S,()=>{i.removeEventListener(KE,p),l=null}},createHref(S){return e(i,S)},createURL:m,encodeLocation(S){let T=m(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:d,replace:g,go(S){return o.go(S)}};return _}var pr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pr||(pr={}));const vN=new Set(["lazy","caseSensitive","path","id","index","children"]);function yN(t){return t.index===!0}function Vx(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,s],a=typeof i.id=="string"?i.id:o.join("-");if(Je(i.index!==!0||!i.children,"Cannot specify children on an index route"),Je(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),yN(i)){let l=kt({},i,e(i),{id:a});return n[a]=l,l}else{let l=kt({},i,e(i),{id:a,children:void 0});return n[a]=l,i.children&&(l.children=Vx(i.children,e,o,n)),l}})}function ql(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?to(e):e,i=zu(n.pathname||"/",r);if(i==null)return null;let s=vI(t);xN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=AN(s[a],MN(i));return o}function vI(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Vs([n,l.relativePath]),f=r.concat(l);s.children&&s.children.length>0&&(Je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vI(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:CN(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of yI(s.path))i(s,o,l)}),e}function yI(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=yI(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function xN(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:PN(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _N=/^:\w+$/,bN=3,wN=2,SN=1,EN=10,TN=-2,ZE=t=>t==="*";function CN(t,e){let r=t.split("/"),n=r.length;return r.some(ZE)&&(n+=TN),e&&(n+=wN),r.filter(i=>!ZE(i)).reduce((i,s)=>i+(_N.test(s)?bN:s===""?SN:EN),n)}function PN(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function AN(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],l=o===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=RN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!f)return null;Object.assign(n,f.params);let p=a.route;s.push({params:n,pathname:Vs([i,f.pathname]),pathnameBase:BN(Vs([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Vs([i,f.pathnameBase]))}return s}function RN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=IN(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,f,p)=>{if(f==="*"){let d=a[p]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[f]=kN(a[p]||"",f),u},{}),pathname:s,pathnameBase:o,pattern:t}}function IN(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Pu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(n.push(a),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function MN(t){try{return decodeURI(t)}catch(e){return Pu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kN(t,e){try{return decodeURIComponent(t)}catch(r){return Pu(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function zu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function DN(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?to(t):t;return{pathname:r?r.startsWith("/")?r:ON(r,e):e,search:NN(n),hash:FN(i)}}function ON(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function fv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q0(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nb(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=to(t):(i=kt({},t),Je(!i.pathname||!i.pathname.includes("?"),fv("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),fv("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),fv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(n||o==null)a=r;else{let p=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),p-=1;i.pathname=d.join("/")}a=p>=0?e[p]:"/"}let l=DN(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Vs=t=>t.join("/").replace(/\/\/+/g,"/"),BN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ib{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function xI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _I=["post","put","patch","delete"],LN=new Set(_I),UN=["get",..._I],zN=new Set(UN),HN=new Set([301,302,303,307,308]),VN=new Set([307,308]),dv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ec={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GN=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function WN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let K=t.detectErrorBoundary;i=Z=>({hasErrorBoundary:K(Z)})}else i=GN;let s={},o=Vx(t.routes,i,void 0,s),a,l=t.basename||"/",u=kt({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),f=null,p=new Set,d=null,g=null,m=null,_=t.hydrationData!=null,S=ql(o,t.history.location,l),T=null;if(S==null){let K=ei(404,{pathname:t.history.location.pathname}),{matches:Z,route:se}=oT(o);S=Z,T={[se.id]:K}}let b=!S.some(K=>K.route.lazy)&&(!S.some(K=>K.route.loader)||t.hydrationData!=null),y,x={historyAction:t.history.action,location:t.history.location,matches:S,initialized:b,navigation:dv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},C=lr.Pop,M=!1,I,A=!1,D=!1,R=[],k=[],O=new Map,U=0,N=-1,G=new Map,Q=new Set,z=new Map,F=new Map,$=new Map,H=!1;function L(){return f=t.history.listen(K=>{let{action:Z,location:se,delta:xe}=K;if(H){H=!1;return}Pu($.size===0||xe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ze=De({currentLocation:x.location,nextLocation:se,historyAction:Z});if(ze&&xe!=null){H=!0,t.history.go(xe*-1),We(ze,{state:"blocked",location:se,proceed(){We(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),t.history.go(xe)},reset(){let Fe=new Map(x.blockers);Fe.set(ze,Ec),W({blockers:Fe})}});return}return ge(Z,se)}),x.initialized||ge(lr.Pop,x.location),y}function j(){f&&f(),p.clear(),I&&I.abort(),x.fetchers.forEach((K,Z)=>hi(Z)),x.blockers.forEach((K,Z)=>Ge(Z))}function Y(K){return p.add(K),()=>p.delete(K)}function W(K){x=kt({},x,K),p.forEach(Z=>Z(x))}function de(K,Z){var se,xe;let ze=x.actionData!=null&&x.navigation.formMethod!=null&&Ai(x.navigation.formMethod)&&x.navigation.state==="loading"&&((se=K.state)==null?void 0:se._isRedirect)!==!0,Fe;Z.actionData?Object.keys(Z.actionData).length>0?Fe=Z.actionData:Fe=null:ze?Fe=x.actionData:Fe=null;let Le=Z.loaderData?sT(x.loaderData,Z.loaderData,Z.matches||[],Z.errors):x.loaderData,Me=x.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((ft,Kt)=>Me.set(Kt,Ec)));let Se=M===!0||x.navigation.formMethod!=null&&Ai(x.navigation.formMethod)&&((xe=K.state)==null?void 0:xe._isRedirect)!==!0;a&&(o=a,a=void 0),A||C===lr.Pop||(C===lr.Push?t.history.push(K,K.state):C===lr.Replace&&t.history.replace(K,K.state)),W(kt({},Z,{actionData:Fe,loaderData:Le,historyAction:C,location:K,initialized:!0,navigation:dv,revalidation:"idle",restoreScrollPosition:Re(K,Z.matches||x.matches),preventScrollReset:Se,blockers:Me})),C=lr.Pop,M=!1,A=!1,D=!1,R=[],k=[]}async function he(K,Z){if(typeof K=="number"){t.history.go(K);return}let se=jx(x.location,x.matches,l,u.v7_prependBasename,K,Z==null?void 0:Z.fromRouteId,Z==null?void 0:Z.relative),{path:xe,submission:ze,error:Fe}=JE(u.v7_normalizeFormMethod,!1,se,Z),Le=x.location,Me=Dh(x.location,xe,Z&&Z.state);Me=kt({},Me,t.history.encodeLocation(Me));let Se=Z&&Z.replace!=null?Z.replace:void 0,ft=lr.Push;Se===!0?ft=lr.Replace:Se===!1||ze!=null&&Ai(ze.formMethod)&&ze.formAction===x.location.pathname+x.location.search&&(ft=lr.Replace);let Kt=Z&&"preventScrollReset"in Z?Z.preventScrollReset===!0:void 0,at=De({currentLocation:Le,nextLocation:Me,historyAction:ft});if(at){We(at,{state:"blocked",location:Me,proceed(){We(at,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),he(K,Z)},reset(){let xt=new Map(x.blockers);xt.set(at,Ec),W({blockers:xt})}});return}return await ge(ft,Me,{submission:ze,pendingError:Fe,preventScrollReset:Kt,replace:Z&&Z.replace})}function Pe(){if(vr(),W({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){ge(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}ge(C||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function ge(K,Z,se){I&&I.abort(),I=null,C=K,A=(se&&se.startUninterruptedRevalidation)===!0,Ye(x.location,x.matches),M=(se&&se.preventScrollReset)===!0;let xe=a||o,ze=se&&se.overrideNavigation,Fe=ql(xe,Z,l);if(!Fe){let xt=ei(404,{pathname:Z.pathname}),{matches:At,route:Gn}=oT(xe);st(),de(Z,{matches:At,loaderData:{},errors:{[Gn.id]:xt}});return}if(x.initialized&&!D&&KN(x.location,Z)&&!(se&&se.submission&&Ai(se.submission.formMethod))){de(Z,{matches:Fe});return}I=new AbortController;let Le=Cc(t.history,Z,I.signal,se&&se.submission),Me,Se;if(se&&se.pendingError)Se={[Kl(Fe).route.id]:se.pendingError};else if(se&&se.submission&&Ai(se.submission.formMethod)){let xt=await ut(Le,Z,se.submission,Fe,{replace:se.replace});if(xt.shortCircuited)return;Me=xt.pendingActionData,Se=xt.pendingActionError,ze=Sd(Z,se.submission),Le=new Request(Le.url,{signal:Le.signal})}let{shortCircuited:ft,loaderData:Kt,errors:at}=await Ze(Le,Z,Fe,ze,se&&se.submission,se&&se.fetcherSubmission,se&&se.replace,Me,Se);ft||(I=null,de(Z,kt({matches:Fe},Me?{actionData:Me}:{},{loaderData:Kt,errors:at})))}async function ut(K,Z,se,xe,ze){ze===void 0&&(ze={}),vr();let Fe=tF(Z,se);W({navigation:Fe});let Le,Me=Wx(xe,Z);if(!Me.route.action&&!Me.route.lazy)Le={type:pr.error,error:ei(405,{method:K.method,pathname:Z.pathname,routeId:Me.route.id})};else if(Le=await Tc("action",K,Me,xe,s,i,l),K.signal.aborted)return{shortCircuited:!0};if(hu(Le)){let Se;return ze&&ze.replace!=null?Se=ze.replace:Se=Le.location===x.location.pathname+x.location.search,await St(x,Le,{submission:se,replace:Se}),{shortCircuited:!0}}if(nh(Le)){let Se=Kl(xe,Me.route.id);return(ze&&ze.replace)!==!0&&(C=lr.Push),{pendingActionData:{},pendingActionError:{[Se.route.id]:Le.error}}}if(Oa(Le))throw ei(400,{type:"defer-action"});return{pendingActionData:{[Me.route.id]:Le.data}}}async function Ze(K,Z,se,xe,ze,Fe,Le,Me,Se){let ft=xe||Sd(Z,ze),Kt=ze||Fe||uT(ft),at=a||o,[xt,At]=eT(t.history,x,se,Kt,Z,D,R,k,z,Q,at,l,Me,Se);if(st(dt=>!(se&&se.some(Pn=>Pn.route.id===dt))||xt&&xt.some(Pn=>Pn.route.id===dt)),N=++U,xt.length===0&&At.length===0){let dt=gt();return de(Z,kt({matches:se,loaderData:{},errors:Se||null},Me?{actionData:Me}:{},dt?{fetchers:new Map(x.fetchers)}:{})),{shortCircuited:!0}}if(!A){At.forEach(Pn=>{let Wi=x.fetchers.get(Pn.key),Ku=Pc(void 0,Wi?Wi.data:void 0);x.fetchers.set(Pn.key,Ku)});let dt=Me||x.actionData;W(kt({navigation:ft},dt?Object.keys(dt).length===0?{actionData:null}:{actionData:dt}:{},At.length>0?{fetchers:new Map(x.fetchers)}:{}))}At.forEach(dt=>{O.has(dt.key)&&Nt(dt.key),dt.controller&&O.set(dt.key,dt.controller)});let Gn=()=>At.forEach(dt=>Nt(dt.key));I&&I.signal.addEventListener("abort",Gn);let{results:Cn,loaderResults:Ss,fetcherResults:no}=await ir(x.matches,se,xt,At,K);if(K.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Gn),At.forEach(dt=>O.delete(dt.key));let Et=aT(Cn);if(Et){if(Et.idx>=xt.length){let dt=At[Et.idx-xt.length].key;Q.add(dt)}return await St(x,Et.result,{replace:Le}),{shortCircuited:!0}}let{loaderData:Qt,errors:fi}=iT(x,se,xt,Ss,Se,At,no,F);F.forEach((dt,Pn)=>{dt.subscribe(Wi=>{(Wi||dt.done)&&F.delete(Pn)})});let oa=gt(),qu=sr(N),io=oa||qu||At.length>0;return kt({loaderData:Qt,errors:fi},io?{fetchers:new Map(x.fetchers)}:{})}function Ie(K){return x.fetchers.get(K)||jN}function Xe(K,Z,se,xe){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(K)&&Nt(K);let ze=a||o,Fe=jx(x.location,x.matches,l,u.v7_prependBasename,se,Z,xe==null?void 0:xe.relative),Le=ql(ze,Fe,l);if(!Le){qt(K,Z,ei(404,{pathname:Fe}));return}let{path:Me,submission:Se,error:ft}=JE(u.v7_normalizeFormMethod,!0,Fe,xe);if(ft){qt(K,Z,ft);return}let Kt=Wx(Le,Me);if(M=(xe&&xe.preventScrollReset)===!0,Se&&Ai(Se.formMethod)){Oe(K,Z,Me,Kt,Le,Se);return}z.set(K,{routeId:Z,path:Me}),it(K,Z,Me,Kt,Le,Se)}async function Oe(K,Z,se,xe,ze,Fe){if(vr(),z.delete(K),!xe.route.action&&!xe.route.lazy){let Zt=ei(405,{method:Fe.formMethod,pathname:se,routeId:Z});qt(K,Z,Zt);return}let Le=x.fetchers.get(K),Me=rF(Fe,Le);x.fetchers.set(K,Me),W({fetchers:new Map(x.fetchers)});let Se=new AbortController,ft=Cc(t.history,se,Se.signal,Fe);O.set(K,Se);let Kt=U,at=await Tc("action",ft,xe,ze,s,i,l);if(ft.signal.aborted){O.get(K)===Se&&O.delete(K);return}if(hu(at))if(O.delete(K),N>Kt){let Zt=Il(void 0);x.fetchers.set(K,Zt),W({fetchers:new Map(x.fetchers)});return}else{Q.add(K);let Zt=Pc(Fe);return x.fetchers.set(K,Zt),W({fetchers:new Map(x.fetchers)}),St(x,at,{submission:Fe,isFetchActionRedirect:!0})}if(nh(at)){qt(K,Z,at.error);return}if(Oa(at))throw ei(400,{type:"defer-action"});let xt=x.navigation.location||x.location,At=Cc(t.history,xt,Se.signal),Gn=a||o,Cn=x.navigation.state!=="idle"?ql(Gn,x.navigation.location,l):x.matches;Je(Cn,"Didn't find any matches after fetcher action");let Ss=++U;G.set(K,Ss);let no=Pc(Fe,at.data);x.fetchers.set(K,no);let[Et,Qt]=eT(t.history,x,Cn,Fe,xt,D,R,k,z,Q,Gn,l,{[xe.route.id]:at.data},void 0);Qt.filter(Zt=>Zt.key!==K).forEach(Zt=>{let aa=Zt.key,vf=x.fetchers.get(aa),Pm=Pc(void 0,vf?vf.data:void 0);x.fetchers.set(aa,Pm),O.has(aa)&&Nt(aa),Zt.controller&&O.set(aa,Zt.controller)}),W({fetchers:new Map(x.fetchers)});let fi=()=>Qt.forEach(Zt=>Nt(Zt.key));Se.signal.addEventListener("abort",fi);let{results:oa,loaderResults:qu,fetcherResults:io}=await ir(x.matches,Cn,Et,Qt,At);if(Se.signal.aborted)return;Se.signal.removeEventListener("abort",fi),G.delete(K),O.delete(K),Qt.forEach(Zt=>O.delete(Zt.key));let dt=aT(oa);if(dt){if(dt.idx>=Et.length){let Zt=Qt[dt.idx-Et.length].key;Q.add(Zt)}return St(x,dt.result)}let{loaderData:Pn,errors:Wi}=iT(x,x.matches,Et,qu,void 0,Qt,io,F);if(x.fetchers.has(K)){let Zt=Il(at.data);x.fetchers.set(K,Zt)}let Ku=sr(Ss);x.navigation.state==="loading"&&Ss>N?(Je(C,"Expected pending action"),I&&I.abort(),de(x.navigation.location,{matches:Cn,loaderData:Pn,errors:Wi,fetchers:new Map(x.fetchers)})):(W(kt({errors:Wi,loaderData:sT(x.loaderData,Pn,Cn,Wi)},Ku||Qt.length>0?{fetchers:new Map(x.fetchers)}:{})),D=!1)}async function it(K,Z,se,xe,ze,Fe){let Le=x.fetchers.get(K),Me=Pc(Fe,Le?Le.data:void 0);x.fetchers.set(K,Me),W({fetchers:new Map(x.fetchers)});let Se=new AbortController,ft=Cc(t.history,se,Se.signal);O.set(K,Se);let Kt=U,at=await Tc("loader",ft,xe,ze,s,i,l);if(Oa(at)&&(at=await EI(at,ft.signal,!0)||at),O.get(K)===Se&&O.delete(K),ft.signal.aborted)return;if(hu(at))if(N>Kt){let At=Il(void 0);x.fetchers.set(K,At),W({fetchers:new Map(x.fetchers)});return}else{Q.add(K),await St(x,at);return}if(nh(at)){let At=Kl(x.matches,Z);x.fetchers.delete(K),W({fetchers:new Map(x.fetchers),errors:{[At.route.id]:at.error}});return}Je(!Oa(at),"Unhandled fetcher deferred data");let xt=Il(at.data);x.fetchers.set(K,xt),W({fetchers:new Map(x.fetchers)})}async function St(K,Z,se){let{submission:xe,replace:ze,isFetchActionRedirect:Fe}=se===void 0?{}:se;Z.revalidate&&(D=!0);let Le=Dh(K.location,Z.location,kt({_isRedirect:!0},Fe?{_isFetchActionRedirect:!0}:{}));if(Je(Le,"Expected a location on the redirect navigation"),bI.test(Z.location)&&r){let ft=t.history.createURL(Z.location),Kt=zu(ft.pathname,l)==null;if(e.location.origin!==ft.origin||Kt){ze?e.location.replace(Z.location):e.location.assign(Z.location);return}}I=null;let Me=ze===!0?lr.Replace:lr.Push,Se=xe||uT(K.navigation);if(VN.has(Z.status)&&Se&&Ai(Se.formMethod))await ge(Me,Le,{submission:kt({},Se,{formAction:Z.location}),preventScrollReset:M});else if(Fe)await ge(Me,Le,{overrideNavigation:Sd(Le),fetcherSubmission:Se,preventScrollReset:M});else{let ft=Sd(Le,Se);await ge(Me,Le,{overrideNavigation:ft,preventScrollReset:M})}}async function ir(K,Z,se,xe,ze){let Fe=await Promise.all([...se.map(Se=>Tc("loader",ze,Se,Z,s,i,l)),...xe.map(Se=>Se.matches&&Se.match&&Se.controller?Tc("loader",Cc(t.history,Se.path,Se.controller.signal),Se.match,Se.matches,s,i,l):{type:pr.error,error:ei(404,{pathname:Se.path})})]),Le=Fe.slice(0,se.length),Me=Fe.slice(se.length);return await Promise.all([lT(K,se,Le,Le.map(()=>ze.signal),!1,x.loaderData),lT(K,xe.map(Se=>Se.match),Me,xe.map(Se=>Se.controller?Se.controller.signal:null),!0)]),{results:Fe,loaderResults:Le,fetcherResults:Me}}function vr(){D=!0,R.push(...st()),z.forEach((K,Z)=>{O.has(Z)&&(k.push(Z),Nt(Z))})}function qt(K,Z,se){let xe=Kl(x.matches,Z);hi(K),W({errors:{[xe.route.id]:se},fetchers:new Map(x.fetchers)})}function hi(K){let Z=x.fetchers.get(K);O.has(K)&&!(Z&&Z.state==="loading"&&G.has(K))&&Nt(K),z.delete(K),G.delete(K),Q.delete(K),x.fetchers.delete(K)}function Nt(K){let Z=O.get(K);Je(Z,"Expected fetch controller: "+K),Z.abort(),O.delete(K)}function hr(K){for(let Z of K){let se=Ie(Z),xe=Il(se.data);x.fetchers.set(Z,xe)}}function gt(){let K=[],Z=!1;for(let se of Q){let xe=x.fetchers.get(se);Je(xe,"Expected fetcher: "+se),xe.state==="loading"&&(Q.delete(se),K.push(se),Z=!0)}return hr(K),Z}function sr(K){let Z=[];for(let[se,xe]of G)if(xe<K){let ze=x.fetchers.get(se);Je(ze,"Expected fetcher: "+se),ze.state==="loading"&&(Nt(se),G.delete(se),Z.push(se))}return hr(Z),Z.length>0}function Ir(K,Z){let se=x.blockers.get(K)||Ec;return $.get(K)!==Z&&$.set(K,Z),se}function Ge(K){x.blockers.delete(K),$.delete(K)}function We(K,Z){let se=x.blockers.get(K)||Ec;Je(se.state==="unblocked"&&Z.state==="blocked"||se.state==="blocked"&&Z.state==="blocked"||se.state==="blocked"&&Z.state==="proceeding"||se.state==="blocked"&&Z.state==="unblocked"||se.state==="proceeding"&&Z.state==="unblocked","Invalid blocker state transition: "+se.state+" -> "+Z.state);let xe=new Map(x.blockers);xe.set(K,Z),W({blockers:xe})}function De(K){let{currentLocation:Z,nextLocation:se,historyAction:xe}=K;if($.size===0)return;$.size>1&&Pu(!1,"A router only supports one blocker at a time");let ze=Array.from($.entries()),[Fe,Le]=ze[ze.length-1],Me=x.blockers.get(Fe);if(!(Me&&Me.state==="proceeding")&&Le({currentLocation:Z,nextLocation:se,historyAction:xe}))return Fe}function st(K){let Z=[];return F.forEach((se,xe)=>{(!K||K(xe))&&(se.cancel(),Z.push(xe),F.delete(xe))}),Z}function sn(K,Z,se){if(d=K,m=Z,g=se||null,!_&&x.navigation===dv){_=!0;let xe=Re(x.location,x.matches);xe!=null&&W({restoreScrollPosition:xe})}return()=>{d=null,m=null,g=null}}function yr(K,Z){return g&&g(K,Z.map(xe=>eF(xe,x.loaderData)))||K.key}function Ye(K,Z){if(d&&m){let se=yr(K,Z);d[se]=m()}}function Re(K,Z){if(d){let se=yr(K,Z),xe=d[se];if(typeof xe=="number")return xe}return null}function zr(K){s={},a=Vx(K,i,void 0,s)}return y={get basename(){return l},get state(){return x},get routes(){return o},initialize:L,subscribe:Y,enableScrollRestoration:sn,navigate:he,fetch:Xe,revalidate:Pe,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:Ie,deleteFetcher:hi,dispose:j,getBlocker:Ir,deleteBlocker:Ge,_internalFetchControllers:O,_internalActiveDeferreds:F,_internalSetRoutes:zr},y}function $N(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function jx(t,e,r,n,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let f of e)if(a.push(f),f.route.id===s){l=f;break}}else a=e,l=e[e.length-1];let u=nb(i||".",q0(a).map(f=>f.pathnameBase),zu(t.pathname,r)||t.pathname,o==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!sb(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:Vs([r,u.pathname])),qa(u)}function JE(t,e,r,n){if(!n||!$N(n))return{path:r};if(n.formMethod&&!JN(n.formMethod))return{path:r,error:ei(405,{method:n.formMethod})};let i=()=>({path:r,error:ei(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=SI(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ai(o))return i();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,m)=>{let[_,S]=m;return""+g+_+"="+S+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!Ai(o))return i();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}Je(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=Gx(n.formData),u=n.formData;else if(n.body instanceof FormData)l=Gx(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=nT(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=nT(l)}catch{return i()}let f={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ai(f.formMethod))return{path:r,submission:f};let p=to(r);return e&&p.search&&sb(p.search)&&l.append("index",""),p.search="?"+l,{path:qa(p),submission:f}}function XN(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function eT(t,e,r,n,i,s,o,a,l,u,f,p,d,g){let m=g?Object.values(g)[0]:d?Object.values(d)[0]:void 0,_=t.createURL(e.location),S=t.createURL(i),T=g?Object.keys(g)[0]:void 0,y=XN(r,T).filter((C,M)=>{if(C.route.lazy)return!0;if(C.route.loader==null)return!1;if(YN(e.loaderData,e.matches[M],C)||o.some(D=>D===C.route.id))return!0;let I=e.matches[M],A=C;return tT(C,kt({currentUrl:_,currentParams:I.params,nextUrl:S,nextParams:A.params},n,{actionResult:m,defaultShouldRevalidate:s||_.pathname+_.search===S.pathname+S.search||_.search!==S.search||wI(I,A)}))}),x=[];return l.forEach((C,M)=>{if(!r.some(k=>k.route.id===C.routeId))return;let I=ql(f,C.path,p);if(!I){x.push({key:M,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(M),D=Wx(I,C.path),R=!1;u.has(M)?R=!1:a.includes(M)?R=!0:A&&A.state!=="idle"&&A.data===void 0?R=s:R=tT(D,kt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:S,nextParams:r[r.length-1].params},n,{actionResult:m,defaultShouldRevalidate:s})),R&&x.push({key:M,routeId:C.routeId,path:C.path,matches:I,match:D,controller:new AbortController})}),[y,x]}function YN(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function wI(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function tT(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function rT(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Je(i,"No route found in manifest");let s={};for(let o in n){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Pu(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!vN.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,kt({},e(i),{lazy:void 0}))}async function Tc(t,e,r,n,i,s,o,a){a===void 0&&(a={});let l,u,f,p=m=>{let _,S=new Promise((T,b)=>_=b);return f=()=>_(),e.signal.addEventListener("abort",f),Promise.race([m({request:e,params:r.params,context:a.requestContext}),S])};try{let m=r.route[t];if(r.route.lazy)if(m)u=(await Promise.all([p(m),rT(r.route,s,i)]))[0];else if(await rT(r.route,s,i),m=r.route[t],m)u=await p(m);else if(t==="action"){let _=new URL(e.url),S=_.pathname+_.search;throw ei(405,{method:e.method,pathname:S,routeId:r.route.id})}else return{type:pr.data,data:void 0};else if(m)u=await p(m);else{let _=new URL(e.url),S=_.pathname+_.search;throw ei(404,{pathname:S})}Je(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){l=pr.error,u=m}finally{f&&e.signal.removeEventListener("abort",f)}if(ZN(u)){let m=u.status;if(HN.has(m)){let T=u.headers.get("Location");if(Je(T,"Redirects returned/thrown from loaders/actions must have a Location header"),!bI.test(T))T=jx(new URL(e.url),n.slice(0,n.indexOf(r)+1),o,!0,T);else if(!a.isStaticRequest){let b=new URL(e.url),y=T.startsWith("//")?new URL(b.protocol+T):new URL(T),x=zu(y.pathname,o)!=null;y.origin===b.origin&&x&&(T=y.pathname+y.search+y.hash)}if(a.isStaticRequest)throw u.headers.set("Location",T),u;return{type:pr.redirect,status:m,location:T,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:l||pr.data,response:u};let _,S=u.headers.get("Content-Type");return S&&/\bapplication\/json\b/.test(S)?_=await u.json():_=await u.text(),l===pr.error?{type:l,error:new ib(m,u.statusText,_),headers:u.headers}:{type:pr.data,data:_,statusCode:u.status,headers:u.headers}}if(l===pr.error)return{type:l,error:u};if(QN(u)){var d,g;return{type:pr.deferred,deferredData:u,statusCode:(d=u.init)==null?void 0:d.status,headers:((g=u.init)==null?void 0:g.headers)&&new Headers(u.init.headers)}}return{type:pr.data,data:u}}function Cc(t,e,r,n){let i=t.createURL(SI(e)).toString(),s={signal:r};if(n&&Ai(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=Gx(n.formData):s.body=n.formData}return new Request(i,s)}function Gx(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function nT(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function qN(t,e,r,n,i){let s={},o=null,a,l=!1,u={};return r.forEach((f,p)=>{let d=e[p].route.id;if(Je(!hu(f),"Cannot handle redirect results in processLoaderData"),nh(f)){let g=Kl(t,d),m=f.error;n&&(m=Object.values(n)[0],n=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=m),s[d]=void 0,l||(l=!0,a=xI(f.error)?f.error.status:500),f.headers&&(u[d]=f.headers)}else Oa(f)?(i.set(d,f.deferredData),s[d]=f.deferredData.data):s[d]=f.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[d]=f.headers)}),n&&(o=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function iT(t,e,r,n,i,s,o,a){let{loaderData:l,errors:u}=qN(e,r,n,i,a);for(let f=0;f<s.length;f++){let{key:p,match:d,controller:g}=s[f];Je(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let m=o[f];if(!(g&&g.signal.aborted))if(nh(m)){let _=Kl(t.matches,d==null?void 0:d.route.id);u&&u[_.route.id]||(u=kt({},u,{[_.route.id]:m.error})),t.fetchers.delete(p)}else if(hu(m))Je(!1,"Unhandled fetcher revalidation redirect");else if(Oa(m))Je(!1,"Unhandled fetcher deferred data");else{let _=Il(m.data);t.fetchers.set(p,_)}}return{loaderData:l,errors:u}}function sT(t,e,r,n){let i=kt({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function Kl(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function oT(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ei(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",a='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new ib(t||500,o,new Error(a),!0)}function aT(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(hu(r))return{result:r,idx:e}}}function SI(t){let e=typeof t=="string"?to(t):t;return qa(kt({},e,{hash:""}))}function KN(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Oa(t){return t.type===pr.deferred}function nh(t){return t.type===pr.error}function hu(t){return(t&&t.type)===pr.redirect}function QN(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function ZN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function JN(t){return zN.has(t.toLowerCase())}function Ai(t){return LN.has(t.toLowerCase())}async function lT(t,e,r,n,i,s){for(let o=0;o<r.length;o++){let a=r[o],l=e[o];if(!l)continue;let u=t.find(p=>p.route.id===l.route.id),f=u!=null&&!wI(u,l)&&(s&&s[l.route.id])!==void 0;if(Oa(a)&&(i||f)){let p=n[o];Je(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await EI(a,p,i).then(d=>{d&&(r[o]=d||r[o])})}}}async function EI(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:pr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:pr.error,error:i}}return{type:pr.data,data:t.deferredData.data}}}function sb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function eF(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function Wx(t,e){let r=typeof e=="string"?to(e).search:e.search;if(t[t.length-1].route.index&&sb(r||""))return t[t.length-1];let n=q0(t);return n[n.length-1]}function uT(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Sd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tF(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Pc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function rF(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function Il(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jp.apply(this,arguments)}const K0=J.createContext(null),TI=J.createContext(null),Hu=J.createContext(null),Q0=J.createContext(null),rl=J.createContext({outlet:null,matches:[],isDataRoute:!1}),CI=J.createContext(null);function nF(t,e){let{relative:r}=e===void 0?{}:e;tf()||Je(!1);let{basename:n,navigator:i}=J.useContext(Hu),{hash:s,pathname:o,search:a}=AI(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Vs([n,o])),i.createHref({pathname:l,search:a,hash:s})}function tf(){return J.useContext(Q0)!=null}function Z0(){return tf()||Je(!1),J.useContext(Q0).location}function PI(t){J.useContext(Hu).static||J.useLayoutEffect(t)}function iF(){let{isDataRoute:t}=J.useContext(rl);return t?gF():sF()}function sF(){tf()||Je(!1);let t=J.useContext(K0),{basename:e,navigator:r}=J.useContext(Hu),{matches:n}=J.useContext(rl),{pathname:i}=Z0(),s=JSON.stringify(q0(n).map(l=>l.pathnameBase)),o=J.useRef(!1);return PI(()=>{o.current=!0}),J.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let f=nb(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Vs([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,i,t])}function AI(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=J.useContext(rl),{pathname:i}=Z0(),s=JSON.stringify(q0(n).map(o=>o.pathnameBase));return J.useMemo(()=>nb(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function oF(t,e,r){tf()||Je(!1);let{navigator:n}=J.useContext(Hu),{matches:i}=J.useContext(rl),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Z0(),u;if(e){var f;let _=typeof e=="string"?to(e):e;a==="/"||(f=_.pathname)!=null&&f.startsWith(a)||Je(!1),u=_}else u=l;let p=u.pathname||"/",d=a==="/"?p:p.slice(a.length)||"/",g=ql(t,{pathname:d}),m=hF(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Vs([a,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:Vs([a,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r);return e&&m?J.createElement(Q0.Provider,{value:{location:Jp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:lr.Pop}},m):m}function aF(){let t=mF(),e=xI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),r?J.createElement("pre",{style:i},r):null,s)}const lF=J.createElement(aF,null);class uF extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?J.createElement(rl.Provider,{value:this.props.routeContext},J.createElement(CI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cF(t){let{routeContext:e,match:r,children:n}=t,i=J.useContext(K0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),J.createElement(rl.Provider,{value:e},n)}function hF(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Je(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let f=l.route.id?o==null?void 0:o[l.route.id]:null,p=null;r&&(p=l.route.errorElement||lF);let d=e.concat(s.slice(0,u+1)),g=()=>{let m;return f?m=p:l.route.Component?m=J.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,J.createElement(cF,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:r!=null},children:m})};return r&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?J.createElement(uF,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:g(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):g()},null)}var $x;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})($x||($x={}));var Oh;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Oh||(Oh={}));function fF(t){let e=J.useContext(K0);return e||Je(!1),e}function dF(t){let e=J.useContext(TI);return e||Je(!1),e}function pF(t){let e=J.useContext(rl);return e||Je(!1),e}function RI(t){let e=pF(),r=e.matches[e.matches.length-1];return r.route.id||Je(!1),r.route.id}function mF(){var t;let e=J.useContext(CI),r=dF(Oh.UseRouteError),n=RI(Oh.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function gF(){let{router:t}=fF($x.UseNavigateStable),e=RI(Oh.UseNavigateStable),r=J.useRef(!1);return PI(()=>{r.current=!0}),J.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jp({fromRouteId:e},s)))},[t,e])}const vF="startTransition",cT=iO[vF];function yF(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=J.useState(r.state),{v7_startTransition:o}=n||{},a=J.useCallback(p=>{o&&cT?cT(()=>s(p)):s(p)},[s,o]);J.useLayoutEffect(()=>r.subscribe(a),[r,a]);let l=J.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:p=>r.navigate(p),push:(p,d,g)=>r.navigate(p,{state:d,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(p,d,g)=>r.navigate(p,{replace:!0,state:d,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[r]),u=r.basename||"/",f=J.useMemo(()=>({router:r,navigator:l,static:!1,basename:u}),[r,l,u]);return J.createElement(J.Fragment,null,J.createElement(K0.Provider,{value:f},J.createElement(TI.Provider,{value:i},J.createElement(_F,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?J.createElement(xF,{routes:r.routes,state:i}):e))),null)}function xF(t){let{routes:e,state:r}=t;return oF(e,void 0,r)}function _F(t){let{basename:e="/",children:r=null,location:n,navigationType:i=lr.Pop,navigator:s,static:o=!1}=t;tf()&&Je(!1);let a=e.replace(/^\/*/,"/"),l=J.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof n=="string"&&(n=to(n));let{pathname:u="/",search:f="",hash:p="",state:d=null,key:g="default"}=n,m=J.useMemo(()=>{let _=zu(u,a);return _==null?null:{location:{pathname:_,search:f,hash:p,state:d,key:g},navigationType:i}},[a,u,f,p,d,g,i]);return m==null?null:J.createElement(Hu.Provider,{value:l},J.createElement(Q0.Provider,{children:r,value:m}))}var hT;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(hT||(hT={}));new Promise(()=>{});function bF(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:J.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:J.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bh.apply(this,arguments)}function wF(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function SF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EF(t,e){return t.button===0&&(!e||e==="_self")&&!SF(t)}const TF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function CF(t,e){return WN({basename:e==null?void 0:e.basename,future:Bh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:pN({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||PF(),routes:t,mapRouteProperties:bF}).initialize()}function PF(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Bh({},e,{errors:AF(e.errors)})),e}function AF(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new ib(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const RF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wo=J.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f}=e,p=wF(e,TF),{basename:d}=J.useContext(Hu),g,m=!1;if(typeof u=="string"&&IF.test(u)&&(g=u,RF))try{let b=new URL(window.location.href),y=u.startsWith("//")?new URL(b.protocol+u):new URL(u),x=zu(y.pathname,d);y.origin===b.origin&&x!=null?u=x+y.search+y.hash:m=!0}catch{}let _=nF(u,{relative:i}),S=MF(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i});function T(b){n&&n(b),b.defaultPrevented||S(b)}return J.createElement("a",Bh({},p,{href:g||_,onClick:m||s?n:T,ref:r,target:l}))});var fT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(fT||(fT={}));var dT;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dT||(dT={}));function MF(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=iF(),l=Z0(),u=AI(t,{relative:o});return J.useCallback(f=>{if(EF(f,r)){f.preventDefault();let p=n!==void 0?n:qa(l)===qa(u);a(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[l,a,u,n,i,r,t,s,o])}var J0={exports:{}},nl=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(nl||{}),II=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(II||{}),Xx=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Xx||{}),Ne=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Ne||{}),ki=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(ki||{}),ce=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ce||{}),fu=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(fu||{}),Be=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Be||{}),Yx=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Yx||{}),Fs=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Fs||{}),js=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(js||{}),vs=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(vs||{}),Vi=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Vi||{}),ls=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(ls||{}),ob=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(ob||{}),si=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(si||{}),dr=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(dr||{}),ur=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(ur||{}),ps=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(ps||{});const kF={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},me={ADAPTER:kF,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var pv=/iPhone/i,pT=/iPod/i,mT=/iPad/i,gT=/\biOS-universal(?:.+)Mac\b/i,mv=/\bAndroid(?:.+)Mobile\b/i,vT=/Android/i,Tl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ed=/Silk/i,As=/Windows Phone/i,yT=/\bWindows(?:.+)ARM\b/i,xT=/BlackBerry/i,_T=/BB10/i,bT=/Opera Mini/i,wT=/\b(CriOS|Chrome)(?:.+)Mobile/i,ST=/Mobile(?:.+)Firefox\b/i,ET=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function DF(t){return function(e){return e.test(t)}}function TT(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=DF(r),s={apple:{phone:i(pv)&&!i(As),ipod:i(pT),tablet:!i(pv)&&(i(mT)||ET(e))&&!i(As),universal:i(gT),device:(i(pv)||i(pT)||i(mT)||i(gT)||ET(e))&&!i(As)},amazon:{phone:i(Tl),tablet:!i(Tl)&&i(Ed),device:i(Tl)||i(Ed)},android:{phone:!i(As)&&i(Tl)||!i(As)&&i(mv),tablet:!i(As)&&!i(Tl)&&!i(mv)&&(i(Ed)||i(vT)),device:!i(As)&&(i(Tl)||i(Ed)||i(mv)||i(vT))||i(/\bokhttp\b/i)},windows:{phone:i(As),tablet:i(yT),device:i(As)||i(yT)},other:{blackberry:i(xT),blackberry10:i(_T),opera:i(bT),firefox:i(ST),chrome:i(wT),device:i(xT)||i(_T)||i(bT)||i(ST)||i(wT)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const OF=TT.default??TT,Ls=OF(globalThis.navigator);me.RETINA_PREFIX=/@([0-9\.]+)x/;me.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var MI={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function s(l,u,f,p,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,p||l,d),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],g]:l._events[m].push(g):(l._events[m]=g,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)e.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var d=0,g=p.length,m=new Array(g);d<g;d++)m[d]=p[d].fn;return m},a.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},a.prototype.emit=function(u,f,p,d,g,m){var _=r?r+u:u;if(!this._events[_])return!1;var S=this._events[_],T=arguments.length,b,y;if(S.fn){switch(S.once&&this.removeListener(u,S.fn,void 0,!0),T){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,p),!0;case 4:return S.fn.call(S.context,f,p,d),!0;case 5:return S.fn.call(S.context,f,p,d,g),!0;case 6:return S.fn.call(S.context,f,p,d,g,m),!0}for(y=1,b=new Array(T-1);y<T;y++)b[y-1]=arguments[y];S.fn.apply(S.context,b)}else{var x=S.length,C;for(y=0;y<x;y++)switch(S[y].once&&this.removeListener(u,S[y].fn,void 0,!0),T){case 1:S[y].fn.call(S[y].context);break;case 2:S[y].fn.call(S[y].context,f);break;case 3:S[y].fn.call(S[y].context,f,p);break;case 4:S[y].fn.call(S[y].context,f,p,d);break;default:if(!b)for(C=1,b=new Array(T-1);C<T;C++)b[C-1]=arguments[C];S[y].fn.apply(S[y].context,b)}}return!0},a.prototype.on=function(u,f,p){return s(this,u,f,p,!1)},a.prototype.once=function(u,f,p){return s(this,u,f,p,!0)},a.prototype.removeListener=function(u,f,p,d){var g=r?r+u:u;if(!this._events[g])return this;if(!f)return o(this,g),this;var m=this._events[g];if(m.fn)m.fn===f&&(!d||m.once)&&(!p||m.context===p)&&o(this,g);else{for(var _=0,S=[],T=m.length;_<T;_++)(m[_].fn!==f||d&&!m[_].once||p&&m[_].context!==p)&&S.push(m[_]);S.length?this._events[g]=S.length===1?S[0]:S:o(this,g)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(MI);var BF=MI.exports;const rf=Ja(BF);var ab={exports:{}};ab.exports=em;ab.exports.default=em;function em(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=kI(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,f,p,d,g;if(n&&(s=zF(t,e,s,r)),t.length>80*r){a=u=t[0],l=f=t[1];for(var m=r;m<i;m+=r)p=t[m],d=t[m+1],p<a&&(a=p),d<l&&(l=d),p>u&&(u=p),d>f&&(f=d);g=Math.max(u-a,f-l),g=g!==0?32767/g:0}return Nh(s,o,r,a,l,g,0),o}function kI(t,e,r,n,i){var s,o;if(i===Qx(t,e,r,n)>0)for(s=e;s<r;s+=n)o=CT(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=CT(s,t[s],t[s+1],o);return o&&tm(o,o.next)&&(Lh(o),o=o.next),o}function Ka(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(tm(r,r.next)||zt(r.prev,r,r.next)===0)){if(Lh(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Nh(t,e,r,n,i,s,o){if(t){!o&&s&&WF(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?FF(t,n,i,s):NF(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),Lh(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=LF(Ka(t),e,r),Nh(t,e,r,n,i,s,2)):o===2&&UF(t,e,r,n,i,s):Nh(Ka(t),e,r,n,i,s,1);break}}}}function NF(t){var e=t.prev,r=t,n=t.next;if(zt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,f=i<s?i<o?i:o:s<o?s:o,p=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,g=a>l?a>u?a:u:l>u?l:u,m=n.next;m!==e;){if(m.x>=f&&m.x<=d&&m.y>=p&&m.y<=g&&Ql(i,a,s,l,o,u,m.x,m.y)&&zt(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function FF(t,e,r,n){var i=t.prev,s=t,o=t.next;if(zt(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,f=i.y,p=s.y,d=o.y,g=a<l?a<u?a:u:l<u?l:u,m=f<p?f<d?f:d:p<d?p:d,_=a>l?a>u?a:u:l>u?l:u,S=f>p?f>d?f:d:p>d?p:d,T=qx(g,m,e,r,n),b=qx(_,S,e,r,n),y=t.prevZ,x=t.nextZ;y&&y.z>=T&&x&&x.z<=b;){if(y.x>=g&&y.x<=_&&y.y>=m&&y.y<=S&&y!==i&&y!==o&&Ql(a,f,l,p,u,d,y.x,y.y)&&zt(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=g&&x.x<=_&&x.y>=m&&x.y<=S&&x!==i&&x!==o&&Ql(a,f,l,p,u,d,x.x,x.y)&&zt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=T;){if(y.x>=g&&y.x<=_&&y.y>=m&&y.y<=S&&y!==i&&y!==o&&Ql(a,f,l,p,u,d,y.x,y.y)&&zt(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=b;){if(x.x>=g&&x.x<=_&&x.y>=m&&x.y<=S&&x!==i&&x!==o&&Ql(a,f,l,p,u,d,x.x,x.y)&&zt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function LF(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!tm(i,s)&&DI(i,n,n.next,s)&&Fh(i,s)&&Fh(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Lh(n),Lh(n.next),n=t=s),n=n.next}while(n!==t);return Ka(n)}function UF(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&YF(o,a)){var l=OI(o,a);o=Ka(o,o.next),l=Ka(l,l.next),Nh(o,e,r,n,i,s,0),Nh(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function zF(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=kI(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(XF(u));for(i.sort(HF),s=0;s<i.length;s++)r=VF(i[s],r);return r}function HF(t,e){return t.x-e.x}function VF(t,e){var r=jF(t,e);if(!r)return e;var n=OI(r,t);return Ka(n,n.next),Ka(r,r.next)}function jF(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,f=o.y,p=1/0,d;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&Ql(i<f?n:s,i,u,f,i<f?s:n,i,r.x,r.y)&&(d=Math.abs(i-r.y)/(n-r.x),Fh(r,t)&&(d<p||d===p&&(r.x>o.x||r.x===o.x&&GF(o,r)))&&(o=r,p=d)),r=r.next;while(r!==l);return o}function GF(t,e){return zt(t.prev,t,e.prev)<0&&zt(e.next,t,t.next)<0}function WF(t,e,r,n){var i=t;do i.z===0&&(i.z=qx(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,$F(i)}function $F(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function qx(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function XF(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Ql(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function YF(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!qF(t,e)&&(Fh(t,e)&&Fh(e,t)&&KF(t,e)&&(zt(t.prev,t,e.prev)||zt(t,e.prev,e))||tm(t,e)&&zt(t.prev,t,t.next)>0&&zt(e.prev,e,e.next)>0)}function zt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function tm(t,e){return t.x===e.x&&t.y===e.y}function DI(t,e,r,n){var i=Cd(zt(t,e,r)),s=Cd(zt(t,e,n)),o=Cd(zt(r,n,t)),a=Cd(zt(r,n,e));return!!(i!==s&&o!==a||i===0&&Td(t,r,e)||s===0&&Td(t,n,e)||o===0&&Td(r,t,n)||a===0&&Td(r,e,n))}function Td(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Cd(t){return t>0?1:t<0?-1:0}function qF(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&DI(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Fh(t,e){return zt(t.prev,t,t.next)<0?zt(t,e,t.next)>=0&&zt(t,t.prev,e)>=0:zt(t,e,t.prev)<0||zt(t,t.next,e)<0}function KF(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function OI(t,e){var r=new Kx(t.i,t.x,t.y),n=new Kx(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function CT(t,e,r,n){var i=new Kx(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Lh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Kx(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}em.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Qx(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,f=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Qx(t,u,f,r))}var p=0;for(a=0;a<n.length;a+=3){var d=n[a]*r,g=n[a+1]*r,m=n[a+2]*r;p+=Math.abs((t[d]-t[m])*(t[g+1]-t[d+1])-(t[d]-t[g])*(t[m+1]-t[d+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function Qx(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}em.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var QF=ab.exports;const ZF=Ja(QF);var e0={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */e0.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof $e=="object"&&$e;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,f=26,p=38,d=700,g=72,m=128,_="-",S=/^xn--/,T=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,C=Math.floor,M=String.fromCharCode,I;function A(H){throw new RangeError(y[H])}function D(H,L){for(var j=H.length,Y=[];j--;)Y[j]=L(H[j]);return Y}function R(H,L){var j=H.split("@"),Y="";j.length>1&&(Y=j[0]+"@",H=j[1]),H=H.replace(b,".");var W=H.split("."),de=D(W,L).join(".");return Y+de}function k(H){for(var L=[],j=0,Y=H.length,W,de;j<Y;)W=H.charCodeAt(j++),W>=55296&&W<=56319&&j<Y?(de=H.charCodeAt(j++),(de&64512)==56320?L.push(((W&1023)<<10)+(de&1023)+65536):(L.push(W),j--)):L.push(W);return L}function O(H){return D(H,function(L){var j="";return L>65535&&(L-=65536,j+=M(L>>>10&1023|55296),L=56320|L&1023),j+=M(L),j}).join("")}function U(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:l}function N(H,L){return H+22+75*(H<26)-((L!=0)<<5)}function G(H,L,j){var Y=0;for(H=j?C(H/d):H>>1,H+=C(H/L);H>x*f>>1;Y+=l)H=C(H/x);return C(Y+(x+1)*H/(H+p))}function Q(H){var L=[],j=H.length,Y,W=0,de=m,he=g,Pe,ge,ut,Ze,Ie,Xe,Oe,it,St;for(Pe=H.lastIndexOf(_),Pe<0&&(Pe=0),ge=0;ge<Pe;++ge)H.charCodeAt(ge)>=128&&A("not-basic"),L.push(H.charCodeAt(ge));for(ut=Pe>0?Pe+1:0;ut<j;){for(Ze=W,Ie=1,Xe=l;ut>=j&&A("invalid-input"),Oe=U(H.charCodeAt(ut++)),(Oe>=l||Oe>C((a-W)/Ie))&&A("overflow"),W+=Oe*Ie,it=Xe<=he?u:Xe>=he+f?f:Xe-he,!(Oe<it);Xe+=l)St=l-it,Ie>C(a/St)&&A("overflow"),Ie*=St;Y=L.length+1,he=G(W-Ze,Y,Ze==0),C(W/Y)>a-de&&A("overflow"),de+=C(W/Y),W%=Y,L.splice(W++,0,de)}return O(L)}function z(H){var L,j,Y,W,de,he,Pe,ge,ut,Ze,Ie,Xe=[],Oe,it,St,ir;for(H=k(H),Oe=H.length,L=m,j=0,de=g,he=0;he<Oe;++he)Ie=H[he],Ie<128&&Xe.push(M(Ie));for(Y=W=Xe.length,W&&Xe.push(_);Y<Oe;){for(Pe=a,he=0;he<Oe;++he)Ie=H[he],Ie>=L&&Ie<Pe&&(Pe=Ie);for(it=Y+1,Pe-L>C((a-j)/it)&&A("overflow"),j+=(Pe-L)*it,L=Pe,he=0;he<Oe;++he)if(Ie=H[he],Ie<L&&++j>a&&A("overflow"),Ie==L){for(ge=j,ut=l;Ze=ut<=de?u:ut>=de+f?f:ut-de,!(ge<Ze);ut+=l)ir=ge-Ze,St=l-Ze,Xe.push(M(N(Ze+ir%St,0))),ge=C(ir/St);Xe.push(M(N(ge,0))),de=G(j,it,Y==W),j=0,++Y}++j,++L}return Xe.join("")}function F(H){return R(H,function(L){return S.test(L)?Q(L.slice(4).toLowerCase()):L})}function $(H){return R(H,function(L){return T.test(L)?"xn--"+z(L):L})}if(o={version:"1.4.1",ucs2:{decode:k,encode:O},decode:Q,encode:z,toASCII:$,toUnicode:F},n&&i)if(t.exports==n)i.exports=o;else for(I in o)o.hasOwnProperty(I)&&(n[I]=o[I]);else r.punycode=o})($e)})(e0,e0.exports);var JF=e0.exports,e8=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},PT=typeof Symbol<"u"&&Symbol,t8=e8,r8=function(){return typeof PT!="function"||typeof Symbol!="function"||typeof PT("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t8()},AT={foo:{}},n8=Object,i8=function(){return{__proto__:AT}.foo===AT.foo&&!({__proto__:null}instanceof n8)},s8="Function.prototype.bind called on incompatible ",gv=Array.prototype.slice,o8=Object.prototype.toString,a8="[object Function]",l8=function(e){var r=this;if(typeof r!="function"||o8.call(r)!==a8)throw new TypeError(s8+r);for(var n=gv.call(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,n.concat(gv.call(arguments)));return Object(f)===f?f:this}else return r.apply(e,n.concat(gv.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],l=0;l<o;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},u8=l8,lb=Function.prototype.bind||u8,c8=lb,h8=c8.call(Function.call,Object.prototype.hasOwnProperty),et,Au=SyntaxError,BI=Function,du=TypeError,vv=function(t){try{return BI('"use strict"; return ('+t+").constructor;")()}catch{}},Ua=Object.getOwnPropertyDescriptor;if(Ua)try{Ua({},"")}catch{Ua=null}var yv=function(){throw new du},f8=Ua?function(){try{return arguments.callee,yv}catch{try{return Ua(arguments,"callee").get}catch{return yv}}}():yv,Cl=r8(),d8=i8(),Tr=Object.getPrototypeOf||(d8?function(t){return t.__proto__}:null),Ml={},p8=typeof Uint8Array>"u"||!Tr?et:Tr(Uint8Array),za={"%AggregateError%":typeof AggregateError>"u"?et:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?et:ArrayBuffer,"%ArrayIteratorPrototype%":Cl&&Tr?Tr([][Symbol.iterator]()):et,"%AsyncFromSyncIteratorPrototype%":et,"%AsyncFunction%":Ml,"%AsyncGenerator%":Ml,"%AsyncGeneratorFunction%":Ml,"%AsyncIteratorPrototype%":Ml,"%Atomics%":typeof Atomics>"u"?et:Atomics,"%BigInt%":typeof BigInt>"u"?et:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?et:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?et:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?et:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?et:Float32Array,"%Float64Array%":typeof Float64Array>"u"?et:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?et:FinalizationRegistry,"%Function%":BI,"%GeneratorFunction%":Ml,"%Int8Array%":typeof Int8Array>"u"?et:Int8Array,"%Int16Array%":typeof Int16Array>"u"?et:Int16Array,"%Int32Array%":typeof Int32Array>"u"?et:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Cl&&Tr?Tr(Tr([][Symbol.iterator]())):et,"%JSON%":typeof JSON=="object"?JSON:et,"%Map%":typeof Map>"u"?et:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Cl||!Tr?et:Tr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?et:Promise,"%Proxy%":typeof Proxy>"u"?et:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?et:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?et:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Cl||!Tr?et:Tr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?et:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Cl&&Tr?Tr(""[Symbol.iterator]()):et,"%Symbol%":Cl?Symbol:et,"%SyntaxError%":Au,"%ThrowTypeError%":f8,"%TypedArray%":p8,"%TypeError%":du,"%Uint8Array%":typeof Uint8Array>"u"?et:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?et:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?et:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?et:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?et:WeakMap,"%WeakRef%":typeof WeakRef>"u"?et:WeakRef,"%WeakSet%":typeof WeakSet>"u"?et:WeakSet};if(Tr)try{null.error}catch(t){var m8=Tr(Tr(t));za["%Error.prototype%"]=m8}var g8=function t(e){var r;if(e==="%AsyncFunction%")r=vv("async function () {}");else if(e==="%GeneratorFunction%")r=vv("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=vv("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Tr&&(r=Tr(i.prototype))}return za[e]=r,r},RT={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},nf=lb,t0=h8,v8=nf.call(Function.call,Array.prototype.concat),y8=nf.call(Function.apply,Array.prototype.splice),IT=nf.call(Function.call,String.prototype.replace),r0=nf.call(Function.call,String.prototype.slice),x8=nf.call(Function.call,RegExp.prototype.exec),_8=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,b8=/\\(\\)?/g,w8=function(e){var r=r0(e,0,1),n=r0(e,-1);if(r==="%"&&n!=="%")throw new Au("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Au("invalid intrinsic syntax, expected opening `%`");var i=[];return IT(e,_8,function(s,o,a,l){i[i.length]=a?IT(l,b8,"$1"):o||s}),i},S8=function(e,r){var n=e,i;if(t0(RT,n)&&(i=RT[n],n="%"+i[0]+"%"),t0(za,n)){var s=za[n];if(s===Ml&&(s=g8(n)),typeof s>"u"&&!r)throw new du("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Au("intrinsic "+e+" does not exist!")},ub=function(e,r){if(typeof e!="string"||e.length===0)throw new du("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new du('"allowMissing" argument must be a boolean');if(x8(/^%?[^%]*%?$/,e)===null)throw new Au("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=w8(e),i=n.length>0?n[0]:"",s=S8("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],y8(n,v8([0,1],u)));for(var f=1,p=!0;f<n.length;f+=1){var d=n[f],g=r0(d,0,1),m=r0(d,-1);if((g==='"'||g==="'"||g==="`"||m==='"'||m==="'"||m==="`")&&g!==m)throw new Au("property names with quotes must have matching quotes");if((d==="constructor"||!p)&&(l=!0),i+="."+d,o="%"+i+"%",t0(za,o))a=za[o];else if(a!=null){if(!(d in a)){if(!r)throw new du("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ua&&f+1>=n.length){var _=Ua(a,d);p=!!_,p&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[d]}else p=t0(a,d),a=a[d];p&&!l&&(za[o]=a)}}return a},NI={exports:{}};(function(t){var e=lb,r=ub,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(p){var d=s(e,i,arguments);if(o&&a){var g=o(d,"length");g.configurable&&a(d,"length",{value:1+l(0,p.length-(arguments.length-1))})}return d};var u=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(NI);var E8=NI.exports,FI=ub,LI=E8,T8=LI(FI("String.prototype.indexOf")),C8=function(e,r){var n=FI(e,!!r);return typeof n=="function"&&T8(e,".prototype.")>-1?LI(n):n};const P8={},A8=Object.freeze(Object.defineProperty({__proto__:null,default:P8},Symbol.toStringTag,{value:"Module"})),UI=l_(A8);var cb=typeof Map=="function"&&Map.prototype,xv=Object.getOwnPropertyDescriptor&&cb?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n0=cb&&xv&&typeof xv.get=="function"?xv.get:null,MT=cb&&Map.prototype.forEach,hb=typeof Set=="function"&&Set.prototype,_v=Object.getOwnPropertyDescriptor&&hb?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,i0=hb&&_v&&typeof _v.get=="function"?_v.get:null,kT=hb&&Set.prototype.forEach,R8=typeof WeakMap=="function"&&WeakMap.prototype,ih=R8?WeakMap.prototype.has:null,I8=typeof WeakSet=="function"&&WeakSet.prototype,sh=I8?WeakSet.prototype.has:null,M8=typeof WeakRef=="function"&&WeakRef.prototype,DT=M8?WeakRef.prototype.deref:null,k8=Boolean.prototype.valueOf,D8=Object.prototype.toString,O8=Function.prototype.toString,B8=String.prototype.match,fb=String.prototype.slice,Ro=String.prototype.replace,N8=String.prototype.toUpperCase,OT=String.prototype.toLowerCase,zI=RegExp.prototype.test,BT=Array.prototype.concat,us=Array.prototype.join,F8=Array.prototype.slice,NT=Math.floor,Zx=typeof BigInt=="function"?BigInt.prototype.valueOf:null,bv=Object.getOwnPropertySymbols,Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="object",tn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ru||"symbol")?Symbol.toStringTag:null,HI=Object.prototype.propertyIsEnumerable,FT=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function LT(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||zI.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-NT(-t):NT(t);if(n!==t){var i=String(n),s=fb.call(e,i.length+1);return Ro.call(i,r,"$&_")+"."+Ro.call(Ro.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ro.call(e,r,"$&_")}var e1=UI,UT=e1.custom,zT=jI(UT)?UT:null,L8=function t(e,r,n,i){var s=r||{};if(wo(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(wo(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=wo(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(wo(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(wo(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return WI(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?LT(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?LT(e,u):u}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return t1(e)?"[Array]":"[Object]";var p=rL(s,n);if(typeof i>"u")i=[];else if(GI(i,e)>=0)return"[Circular]";function d(U,N,G){if(N&&(i=F8.call(i),i.push(N)),G){var Q={depth:s.depth};return wo(s,"quoteStyle")&&(Q.quoteStyle=s.quoteStyle),t(U,Q,n+1,i)}return t(U,s,n+1,i)}if(typeof e=="function"&&!HT(e)){var g=X8(e),m=Pd(e,d);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(m.length>0?" { "+us.call(m,", ")+" }":"")}if(jI(e)){var _=Ru?Ro.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Jx.call(e);return typeof e=="object"&&!Ru?Ac(_):_}if(J8(e)){for(var S="<"+OT.call(String(e.nodeName)),T=e.attributes||[],b=0;b<T.length;b++)S+=" "+T[b].name+"="+VI(U8(T[b].value),"double",s);return S+=">",e.childNodes&&e.childNodes.length&&(S+="..."),S+="</"+OT.call(String(e.nodeName))+">",S}if(t1(e)){if(e.length===0)return"[]";var y=Pd(e,d);return p&&!tL(y)?"["+r1(y,p)+"]":"[ "+us.call(y,", ")+" ]"}if(H8(e)){var x=Pd(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!HI.call(e,"cause")?"{ ["+String(e)+"] "+us.call(BT.call("[cause]: "+d(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+us.call(x,", ")+" }"}if(typeof e=="object"&&o){if(zT&&typeof e[zT]=="function"&&e1)return e1(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Y8(e)){var C=[];return MT&&MT.call(e,function(U,N){C.push(d(N,e,!0)+" => "+d(U,e))}),VT("Map",n0.call(e),C,p)}if(Q8(e)){var M=[];return kT&&kT.call(e,function(U){M.push(d(U,e))}),VT("Set",i0.call(e),M,p)}if(q8(e))return wv("WeakMap");if(Z8(e))return wv("WeakSet");if(K8(e))return wv("WeakRef");if(j8(e))return Ac(d(Number(e)));if(W8(e))return Ac(d(Zx.call(e)));if(G8(e))return Ac(k8.call(e));if(V8(e))return Ac(d(String(e)));if(!z8(e)&&!HT(e)){var I=Pd(e,d),A=FT?FT(e)===Object.prototype:e instanceof Object||e.constructor===Object,D=e instanceof Object?"":"null prototype",R=!A&&tn&&Object(e)===e&&tn in e?fb.call(ta(e),8,-1):D?"Object":"",k=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",O=k+(R||D?"["+us.call(BT.call([],R||[],D||[]),": ")+"] ":"");return I.length===0?O+"{}":p?O+"{"+r1(I,p)+"}":O+"{ "+us.call(I,", ")+" }"}return String(e)};function VI(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function U8(t){return Ro.call(String(t),/"/g,"&quot;")}function t1(t){return ta(t)==="[object Array]"&&(!tn||!(typeof t=="object"&&tn in t))}function z8(t){return ta(t)==="[object Date]"&&(!tn||!(typeof t=="object"&&tn in t))}function HT(t){return ta(t)==="[object RegExp]"&&(!tn||!(typeof t=="object"&&tn in t))}function H8(t){return ta(t)==="[object Error]"&&(!tn||!(typeof t=="object"&&tn in t))}function V8(t){return ta(t)==="[object String]"&&(!tn||!(typeof t=="object"&&tn in t))}function j8(t){return ta(t)==="[object Number]"&&(!tn||!(typeof t=="object"&&tn in t))}function G8(t){return ta(t)==="[object Boolean]"&&(!tn||!(typeof t=="object"&&tn in t))}function jI(t){if(Ru)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Jx)return!1;try{return Jx.call(t),!0}catch{}return!1}function W8(t){if(!t||typeof t!="object"||!Zx)return!1;try{return Zx.call(t),!0}catch{}return!1}var $8=Object.prototype.hasOwnProperty||function(t){return t in this};function wo(t,e){return $8.call(t,e)}function ta(t){return D8.call(t)}function X8(t){if(t.name)return t.name;var e=B8.call(O8.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function GI(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Y8(t){if(!n0||!t||typeof t!="object")return!1;try{n0.call(t);try{i0.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function q8(t){if(!ih||!t||typeof t!="object")return!1;try{ih.call(t,ih);try{sh.call(t,sh)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function K8(t){if(!DT||!t||typeof t!="object")return!1;try{return DT.call(t),!0}catch{}return!1}function Q8(t){if(!i0||!t||typeof t!="object")return!1;try{i0.call(t);try{n0.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Z8(t){if(!sh||!t||typeof t!="object")return!1;try{sh.call(t,sh);try{ih.call(t,ih)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function J8(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function WI(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return WI(fb.call(t,0,e.maxStringLength),e)+n}var i=Ro.call(Ro.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,eL);return VI(i,"single",e)}function eL(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+N8.call(e.toString(16))}function Ac(t){return"Object("+t+")"}function wv(t){return t+" { ? }"}function VT(t,e,r,n){var i=n?r1(r,n):us.call(r,", ");return t+" ("+e+") {"+i+"}"}function tL(t){for(var e=0;e<t.length;e++)if(GI(t[e],`
`)>=0)return!1;return!0}function rL(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=us.call(Array(t.indent+1)," ");else return null;return{base:r,prev:us.call(Array(e+1),r)}}function r1(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+us.call(t,","+r)+`
`+e.prev}function Pd(t,e){var r=t1(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=wo(t,i)?e(t[i],t):""}var s=typeof bv=="function"?bv(t):[],o;if(Ru){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)wo(t,l)&&(r&&String(Number(l))===l&&l<t.length||Ru&&o["$"+l]instanceof Symbol||(zI.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof bv=="function")for(var u=0;u<s.length;u++)HI.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var db=ub,Vu=C8,nL=L8,iL=db("%TypeError%"),Ad=db("%WeakMap%",!0),Rd=db("%Map%",!0),sL=Vu("WeakMap.prototype.get",!0),oL=Vu("WeakMap.prototype.set",!0),aL=Vu("WeakMap.prototype.has",!0),lL=Vu("Map.prototype.get",!0),uL=Vu("Map.prototype.set",!0),cL=Vu("Map.prototype.has",!0),pb=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},hL=function(t,e){var r=pb(t,e);return r&&r.value},fL=function(t,e,r){var n=pb(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},dL=function(t,e){return!!pb(t,e)},pL=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new iL("Side channel does not contain "+nL(s))},get:function(s){if(Ad&&s&&(typeof s=="object"||typeof s=="function")){if(e)return sL(e,s)}else if(Rd){if(r)return lL(r,s)}else if(n)return hL(n,s)},has:function(s){if(Ad&&s&&(typeof s=="object"||typeof s=="function")){if(e)return aL(e,s)}else if(Rd){if(r)return cL(r,s)}else if(n)return dL(n,s);return!1},set:function(s,o){Ad&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ad),oL(e,s,o)):Rd?(r||(r=new Rd),uL(r,s,o)):(n||(n={key:{},next:null}),fL(n,s,o))}};return i},mL=String.prototype.replace,gL=/%20/g,Sv={RFC1738:"RFC1738",RFC3986:"RFC3986"},mb={default:Sv.RFC3986,formatters:{RFC1738:function(t){return mL.call(t,gL,"+")},RFC3986:function(t){return String(t)}},RFC1738:Sv.RFC1738,RFC3986:Sv.RFC3986},vL=mb,Ev=Object.prototype.hasOwnProperty,Ia=Array.isArray,ns=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),yL=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ia(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},$I=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},xL=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ia(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Ev.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ia(e)&&!Ia(r)&&(i=$I(e,n)),Ia(e)&&Ia(r)?(r.forEach(function(s,o){if(Ev.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Ev.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},_L=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},bL=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},wL=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var u=o.charCodeAt(l);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===vL.RFC1738&&(u===40||u===41)){a+=o.charAt(l);continue}if(u<128){a=a+ns[u];continue}if(u<2048){a=a+(ns[192|u>>6]+ns[128|u&63]);continue}if(u<55296||u>=57344){a=a+(ns[224|u>>12]+ns[128|u>>6&63]+ns[128|u&63]);continue}l+=1,u=65536+((u&1023)<<10|o.charCodeAt(l)&1023),a+=ns[240|u>>18]+ns[128|u>>12&63]+ns[128|u>>6&63]+ns[128|u&63]}return a},SL=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],f=o[u];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:u}),n.push(f))}return yL(r),e},EL=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},TL=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},CL=function(e,r){return[].concat(e,r)},PL=function(e,r){if(Ia(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},XI={arrayToObject:$I,assign:_L,combine:CL,compact:SL,decode:bL,encode:wL,isBuffer:TL,isRegExp:EL,maybeMap:PL,merge:xL},YI=pL,xp=XI,oh=mb,AL=Object.prototype.hasOwnProperty,jT={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Os=Array.isArray,RL=Array.prototype.push,qI=function(t,e){RL.apply(t,Os(e)?e:[e])},IL=Date.prototype.toISOString,GT=oh.default,Xr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:xp.encode,encodeValuesOnly:!1,format:GT,formatter:oh.formatters[GT],indices:!1,serializeDate:function(e){return IL.call(e)},skipNulls:!1,strictNullHandling:!1},ML=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Tv={},kL=function t(e,r,n,i,s,o,a,l,u,f,p,d,g,m,_,S){for(var T=e,b=S,y=0,x=!1;(b=b.get(Tv))!==void 0&&!x;){var C=b.get(e);if(y+=1,typeof C<"u"){if(C===y)throw new RangeError("Cyclic object value");x=!0}typeof b.get(Tv)>"u"&&(y=0)}if(typeof l=="function"?T=l(r,T):T instanceof Date?T=p(T):n==="comma"&&Os(T)&&(T=xp.maybeMap(T,function(Q){return Q instanceof Date?p(Q):Q})),T===null){if(s)return a&&!m?a(r,Xr.encoder,_,"key",d):r;T=""}if(ML(T)||xp.isBuffer(T)){if(a){var M=m?r:a(r,Xr.encoder,_,"key",d);return[g(M)+"="+g(a(T,Xr.encoder,_,"value",d))]}return[g(r)+"="+g(String(T))]}var I=[];if(typeof T>"u")return I;var A;if(n==="comma"&&Os(T))m&&a&&(T=xp.maybeMap(T,a)),A=[{value:T.length>0?T.join(",")||null:void 0}];else if(Os(l))A=l;else{var D=Object.keys(T);A=u?D.sort(u):D}for(var R=i&&Os(T)&&T.length===1?r+"[]":r,k=0;k<A.length;++k){var O=A[k],U=typeof O=="object"&&typeof O.value<"u"?O.value:T[O];if(!(o&&U===null)){var N=Os(T)?typeof n=="function"?n(R,O):R:R+(f?"."+O:"["+O+"]");S.set(e,y);var G=YI();G.set(Tv,S),qI(I,t(U,N,n,i,s,o,n==="comma"&&m&&Os(T)?null:a,l,u,f,p,d,g,m,_,G))}}return I},DL=function(e){if(!e)return Xr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Xr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=oh.default;if(typeof e.format<"u"){if(!AL.call(oh.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=oh.formatters[n],s=Xr.filter;return(typeof e.filter=="function"||Os(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Xr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Xr.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Xr.charsetSentinel,delimiter:typeof e.delimiter>"u"?Xr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Xr.encode,encoder:typeof e.encoder=="function"?e.encoder:Xr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Xr.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Xr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Xr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Xr.strictNullHandling}},OL=function(t,e){var r=t,n=DL(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Os(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in jT?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=jT[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=l==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var f=YI(),p=0;p<i.length;++p){var d=i[p];n.skipNulls&&r[d]===null||qI(o,kL(r[d],d,l,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var g=o.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),g.length>0?m+g:""},Iu=XI,n1=Object.prototype.hasOwnProperty,BL=Array.isArray,Er={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Iu.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},NL=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},KI=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},FL="utf8=%26%2310003%3B",LL="utf8=%E2%9C%93",UL=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===LL?u="utf-8":o[l]===FL&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var f=o[l],p=f.indexOf("]="),d=p===-1?f.indexOf("="):p+1,g,m;d===-1?(g=r.decoder(f,Er.decoder,u,"key"),m=r.strictNullHandling?null:""):(g=r.decoder(f.slice(0,d),Er.decoder,u,"key"),m=Iu.maybeMap(KI(f.slice(d+1),r),function(_){return r.decoder(_,Er.decoder,u,"value")})),m&&r.interpretNumericEntities&&u==="iso-8859-1"&&(m=NL(m)),f.indexOf("[]=")>-1&&(m=BL(m)?[m]:m),n1.call(n,g)?n[g]=Iu.combine(n[g],m):n[g]=m}return n},zL=function(t,e,r,n){for(var i=n?e:KI(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},HL=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,f=[];if(u){if(!n.plainObjects&&n1.call(Object.prototype,u)&&!n.allowPrototypes)return;f.push(u)}for(var p=0;n.depth>0&&(l=a.exec(s))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&n1.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(l[1])}return l&&f.push("["+s.slice(l.index)+"]"),zL(f,r,n,i)}},VL=function(e){if(!e)return Er;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Er.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Er.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Er.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Er.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Er.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Er.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Er.comma,decoder:typeof e.decoder=="function"?e.decoder:Er.decoder,delimiter:typeof e.delimiter=="string"||Iu.isRegExp(e.delimiter)?e.delimiter:Er.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Er.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Er.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Er.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Er.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Er.strictNullHandling}},jL=function(t,e){var r=VL(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?UL(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=HL(a,n[a],r,typeof t=="string");i=Iu.merge(i,l,r)}return r.allowSparse===!0?i:Iu.compact(i)},GL=OL,WL=jL,$L=mb,XL={formats:$L,parse:WL,stringify:GL},YL=JF;function Fi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var qL=/^([a-z0-9.+-]+:)/i,KL=/:[0-9]*$/,QL=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,ZL=["<",">",'"',"`"," ","\r",`
`,"	"],JL=["{","}","|","\\","^","`"].concat(ZL),i1=["'"].concat(JL),WT=["%","/","?",";","#"].concat(i1),$T=["/","?","#"],e5=255,XT=/^[+a-z0-9A-Z_-]{0,63}$/,t5=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,r5={javascript:!0,"javascript:":!0},s1={javascript:!0,"javascript:":!0},pu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},o1=XL;function rm(t,e,r){if(t&&typeof t=="object"&&t instanceof Fi)return t;var n=new Fi;return n.parse(t,e,r),n}Fi.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=QL.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=o1.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=qL.exec(a);if(u){u=u[0];var f=u.toLowerCase();this.protocol=f,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var p=a.substr(0,2)==="//";p&&!(u&&s1[u])&&(a=a.substr(2),this.slashes=!0)}if(!s1[u]&&(p||u&&!pu[u])){for(var d=-1,g=0;g<$T.length;g++){var m=a.indexOf($T[g]);m!==-1&&(d===-1||m<d)&&(d=m)}var _,S;d===-1?S=a.lastIndexOf("@"):S=a.lastIndexOf("@",d),S!==-1&&(_=a.slice(0,S),a=a.slice(S+1),this.auth=decodeURIComponent(_)),d=-1;for(var g=0;g<WT.length;g++){var m=a.indexOf(WT[g]);m!==-1&&(d===-1||m<d)&&(d=m)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var T=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!T)for(var b=this.hostname.split(/\./),g=0,y=b.length;g<y;g++){var x=b[g];if(x&&!x.match(XT)){for(var C="",M=0,I=x.length;M<I;M++)x.charCodeAt(M)>127?C+="x":C+=x[M];if(!C.match(XT)){var A=b.slice(0,g),D=b.slice(g+1),R=x.match(t5);R&&(A.push(R[1]),D.unshift(R[2])),D.length&&(a="/"+D.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>e5?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=YL.toASCII(this.hostname));var k=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+k,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!r5[f])for(var g=0,y=i1.length;g<y;g++){var U=i1[g];if(a.indexOf(U)!==-1){var N=encodeURIComponent(U);N===U&&(N=escape(U)),a=a.split(U).join(N)}}var G=a.indexOf("#");G!==-1&&(this.hash=a.substr(G),a=a.slice(0,G));var Q=a.indexOf("?");if(Q!==-1?(this.search=a.substr(Q),this.query=a.substr(Q+1),e&&(this.query=o1.parse(this.query)),a=a.slice(0,Q)):e&&(this.search="",this.query={}),a&&(this.pathname=a),pu[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var k=this.pathname||"",z=this.search||"";this.path=k+z}return this.href=this.format(),this};function n5(t){return typeof t=="string"&&(t=rm(t)),t instanceof Fi?t.format():Fi.prototype.format.call(t)}Fi.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=o1.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||pu[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function i5(t,e){return rm(t,!1,!0).resolve(e)}Fi.prototype.resolve=function(t){return this.resolveObject(rm(t,!1,!0)).format()};Fi.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Fi;e.parse(t,!1,!0),t=e}for(var r=new Fi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return pu[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!pu[t.protocol]){for(var u=Object.keys(t),f=0;f<u.length;f++){var p=u[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!s1[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",g=r.search||"";r.path=d+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&r.pathname.charAt(0)==="/",_=t.host||t.pathname&&t.pathname.charAt(0)==="/",S=_||m||r.host&&t.pathname,T=S,b=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!pu[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),S=S&&(y[0]===""||b[0]==="")),_)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=y;else if(y.length)b||(b=[]),b.pop(),b=b.concat(y),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=b.shift(),r.hostname=r.host;var C=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;C&&(r.auth=C.shift(),r.hostname=C.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var M=b.slice(-1)[0],I=(r.host||t.host||b.length>1)&&(M==="."||M==="..")||M==="",A=0,D=b.length;D>=0;D--)M=b[D],M==="."?b.splice(D,1):M===".."?(b.splice(D,1),A++):A&&(b.splice(D,1),A--);if(!S&&!T)for(;A--;A)b.unshift("..");S&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),I&&b.join("/").substr(-1)!=="/"&&b.push("");var R=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(x){r.hostname=R?"":b.length?b.shift():"",r.host=r.hostname;var C=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;C&&(r.auth=C.shift(),r.hostname=C.shift(),r.host=r.hostname)}return S=S||r.host&&b.length,S&&!R&&b.unshift(""),b.length>0?r.pathname=b.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Fi.prototype.parseHost=function(){var t=this.host,e=KL.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var s5=rm,o5=i5,a5=n5;const l5={parse:s5,format:a5,resolve:o5};function xi(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Rc(t){return t.split("?")[0].split("#")[0]}function u5(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c5(t,e,r){return t.replace(new RegExp(u5(e),"g"),r)}function h5(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Zr={toPosix(t){return c5(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){xi(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=Rc(this.toPosix(e??me.ADAPTER.getBaseUrl())),i=Rc(this.toPosix(r??this.rootname(n)));return xi(t),t=this.toPosix(t),t.startsWith("/")?Zr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),xi(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=h5(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return xi(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(xi(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(xi(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){xi(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){xi(t),e&&xi(e),t=Rc(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){xi(t),t=Rc(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){xi(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Rc(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,f=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||a===-1||f===0||f===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},YT={};function tt(t,e,r=3){if(YT[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),YT[e]=!0}let Cv;function f5(){return typeof Cv>"u"&&(Cv=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:me.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!me.ADAPTER.getWebGLRenderingContext())return!1;const n=me.ADAPTER.createCanvas();let i=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Cv}var d5={grad:.9,turn:360,rad:360/(2*Math.PI)},Rs=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Pr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},oi=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},QI=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},qT=function(t){return{r:oi(t.r,0,255),g:oi(t.g,0,255),b:oi(t.b,0,255),a:oi(t.a)}},Pv=function(t){return{r:Pr(t.r),g:Pr(t.g),b:Pr(t.b),a:Pr(t.a,3)}},p5=/^#([0-9a-f]{3,8})$/i,Id=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},ZI=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},JI=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),u=s%6;return{r:255*[n,a,o,o,l,n][u],g:255*[l,n,n,a,o,o][u],b:255*[o,o,l,n,n,a][u],a:i}},KT=function(t){return{h:QI(t.h),s:oi(t.s,0,100),l:oi(t.l,0,100),a:oi(t.a)}},QT=function(t){return{h:Pr(t.h),s:Pr(t.s),l:Pr(t.l),a:Pr(t.a,3)}},ZT=function(t){return JI((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},ah=function(t){return{h:(e=ZI(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},m5=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g5=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v5=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y5=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,a1={string:[[function(t){var e=p5.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Pr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Pr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=v5.exec(t)||y5.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:qT({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=m5.exec(t)||g5.exec(t);if(!e)return null;var r,n,i=KT({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(d5[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return ZT(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Rs(e)&&Rs(r)&&Rs(n)?qT({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Rs(e)||!Rs(r)||!Rs(n))return null;var o=KT({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return ZT(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Rs(e)||!Rs(r)||!Rs(n))return null;var o=function(a){return{h:QI(a.h),s:oi(a.s,0,100),v:oi(a.v,0,100),a:oi(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return JI(o)},"hsv"]]},JT=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},x5=function(t){return typeof t=="string"?JT(t.trim(),a1.string):typeof t=="object"&&t!==null?JT(t,a1.object):[null,void 0]},Av=function(t,e){var r=ah(t);return{h:r.h,s:oi(r.s+100*e,0,100),l:r.l,a:r.a}},Rv=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},eC=function(t,e){var r=ah(t);return{h:r.h,s:r.s,l:oi(r.l+100*e,0,100),a:r.a}},l1=function(){function t(e){this.parsed=x5(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Pr(Rv(this.rgba),2)},t.prototype.isDark=function(){return Rv(this.rgba)<.5},t.prototype.isLight=function(){return Rv(this.rgba)>=.5},t.prototype.toHex=function(){return e=Pv(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Id(Pr(255*s)):"","#"+Id(r)+Id(n)+Id(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Pv(this.rgba)},t.prototype.toRgbString=function(){return e=Pv(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return QT(ah(this.rgba))},t.prototype.toHslString=function(){return e=QT(ah(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=ZI(this.rgba),{h:Pr(e.h),s:Pr(e.s),v:Pr(e.v),a:Pr(e.a,3)};var e},t.prototype.invert=function(){return is({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),is(Av(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),is(Av(this.rgba,-e))},t.prototype.grayscale=function(){return is(Av(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),is(eC(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),is(eC(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?is({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Pr(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=ah(this.rgba);return typeof e=="number"?is({h:e,s:r.s,l:r.l,a:r.a}):Pr(r.h)},t.prototype.isEqual=function(e){return this.toHex()===is(e).toHex()},t}(),is=function(t){return t instanceof l1?t:new l1(t)},tC=[],_5=function(t){t.forEach(function(e){tC.indexOf(e)<0&&(e(l1,a1),tC.push(e))})};function b5(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=n[this.toHex()];if(u)return u;if(o!=null&&o.closest){var f=this.toRgb(),p=1/0,d="black";if(!s.length)for(var g in r)s[g]=new t(r[g]).toRgb();for(var m in r){var _=(a=f,l=s[m],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));_<p&&(p=_,d=m)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}_5([b5]);const mu=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof mu)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((i,s)=>i===e[s]);if(t!==null&&e!==null){const i=Object.keys(t),s=Object.keys(e);return i.length!==s.length?!1:i.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=mu.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=mu.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=is(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let vt=mu;vt.shared=new mu;vt.temp=new mu;vt.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function w5(t){return tt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),vt.shared.setValue(t).toHex()}function S5(t){return tt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),vt.shared.setValue(t).toNumber()}function E5(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Ne.NORMAL_NPM]=Ne.NORMAL,t[Ne.ADD_NPM]=Ne.ADD,t[Ne.SCREEN_NPM]=Ne.SCREEN,e[Ne.NORMAL]=Ne.NORMAL_NPM,e[Ne.ADD]=Ne.ADD_NPM,e[Ne.SCREEN]=Ne.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const eM=E5();function tM(t,e){return eM[e?1:0][t]}function T5(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function rM(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function s0(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function rC(t){return!(t&t-1)&&!!t}function nC(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function gu(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Io(t){return t===0?0:t<0?-1:1}let C5=0;function Qa(){return++C5}const nM=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let u1=nM;u1.EMPTY=new nM(0,0,0,0);const iC={},ss=Object.create(null),yo=Object.create(null);class P5{constructor(e,r,n){this._canvas=me.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||me.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function sC(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function oC(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function A5(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,u=r-1;for(;a<r&&sC(s,e,a);)++a;if(a===r)return u1.EMPTY;for(;sC(s,e,u);)--u;for(;oC(s,e,o,a,u);)++o;for(;oC(s,e,l,a,u);)--l;return++l,++u,new u1(o,a,l,u)}function R5(t){const e=A5(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Md;function I5(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Md||(Md=document.createElement("a")),Md.href=t;const r=l5.parse(Md.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function $o(t,e=1){var n;const r=(n=me.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ve=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ve||{});const c1=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},aC=(t,e)=>c1(t).priority??e,Ae={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(c1).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(c1).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>aC(s,r)-aC(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class h1{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const M5=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function k5(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function D5(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=M5.replace(/%forloop%/gi,k5(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Iv=0,Mv=1,kv=2,Dv=3,Ov=4,Bv=5;class ro{constructor(){this.data=0,this.blendMode=Ne.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Iv)}set blend(e){!!(this.data&1<<Iv)!==e&&(this.data^=1<<Iv)}get offsets(){return!!(this.data&1<<Mv)}set offsets(e){!!(this.data&1<<Mv)!==e&&(this.data^=1<<Mv)}get culling(){return!!(this.data&1<<kv)}set culling(e){!!(this.data&1<<kv)!==e&&(this.data^=1<<kv)}get depthTest(){return!!(this.data&1<<Dv)}set depthTest(e){!!(this.data&1<<Dv)!==e&&(this.data^=1<<Dv)}get depthMask(){return!!(this.data&1<<Bv)}set depthMask(e){!!(this.data&1<<Bv)!==e&&(this.data^=1<<Bv)}get clockwiseFrontFace(){return!!(this.data&1<<Ov)}set clockwiseFrontFace(e){!!(this.data&1<<Ov)!==e&&(this.data^=1<<Ov)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Ne.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new ro;return e.depthTest=!1,e.blend=!0,e}}const f1=[];function iM(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=f1.length-1;n>=0;--n){const i=f1[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Li{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:f}=this;this._aliasCount++;for(let p=0,d=f.length;p<d;p++)f[p][u](e,r,n,i,s,o,a,l);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Li.prototype,{dispatch:{value:Li.prototype.emit},run:{value:Li.prototype.emit}});class Uh{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Li("setRealSize"),this.onUpdate=new Li("update"),this.onError=new Li("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class sf extends Uh{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Vi.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const O5={scaleMode:Fs.NEAREST,format:ce.RGBA,alphaMode:Vi.NPM},kl=class extends rf{constructor(t=null,e=null){super(),e=Object.assign({},kl.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:f,target:p,resolution:d,resourceOptions:g}=e;t&&!(t instanceof Uh)&&(t=iM(t,g),t.internal=!0),this.resolution=d||me.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=f,this.target=p,this.alphaMode=r,this.uid=Qa(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=rC(this.realWidth)&&rC(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete yo[this.cacheId],delete ss[this.cacheId],this.cacheId=null),this.dispose(),kl.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=me.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Qa()}`}i=t._pixiId}let s=yo[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new kl(t,e),s.cacheId=i,kl.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new sf(t,{width:e,height:r}),s=t instanceof Float32Array?Be.FLOAT:Be.UNSIGNED_BYTE;return new kl(i,Object.assign({},O5,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),yo[e]&&yo[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),yo[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=yo[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete yo[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete yo[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let je=kl;je.defaultOptions={mipmap:vs.POW2,anisotropicLevel:0,scaleMode:Fs.LINEAR,wrapMode:js.CLAMP,alphaMode:Vi.UNPACK,target:fu.TEXTURE_2D,format:ce.RGBA,type:Be.UNSIGNED_BYTE};je._globalBatch=0;class d1{constructor(){this.texArray=null,this.blend=0,this.type=ki.TRIANGLES,this.start=0,this.size=0,this.data=null}}let B5=0;class tr{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=B5++,this.disposeRunner=new Li("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?ps.ELEMENT_ARRAY_BUFFER:ps.ARRAY_BUFFER}get index(){return this.type===ps.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new tr(e)}}class o0{constructor(e,r=0,n=!1,i=Be.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,n,i,s){return new o0(e,r,n,i,s)}}const N5={Float32Array,Uint32Array,Int32Array,Uint8Array};function F5(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],f=t[l],p=rM(f);i[p]||(i[p]=new N5[p](s)),o=i[p];for(let d=0;d<f.length;d++){const g=(d/u|0)*n+a,m=d%u;o[g+m]=f[d]}a+=u}return new Float32Array(s)}const lC={5126:4,5123:2,5121:1};let L5=0;const U5={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Xo{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=L5++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Li("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof tr||(r instanceof Array&&(r=new Float32Array(r)),r=new tr(r));const u=e.split("|");if(u.length>1){for(let p=0;p<u.length;p++)this.addAttribute(u[p],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new o0(f,n,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof tr||(e instanceof Array&&(e=new Uint16Array(e)),e=new tr(e)),e.type=ps.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new tr;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*lC[s.type]/4),s.buffer=0}for(n.data=F5(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Xo;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new tr(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new o0(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ps.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Xo,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new U5[rM(o.buffers[a].data)](i[a]),r.buffers[a]=new tr(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=ps.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,f=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){f=p;break}for(const p in o.attributes){const d=o.attributes[p];(d.buffer|0)===f&&(l+=d.size*lC[d.type]/4)}for(let p=0;p<e.length;p++){const d=e[p].indexBuffer.data;for(let g=0;g<d.length;g++)r.indexBuffer.data[g+u]+=a;a+=e[p].buffers[f].data.length/l,u+=d.length}}return r}}class sM extends Xo{constructor(e=!1){super(),this._buffer=new tr(null,e,!1),this._indexBuffer=new tr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Be.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Be.FLOAT).addAttribute("aColor",this._buffer,4,!0,Be.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Be.FLOAT).addIndex(this._indexBuffer)}}const a0=Math.PI*2,z5=180/Math.PI,H5=Math.PI/180;var Br=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Br||{});class ye{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new ye(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const kd=[new ye,new ye,new ye,new ye];class qe{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Br.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new qe(0,0,0,0)}clone(){return new qe(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const R=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>R}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=kd[0].set(e.left,e.top),l=kd[1].set(e.left,e.bottom),u=kd[2].set(e.right,e.top),f=kd[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(a,a),r.apply(l,l),r.apply(u,u),r.apply(f,f),Math.max(a.x,l.x,u.x,f.x)<=n||Math.min(a.x,l.x,u.x,f.x)>=i||Math.max(a.y,l.y,u.y,f.y)<=s||Math.min(a.y,l.y,u.y,f.y)>=o))return!1;const d=p*(l.y-a.y),g=p*(a.x-l.x),m=d*n+g*s,_=d*i+g*s,S=d*n+g*o,T=d*i+g*o;if(Math.max(m,_,S,T)<=d*a.x+g*a.y||Math.min(m,_,S,T)>=d*f.x+g*f.y)return!1;const b=p*(a.y-u.y),y=p*(u.x-a.x),x=b*n+y*s,C=b*i+y*s,M=b*n+y*o,I=b*i+y*o;return!(Math.max(x,C,M,I)<=b*a.x+y*a.y||Math.min(x,C,M,I)>=b*f.x+y*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class gb{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Br.CIRC}clone(){return new gb(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new qe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class vb{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Br.ELIP}clone(){return new vb(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new qe(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class vu{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Br.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new vu(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],f=this.points[o*2+1];l>r!=f>r&&e<(u-a)*((r-l)/(f-l))+a&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class yb{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Br.RREC}clone(){return new yb(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Ot{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new ye;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new ye;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(a0-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ot;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Ot}static get TEMP_MATRIX(){return new Ot}}const Sa=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ea=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ta=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ca=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],p1=[],oM=[],Dd=Math.sign;function V5(){for(let t=0;t<16;t++){const e=[];p1.push(e);for(let r=0;r<16;r++){const n=Dd(Sa[t]*Sa[r]+Ta[t]*Ea[r]),i=Dd(Ea[t]*Sa[r]+Ca[t]*Ea[r]),s=Dd(Sa[t]*Ta[r]+Ta[t]*Ca[r]),o=Dd(Ea[t]*Ta[r]+Ca[t]*Ca[r]);for(let a=0;a<16;a++)if(Sa[a]===n&&Ea[a]===i&&Ta[a]===s&&Ca[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Ot;e.set(Sa[t],Ea[t],Ta[t],Ca[t],0,0),oM.push(e)}}V5();const Lt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Sa[t],uY:t=>Ea[t],vX:t=>Ta[t],vY:t=>Ca[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>p1[t][e],sub:(t,e)=>p1[t][Lt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Lt.S:Lt.N:Math.abs(e)*2<=Math.abs(t)?t>0?Lt.E:Lt.W:e>0?t>0?Lt.SE:Lt.SW:t>0?Lt.NE:Lt.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=oM[Lt.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Us{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Us(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const aM=class{constructor(){this.worldTransform=new Ot,this.localTransform=new Ot,this.position=new Us(this.onChange,this,0,0),this.scale=new Us(this.onChange,this,1,1),this.pivot=new Us(this.onChange,this,0,0),this.skew=new Us(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let nm=aM;nm.IDENTITY=new aM;var j5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,G5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function uC(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Nv(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function lM(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Nv(2*e);case"bvec3":return Nv(3*e);case"bvec4":return Nv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const yu=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],W5={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},$5={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function X5(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<yu.length;l++)if(yu[l].test(s,o)){r.push(yu[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?W5:$5)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const uM={};let Pl=uM;function Y5(){if(Pl===uM||Pl!=null&&Pl.isContextLost()){const t=me.ADAPTER.createCanvas();let e;me.PREFER_ENV>=nl.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Pl=e}return Pl}let Od;function q5(){if(!Od){Od=si.MEDIUM;const t=Y5();t&&t.getShaderPrecisionFormat&&(Od=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?si.HIGH:si.MEDIUM)}return Od}function cC(t,e){const r=t.getShaderSource(e).split(`
`).map((u,f)=>`${f}: ${u}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function K5(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||cC(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||cC(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const Q5={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function cM(t){return Q5[t]}let Bd=null;const hC={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function hM(t,e){if(!Bd){const r=Object.keys(hC);Bd={};for(let n=0;n<r.length;++n){const i=r[n];Bd[t[i]]=hC[i]}}return Bd[e]}function fC(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===si.HIGH&&r!==si.HIGH&&(n=si.MEDIUM),`precision ${n} float;
${t}`}else if(r!==si.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Ic;function Z5(){if(typeof Ic=="boolean")return Ic;try{Ic=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ic=!1}return Ic}let J5=0;const Nd={},Dl=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=J5++,this.vertexSrc=t||Dl.defaultVertexSrc,this.fragmentSrc=e||Dl.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Nd[r]?(Nd[r]++,r+=`-${Nd[r]}`):Nd[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=fC(this.vertexSrc,Dl.defaultVertexPrecision,si.HIGH),this.fragmentSrc=fC(this.fragmentSrc,Dl.defaultFragmentPrecision,q5())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return G5}static get defaultFragmentSrc(){return j5}static from(t,e,r){const n=t+e;let i=iC[n];return i||(iC[n]=i=new Dl(t,e,r)),i}};let Di=Dl;Di.defaultVertexPrecision=si.HIGH;Di.defaultFragmentPrecision=Ls.apple.device?si.HIGH:si.MEDIUM;let eU=0;class Ui{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=eU++,this.static=!!r,this.ubo=!!n,e instanceof tr?(this.buffer=e,this.buffer.type=ps.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new tr(new Float32Array(1)),this.buffer.type=ps.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Ui(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Ui(e,r,n)}static uboFrom(e,r){return new Ui(e,r??!0,!0)}}class ms{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Ui?this.uniformGroup=r:this.uniformGroup=new Ui(r):this.uniformGroup=new Ui({}),this.disposeRunner=new Li("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Di.from(e,r);return new ms(i,n)}}class tU{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Ui.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Di(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ot,default:this.defaultGroupCache[e]};return new ms(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class m1{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function rU(){return!Ls.apple.device}function nU(t){let e=!0;const r=me.ADAPTER.getNavigator();if(Ls.tablet||Ls.phone){if(Ls.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Ls.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class im{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var iU=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,sU=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const bi=class extends im{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=sM,this.vertexSize=6,this.state=ro.for2d(),this.size=bi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??nU(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??rU(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return tt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return sU}static get defaultFragmentTemplate(){return iU}setShaderGenerator({vertex:t=bi.defaultVertexSrc,fragment:e=bi.defaultFragmentTemplate}={}){this.shaderGenerator=new tU(t,e)}contextChange(){const t=this.renderer.gl;me.PREFER_ENV===nl.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),bi.defaultMaxTextures),this.maxTextures=D5(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=bi,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new d1);for(;e.length<n;)e.push(new m1);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=bi._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++je._globalBatch,a=0,l=r[0],u=0;n.copyBoundTextures(i,e);for(let f=0;f<this._bufferSize;++f){const p=t[f];t[f]=null,p._batchEnabled!==o&&(l.count>=e&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,f),u=f,l=r[++a],++o),p._batchEnabled=o,p.touched=s,l.elements[l.count++]=p)}l.count>0&&(n.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let f=0;f<i.length;f++)i[f]=null;je._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=bi._drawCallPool;let l=this._dcIndex,u=this._aIndex,f=this._iIndex,p=a[l];p.start=this._iIndex,p.texArray=t;for(let d=e;d<r;++d){const g=n[d],m=g._texture.baseTexture,_=eM[m.alphaMode?1:0][g.blendMode];n[d]=null,e<d&&p.blend!==_&&(p.size=f-p.start,e=d,p=a[++l],p.texArray=t,p.start=f),this.packInterleavedGeometry(g,i,s,u,f),u+=g.vertexData.length/2*o,f+=g.indices.length,p.blend=_}e<r&&(p.size=f-p.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=f}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;bi.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=bi._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:f}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=f,r.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),bi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=s0(Math.ceil(t/8)),r=nC(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new h1(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=s0(Math.ceil(t/12)),r=nC(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,l=t.uvs,u=t.indices,f=t.vertexData,p=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),g=vt.shared.setValue(t._tintRGB).toPremultiplied(d,t._texture.baseTexture.alphaMode>0);for(let m=0;m<f.length;m+=2)o[n++]=f[m],o[n++]=f[m+1],o[n++]=l[m],o[n++]=l[m+1],s[n++]=g,o[n++]=p;for(let m=0;m<u.length;m++)r[i++]=a+u[m]}};let Ii=bi;Ii.defaultBatchSize=4096;Ii.extension={name:"batch",type:ve.RendererPlugin};Ii._drawCallPool=[];Ii._textureArrayPool=[];Ae.add(Ii);var oU=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,aU=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Hc=class extends ms{constructor(t,e,r){const n=Di.from(t||Hc.defaultVertexSrc,e||Hc.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=Hc.defaultResolution,this.multisample=Hc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ro}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return aU}static get defaultFragmentSrc(){return oU}};let Nr=Hc;Nr.defaultResolution=1;Nr.defaultMultisample=ur.NONE;class sm{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new vt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}sm.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};sm.extension={type:[ve.RendererSystem,ve.CanvasRendererSystem],name:"background"};Ae.add(sm);class fM{constructor(e){this.renderer=e,this.emptyRenderer=new im(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const f=s[u],p=f._batchLocation;if(p>=0&&p<i&&r[p]===f){o[u]=p;continue}for(;l<i;){const d=r[l];if(d&&d._batchEnabled===n&&d._batchLocation===l){l++;continue}o[u]=l,f._batchLocation=l,r[l]=f;break}}}destroy(){this.renderer=null}}fM.extension={type:ve.RendererSystem,name:"batch"};Ae.add(fM);let dC=0;class om{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=dC++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=dC++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(me.PREFER_ENV>=nl.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}om.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};om.extension={type:ve.RendererSystem,name:"context"};Ae.add(om);class lU extends sf{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Vi.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class g1{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Li("disposeFramebuffer"),this.multisample=ur.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new je(null,{scaleMode:Fs.NEAREST,resolution:1,mipmap:vs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new je(new lU(null,{width:this.width,height:this.height}),{scaleMode:Fs.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:vs.OFF,format:ce.DEPTH_COMPONENT,type:Be.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class dM extends je{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=ur.NONE),super(null,e),this.mipmap=vs.OFF,this.valid=!0,this._clear=new vt([0,0,0,0]),this.framebuffer=new g1(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Yo extends Uh{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=I5(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Vi.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class pM extends Yo{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Yo.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??me.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Vi.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class mM{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=Lt.add(n,Lt.NW),this.x0=l+o*Lt.uX(n),this.y0=u+a*Lt.uY(n),n=Lt.add(n,2),this.x1=l+o*Lt.uX(n),this.y1=u+a*Lt.uY(n),n=Lt.add(n,2),this.x2=l+o*Lt.uX(n),this.y2=u+a*Lt.uY(n),n=Lt.add(n,2),this.x3=l+o*Lt.uX(n),this.y3=u+a*Lt.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const pC=new mM;function Fd(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class pe extends rf{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new qe(0,0,1,1)),e instanceof pe&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=pC,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ye(o.x,o.y):new ye(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&ss[r.url]&&pe.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,pe.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new pe(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===pC&&(this._uvs=new mM),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=me.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof je){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Qa()}`,je.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Qa()}`}s=e._pixiId}let o=ss[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof je)?(r.resolution||(r.resolution=$o(e)),o=new pe(new je(e,r)),o.baseTexture.cacheId=s,je.addToCache(o.baseTexture,s),pe.addToCache(o,s)):!o&&e instanceof je&&(o=new pe(e),pe.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=pe.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new pe(je.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new je(e,Object.assign({scaleMode:je.defaultOptions.scaleMode,resolution:$o(r)},i)),{resource:o}=s;o instanceof pM&&(o.url=r);const a=new pe(s);return n||(n=r),je.addToCache(a.baseTexture,n),pe.addToCache(a,n),n!==r&&(je.addToCache(a.baseTexture,r),pe.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ss[r]&&ss[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),ss[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ss[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete ss[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)ss[e.textureCacheIds[r]]===e&&delete ss[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return pe._EMPTY||(pe._EMPTY=new pe(new je),Fd(pe._EMPTY),Fd(pe._EMPTY.baseTexture)),pe._EMPTY}static get WHITE(){if(!pe._WHITE){const e=me.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),pe._WHITE=new pe(je.from(e)),Fd(pe._WHITE),Fd(pe._WHITE.baseTexture)}return pe._WHITE}}class il extends pe{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new il(new dM(e))}}class gM{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=ur.NONE){const i=new dM(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new il(i)}getOptimalTexture(e,r,n=1,i=ur.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=s0(e),r=s0(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||ur.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}gM.SCREEN_KEY=-1;class uU extends Xo{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class vM extends Xo{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new tr(this.vertices),this.uvBuffer=new tr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class cU{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ur.NONE,this.sourceFrame=new qe,this.destinationFrame=new qe,this.bindingSourceFrame=new qe,this.bindingDestinationFrame=new qe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Ld=[new ye,new ye,new ye,new ye],Fv=new Ot;class yM{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new gM,this.statePool=[],this.quad=new uU,this.quadUv=new vM,this.tempRect=new qe,this.activeState={},this.globalUniforms=new Ui({outputFrame:new qe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new cU,o=this.renderer.renderTexture;let a=r[0].resolution,l=r[0].multisample,u=r[0].padding,f=r[0].autoFit,p=r[0].legacy??!0;for(let m=1;m<r.length;m++){const _=r[m];a=Math.min(a,_.resolution),l=Math.min(l,_.multisample),u=this.useMaxPadding?Math.max(u,_.padding):u+_.padding,f=f&&_.autoFit,p=p||(_.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const d=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Fv.copyFrom(n.projection.transform).invert(),d),f?(s.sourceFrame.fit(d),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(d)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,g),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,ls.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,f=this.getOptimalFilterTexture(u.width,u.height,r.resolution);f.filterFrame=u.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(u.width,u.height,r.resolution),f.filterFrame=u.filterFrame),n[p].apply(this,u,f,ls.CLEAR,r);const d=u;u=f,f=d}n[p].apply(this,u,l.renderTexture,ls.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=ls.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===ls.CLEAR||r===ls.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(ki.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(ki.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Ot.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=ur.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||ur.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Ld[0],i=Ld[1],s=Ld[2],o=Ld[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=f-l}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?Fv.copyFrom(s):Fv.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}yM.extension={type:ve.RendererSystem,name:"filter"};Ae.add(yM);class hU{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ur.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const fU=new qe;class xM{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new g1(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new qe,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;me.PREFER_ENV===nl.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Xx.COLOR|Xx.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new hU(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],f=u.parentTextureArray||u;this.renderer.texture.bind(f,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,f._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=ur.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=ur.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;l.blitFramebuffer||(l.blitFramebuffer=new g1(i.width,i.height),l.blitFramebuffer.addColorTexture(0,f)),e=l.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=fU,r.width=i.width,r.height=i.height),n||(n=r);const u=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new qe}destroy(){this.renderer=null}}xM.extension={type:ve.RendererSystem,name:"framebuffer"};Ae.add(xM);const Lv={5126:4,5123:2,5121:1};class _M{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;me.PREFER_ENV===nl.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>n.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let f=u[l];if(f)return u[a.id]=f,f;const p=e.buffers,d=e.attributes,g={},m={};for(const _ in p)g[_]=0,m[_]=0;for(const _ in d)!d[_].size&&a.attributeData[_]?d[_].size=a.attributeData[_].size:d[_].size||console.warn(`PIXI Geometry attribute '${_}' size cannot be determined (likely the bound shader does not have the attribute)`),g[d[_].buffer]+=d[_].size*Lv[d[_].type];for(const _ in d){const S=d[_],T=S.size;S.stride===void 0&&(g[S.buffer]===T*Lv[S.type]?S.stride=0:S.stride=g[S.buffer]),S.start===void 0&&(S.start=m[S.buffer],m[S.buffer]+=T*Lv[S.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let _=0;_<p.length;_++){const S=p[_];o.bind(S),n&&S._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=f,u[l]=f,i.bindVertexArray(null),o.unbind(ps.ARRAY_BUFFER),f}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in n)if(l[0]==="g"){const u=n[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const f=a[u],p=o[f.buffer],d=p._glBuffers[i];if(r.attributeData[u]){l!==d&&(s.bind(p),l=d);const g=r.attributeData[u].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(g,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}_M.extension={type:ve.RendererSystem,name:"geometry"};Ae.add(_M);const mC=new Ot;class xb{constructor(e,r){this._texture=e,this.mapCoord=new Ot,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(mC.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(mC));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var dU=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,pU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class mU extends Nr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||pU,r||dU,n),this.maskSprite=i,this.maskMatrix=new Ot}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new xb(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class gU{constructor(e=null){this.type=dr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Nr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=dr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class bM{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new gU;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==dr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case dr.SCISSOR:this.renderer.scissor.push(n);break;case dr.STENCIL:this.renderer.stencil.push(n);break;case dr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case dr.COLOR:this.pushColorMask(n);break}n.type===dr.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case dr.SCISSOR:this.renderer.scissor.pop(r);break;case dr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case dr.SPRITE:this.popSpriteMask(r);break;case dr.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===dr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=dr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=dr.SCISSOR:e.type=dr.STENCIL:e.type=dr.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new mU]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const f=o.current;a=e.resolution||f.resolution,l=e.multisample??f.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=r;const u=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}bM.extension={type:ve.RendererSystem,name:"mask"};Ae.add(bM);class wM{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const gC=new Ot,vC=[],_p=class extends wM{constructor(t){super(t),this.glConst=me.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,vC.pop()??new qe);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||_p.isMatrixRotated(e.worldTransform)||_p.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){_p.isMatrixRotated(i)||(i=i?gC.copyFrom(i):gC.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&vC.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let SM=_p;SM.extension={type:ve.RendererSystem,name:"scissor"};Ae.add(SM);class EM extends wM{constructor(e){super(e),this.glConst=me.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}EM.extension={type:ve.RendererSystem,name:"stencil"};Ae.add(EM);class TM{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return tt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return tt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return tt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}TM.extension={type:[ve.RendererSystem,ve.CanvasRendererSystem],name:"_plugin"};Ae.add(TM);class CM{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ot,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}CM.extension={type:ve.RendererSystem,name:"projection"};Ae.add(CM);const vU=new nm;class PM{constructor(e){this.renderer=e,this._tempMatrix=new Ot}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=il.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=vU,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}PM.extension={type:[ve.RendererSystem,ve.CanvasRendererSystem],name:"textureGenerator"};Ae.add(PM);const va=new qe,Mc=new qe;class AM{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new qe,this.destinationFrame=new qe,this.viewportFrame=new qe}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(va.width=e.frame.width,va.height=e.frame.height,r=va),n||(Mc.x=e.frame.x,Mc.y=e.frame.y,Mc.width=r.width,Mc.height=r.height,n=Mc),o=s.framebuffer):(a=i.resolution,r||(va.width=i._view.screen.width,va.height=i._view.screen.height,r=va),n||(n=va,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=vt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:l,y:u,width:f,height:p}=this.viewportFrame;l=Math.round(l),u=Math.round(u),f=Math.round(f),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,f,p)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}AM.extension={type:ve.RendererSystem,name:"renderTexture"};Ae.add(AM);class yU{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function xU(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=hM(e,s.type),a={type:o,name:s.name,size:cM(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function _U(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=hM(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:lM(l,s.size)}}return r}function bU(t,e){var l;const r=uC(t,t.VERTEX_SHADER,e.vertexSrc),n=uC(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||K5(t,i,r,n),e.attributeData=xU(i,t),e.uniformData=_U(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((f,p)=>f>p?1:-1);for(let f=0;f<u.length;f++)e.attributeData[u[f]].location=f,t.bindAttribLocation(i,f,u[f]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e.uniformData){const f=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:lM(f.type,f.size)}}return new yU(i,o)}function wU(t,e,r,n,i){r.buffer.update(i)}const SU={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},RM={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function EU(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=RM[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function TU(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function CU(t,e){if(!t.autoManage)return{size:0,syncFunc:wU};const r=TU(t.uniforms,e),{uboElements:n,size:i}=EU(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],l=t.uniforms[a.data.name],u=a.data.name;let f=!1;for(let p=0;p<yu.length;p++){const d=yu[p];if(d.codeUbo&&d.test(a.data,l)){s.push(`offset = ${a.offset/4};`,yu[p].codeUbo(a.data.name,l)),f=!0;break}}if(!f)if(a.data.size>1){const p=cM(a.data.type),d=Math.max(RM[a.data.type]/16,1),g=p/d,m=(4-g%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${m};
                }

                `)}else{const p=SU[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let PU=0;const Ud={textureCount:0,uboCount:0};class IM{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=PU++}systemCheck(){if(!Z5())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Ud.textureCount=0,Ud.uboCount=0,this.syncUniformGroup(e.uniformGroup,Ud)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=X5(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Ud,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=CU(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=bU(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}IM.extension={type:ve.RendererSystem,name:"shader"};Ae.add(IM);class am{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}am.defaultOptions={hello:!1};am.extension={type:[ve.RendererSystem,ve.CanvasRendererSystem],name:"startup"};Ae.add(am);function AU(t,e=[]){return e[Ne.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.ADD]=[t.ONE,t.ONE],e[Ne.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.NONE]=[0,0],e[Ne.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ne.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ne.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ne.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ne.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ne.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ne.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ne.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ne.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ne.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ne.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const RU=0,IU=1,MU=2,kU=3,DU=4,OU=5,v1=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ne.NONE,this._blendEq=!1,this.map=[],this.map[RU]=this.setBlend,this.map[IU]=this.setOffset,this.map[MU]=this.setCullFace,this.map[kU]=this.setDepthTest,this.map[DU]=this.setFrontFace,this.map[OU]=this.setDepthMask,this.checks=[],this.defaultState=new ro,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=AU(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(v1.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(v1.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let MM=v1;MM.extension={type:ve.RendererSystem,name:"state"};Ae.add(MM);class BU extends rf{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Li(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const bp=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=bp.defaultMaxIdle,this.checkCountMax=bp.defaultCheckCountMax,this.mode=bp.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==ob.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let Mi=bp;Mi.defaultMode=ob.AUTO;Mi.defaultMaxIdle=60*60;Mi.defaultCheckCountMax=60*10;Mi.extension={type:ve.RendererSystem,name:"textureGC"};Ae.add(Mi);class Uv{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Be.UNSIGNED_BYTE,this.internalFormat=ce.RGBA,this.samplerType=0}}function NU(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Be.UNSIGNED_BYTE]:{[ce.RGBA]:t.RGBA8,[ce.RGB]:t.RGB8,[ce.RG]:t.RG8,[ce.RED]:t.R8,[ce.RGBA_INTEGER]:t.RGBA8UI,[ce.RGB_INTEGER]:t.RGB8UI,[ce.RG_INTEGER]:t.RG8UI,[ce.RED_INTEGER]:t.R8UI,[ce.ALPHA]:t.ALPHA,[ce.LUMINANCE]:t.LUMINANCE,[ce.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Be.BYTE]:{[ce.RGBA]:t.RGBA8_SNORM,[ce.RGB]:t.RGB8_SNORM,[ce.RG]:t.RG8_SNORM,[ce.RED]:t.R8_SNORM,[ce.RGBA_INTEGER]:t.RGBA8I,[ce.RGB_INTEGER]:t.RGB8I,[ce.RG_INTEGER]:t.RG8I,[ce.RED_INTEGER]:t.R8I},[Be.UNSIGNED_SHORT]:{[ce.RGBA_INTEGER]:t.RGBA16UI,[ce.RGB_INTEGER]:t.RGB16UI,[ce.RG_INTEGER]:t.RG16UI,[ce.RED_INTEGER]:t.R16UI,[ce.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Be.SHORT]:{[ce.RGBA_INTEGER]:t.RGBA16I,[ce.RGB_INTEGER]:t.RGB16I,[ce.RG_INTEGER]:t.RG16I,[ce.RED_INTEGER]:t.R16I},[Be.UNSIGNED_INT]:{[ce.RGBA_INTEGER]:t.RGBA32UI,[ce.RGB_INTEGER]:t.RGB32UI,[ce.RG_INTEGER]:t.RG32UI,[ce.RED_INTEGER]:t.R32UI,[ce.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Be.INT]:{[ce.RGBA_INTEGER]:t.RGBA32I,[ce.RGB_INTEGER]:t.RGB32I,[ce.RG_INTEGER]:t.RG32I,[ce.RED_INTEGER]:t.R32I},[Be.FLOAT]:{[ce.RGBA]:t.RGBA32F,[ce.RGB]:t.RGB32F,[ce.RG]:t.RG32F,[ce.RED]:t.R32F,[ce.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Be.HALF_FLOAT]:{[ce.RGBA]:t.RGBA16F,[ce.RGB]:t.RGB16F,[ce.RG]:t.RG16F,[ce.RED]:t.R16F},[Be.UNSIGNED_SHORT_5_6_5]:{[ce.RGB]:t.RGB565},[Be.UNSIGNED_SHORT_4_4_4_4]:{[ce.RGBA]:t.RGBA4},[Be.UNSIGNED_SHORT_5_5_5_1]:{[ce.RGBA]:t.RGB5_A1},[Be.UNSIGNED_INT_2_10_10_10_REV]:{[ce.RGBA]:t.RGB10_A2,[ce.RGBA_INTEGER]:t.RGB10_A2UI},[Be.UNSIGNED_INT_10F_11F_11F_REV]:{[ce.RGB]:t.R11F_G11F_B10F},[Be.UNSIGNED_INT_5_9_9_9_REV]:{[ce.RGB]:t.RGB9_E5},[Be.UNSIGNED_INT_24_8]:{[ce.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Be.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ce.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Be.UNSIGNED_BYTE]:{[ce.RGBA]:t.RGBA,[ce.RGB]:t.RGB,[ce.ALPHA]:t.ALPHA,[ce.LUMINANCE]:t.LUMINANCE,[ce.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Be.UNSIGNED_SHORT_5_6_5]:{[ce.RGB]:t.RGB},[Be.UNSIGNED_SHORT_4_4_4_4]:{[ce.RGBA]:t.RGBA},[Be.UNSIGNED_SHORT_5_5_5_1]:{[ce.RGBA]:t.RGBA}},e}class kM{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new je,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=NU(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Uv(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Uv(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Yx.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Uv(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===Be.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==Yx.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&gu(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===vs.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=js.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==vs.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Fs.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Fs.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Fs.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Fs.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}kM.extension={type:ve.RendererSystem,name:"texture"};Ae.add(kM);class DM{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}DM.extension={type:ve.RendererSystem,name:"transformFeedback"};Ae.add(DM);class lm{constructor(e){this.renderer=e}init(e){this.screen=new qe(0,0,e.width,e.height),this.element=e.view||me.ADAPTER.createCanvas(),this.resolution=e.resolution||me.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}lm.defaultOptions={width:800,height:600,resolution:me.RESOLUTION,autoDensity:!1};lm.extension={type:[ve.RendererSystem,ve.CanvasRendererSystem],name:"_view"};Ae.add(lm);me.PREFER_ENV=nl.WEBGL2;me.STRICT_TEXTURE_CACHE=!1;me.RENDER_OPTIONS={...om.defaultOptions,...sm.defaultOptions,...lm.defaultOptions,...am.defaultOptions};Object.defineProperties(me,{WRAP_MODE:{get(){return je.defaultOptions.wrapMode},set(t){tt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),je.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return je.defaultOptions.scaleMode},set(t){tt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),je.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return je.defaultOptions.mipmap},set(t){tt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),je.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return je.defaultOptions.anisotropicLevel},set(t){tt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),je.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return tt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Nr.defaultResolution},set(t){Nr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return tt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Nr.defaultMultisample},set(t){Nr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Ii.defaultMaxTextures},set(t){tt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Ii.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Ii.defaultBatchSize},set(t){tt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Ii.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Ii.canUploadSameBuffer},set(t){tt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Ii.canUploadSameBuffer=t}},GC_MODE:{get(){return Mi.defaultMode},set(t){tt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Mi.defaultMode=t}},GC_MAX_IDLE:{get(){return Mi.defaultMaxIdle},set(t){tt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Mi.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Mi.defaultCheckCountMax},set(t){tt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Mi.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Di.defaultVertexPrecision},set(t){tt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Di.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Di.defaultFragmentPrecision},set(t){tt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Di.defaultFragmentPrecision=t}}});var qo=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(qo||{});class zv{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const kn=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new zv(null,null,1/0),this.deltaMS=1/kn.targetFPMS,this.elapsedMS=1/kn.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=qo.NORMAL){return this._addListener(new zv(t,e,r))}addOnce(t,e,r=qo.NORMAL){return this._addListener(new zv(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*kn.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,kn.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!kn._shared){const t=kn._shared=new kn;t.autoStart=!0,t._protected=!0}return kn._shared}static get system(){if(!kn._system){const t=kn._system=new kn;t.autoStart=!0,t._protected=!0}return kn._system}};let nr=kn;nr.targetFPMS=.06;Object.defineProperties(me,{TARGET_FPMS:{get(){return nr.targetFPMS},set(t){tt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),nr.targetFPMS=t}}});class OM{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,qo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?nr.shared:new nr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}OM.extension=ve.Application;Ae.add(OM);const BM=[];Ae.handleByList(ve.Renderer,BM);function FU(t){for(const e of BM)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var LU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,UU=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const zU=LU,NM=UU;class FM{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=ur.HIGH?this.multisample=ur.HIGH:r>=ur.MEDIUM?this.multisample=ur.MEDIUM:r>=ur.LOW?this.multisample=ur.LOW:this.multisample=ur.NONE}destroy(){}}FM.extension={type:ve.RendererSystem,name:"_multisample"};Ae.add(FM);class HU{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class LM{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new HU(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}LM.extension={type:ve.RendererSystem,name:"buffer"};Ae.add(LM);class UM{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}UM.extension={type:ve.RendererSystem,name:"objectRenderer"};Ae.add(UM);const y1=class extends BU{constructor(t){super(),this.type=II.WEBGL,t=Object.assign({},me.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Ui({projectionMatrix:new Ot},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:y1.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(tt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=y1.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:f5()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return tt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return tt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return tt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return tt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){tt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return tt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){tt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return tt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let ju=y1;ju.extension={type:ve.Renderer,priority:1};ju.__plugins={};ju.__systems={};Ae.handleByMap(ve.RendererPlugin,ju.__plugins);Ae.handleByMap(ve.RendererSystem,ju.__systems);Ae.add(ju);class zM extends Uh{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new je;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Uh?this.addResourceAt(e[n],n):this.addResourceAt(iM(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class VU extends zM{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=fu.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,n.type,u.resource.source))}return!0}}class jU extends Yo{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Vc=class extends zM{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Vc.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<Vc.SIDES;o++)this.items[o].target=fu.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=fu.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=fu.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Vc.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Vc.SIDES}};let HM=Vc;HM.SIDES=6;class Zl extends Yo{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=Zl.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await me.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Vi.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Zl._EMPTY=Zl._EMPTY??me.ADAPTER.createCanvas(0,0),Zl._EMPTY}}const wp=class extends Yo{constructor(t,e){e=e||{},super(me.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},wp.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Yo.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${Qa()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=wp.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&wp.SVG_XML.test(t)}};let zh=wp;zh.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;zh.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const x1=class extends Yo{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];Yo.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||x1.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=nr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(nr.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(nr.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(nr.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(nr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(nr.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||x1.TYPES.includes(e)}};let _b=x1;_b.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];_b.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};f1.push(Zl,pM,jU,_b,zh,sf,HM,VU);class l0{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?qe.EMPTY:(e=e||new qe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:l}=e,u=n*r.x+s*r.y+a,f=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,f=e.tx,p=e.ty;let d=this.minX,g=this.minY,m=this.maxX,_=this.maxY,S=o*r+l*n+f,T=a*r+u*n+p;d=S<d?S:d,g=T<g?T:g,m=S>m?S:m,_=T>_?T:_,S=o*i+l*n+f,T=a*i+u*n+p,d=S<d?S:d,g=T<g?T:g,m=S>m?S:m,_=T>_?T:_,S=o*r+l*s+f,T=a*r+u*s+p,d=S<d?S:d,g=T<g?T:g,m=S>m?S:m,_=T>_?T:_,S=o*i+l*s+f,T=a*i+u*s+p,d=S<d?S:d,g=T<g?T:g,m=S>m?S:m,_=T>_?T:_,this.minX=d,this.minY=g,this.maxX=m,this.maxY=_}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<n;l+=2){const u=e[l],f=e[l+1];i=u<i?u:i,s=f<s?f:s,o=u>o?u:o,a=f>a?f:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,f=e.d,p=e.tx,d=e.ty;let g=this.minX,m=this.minY,_=this.maxX,S=this.maxY;for(let T=n;T<i;T+=2){const b=r[T],y=r[T+1],x=a*b+u*y+p,C=f*y+l*b+d;g=Math.min(g,x-s),_=Math.max(_,x+s),m=Math.min(m,C-o),S=Math.max(S,C+o)}this.minX=g,this.minY=m,this.maxX=_,this.maxY=S}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,f=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,f=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Bt extends rf{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new nm,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new l0,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Bt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new qe),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new l0);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new GU),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*z5}set angle(e){this.transform.rotation=e*H5}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class GU extends Bt{constructor(){super(...arguments),this.sortDirty=null}}Bt.prototype.displayObjectUpdateTransform=Bt.prototype.updateTransform;const WU=new Ot;function $U(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const _1=class extends Bt{constructor(){super(),this.children=[],this.sortableChildren=_1.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);gu(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,gu(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,gu(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort($U),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==_1.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=WU.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==dr.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let rn=_1;rn.defaultSortableChildren=!1;rn.prototype.containerUpdateTransform=rn.prototype.updateTransform;Object.defineProperties(me,{SORTABLE_CHILDREN:{get(){return rn.defaultSortableChildren},set(t){tt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),rn.defaultSortableChildren=t}}});var um=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(um||{});const kc=new ye,XU=new Uint16Array([0,1,2,0,2,3]);class bs extends rn{constructor(e){super(),this._anchor=new Us(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new vt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Ne.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||pe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=XU,this.pluginName="batch",this.isSprite=!0,this._roundPixels=me.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Io(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Io(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this.vertexData,f=e.trim,p=e.orig,d=this._anchor;let g=0,m=0,_=0,S=0;if(f?(m=f.x-d._x*p.width,g=m+f.width,S=f.y-d._y*p.height,_=S+f.height):(m=-d._x*p.width,g=m+p.width,S=-d._y*p.height,_=S+p.height),u[0]=n*m+s*S+a,u[1]=o*S+i*m+l,u[2]=n*g+s*S+a,u[3]=o*S+i*g+l,u[4]=n*g+s*_+a,u[5]=o*_+i*g+l,u[6]=n*m+s*_+a,u[7]=o*_+i*m+l,this._roundPixels){const T=me.RESOLUTION;for(let b=0;b<u.length;++b)u[b]=Math.round(u[b]*T)/T}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,f=s.tx,p=s.ty,d=-i._x*n.width,g=d+n.width,m=-i._y*n.height,_=m+n.height;r[0]=o*d+l*m+f,r[1]=u*m+a*d+p,r[2]=o*g+l*m+f,r[3]=u*m+a*g+p,r[4]=o*g+l*_+f,r[5]=u*_+a*g+p,r[6]=o*d+l*_+f,r[7]=u*_+a*d+p}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new l0),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,kc);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return kc.x>=i&&kc.x<i+r&&(s=-n*this.anchor.y,kc.y>=s&&kc.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof pe?e:pe.from(e,r);return new bs(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Io(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Io(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||pe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const zd={willReadFrequently:!0},Ce=class{static get experimentalLetterSpacingSupported(){let t=Ce._experimentalLetterSpacingSupported;if(t!==void 0){const e=me.ADAPTER.getCanvasRenderingContext2D().prototype;t=Ce._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,a,l){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,r,n=Ce._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=Ce.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",zd);o.font=i;const l=(r?Ce.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let f=0;for(let m=0;m<l.length;m++){const _=Ce._measureText(l[m],e.letterSpacing,o);u[m]=_,f=Math.max(f,_)}let p=f+e.strokeThickness;e.dropShadow&&(p+=e.dropShadowDistance);const d=e.lineHeight||s.fontSize+e.strokeThickness;let g=Math.max(d,s.fontSize+e.strokeThickness*2)+(l.length-1)*(d+e.leading);return e.dropShadow&&(g+=e.dropShadowDistance),new Ce(t,e,p,g,l,u,d+e.leading,f,s)}static _measureText(t,e,r){let n=!1;Ce.experimentalLetterSpacingSupported&&(Ce.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(Ce.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=Ce._canvas){const n=r.getContext("2d",zd);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,f=Ce.collapseSpaces(u),p=Ce.collapseNewlines(u);let d=!f;const g=e.wordWrapWidth+l,m=Ce.tokenize(t);for(let _=0;_<m.length;_++){let S=m[_];if(Ce.isNewline(S)){if(!p){o+=Ce.addLine(s),d=!f,s="",i=0;continue}S=" "}if(f){const b=Ce.isBreakingSpace(S),y=Ce.isBreakingSpace(s[s.length-1]);if(b&&y)continue}const T=Ce.getFromCache(S,l,a,n);if(T>g)if(s!==""&&(o+=Ce.addLine(s),s="",i=0),Ce.canBreakWords(S,e.breakWords)){const b=Ce.wordWrapSplit(S);for(let y=0;y<b.length;y++){let x=b[y],C=x,M=1;for(;b[y+M];){const A=b[y+M];if(!Ce.canBreakChars(C,A,S,y,e.breakWords))x+=A;else break;C=A,M++}y+=M-1;const I=Ce.getFromCache(x,l,a,n);I+i>g&&(o+=Ce.addLine(s),d=!1,s="",i=0),s+=x,i+=I}}else{s.length>0&&(o+=Ce.addLine(s),s="",i=0);const b=_===m.length-1;o+=Ce.addLine(S,!b),d=!1,s="",i=0}else T+i>g&&(d=!1,o+=Ce.addLine(s),s="",i=0),(s.length>0||!Ce.isBreakingSpace(S)||d)&&(s+=S,i+=T)}return o+=Ce.addLine(s,!1),o}static addLine(t,e=!0){return t=Ce.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=Ce._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!Ce.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Ce._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Ce._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(Ce.isBreakingSpace(i,s)||Ce.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return Ce.graphemeSegmenter(t)}static measureFont(t){if(Ce._fonts[t])return Ce._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=Ce._canvas,n=Ce._context;n.font=t;const i=Ce.METRICS_STRING+Ce.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(Ce.BASELINE_SYMBOL).width);const a=Math.ceil(Ce.HEIGHT_MULTIPLIER*o);if(o=o*Ce.BASELINE_MULTIPLIER|0,s===0||a===0)return Ce._fonts[t]=e,e;r.width=s,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const l=n.getImageData(0,0,s,a).data,u=l.length,f=s*4;let p=0,d=0,g=!1;for(p=0;p<o;++p){for(let m=0;m<f;m+=4)if(l[d+m]!==255){g=!0;break}if(!g)d+=f;else break}for(e.ascent=o-p,d=u-f,g=!1,p=a;p>o;--p){for(let m=0;m<f;m+=4)if(l[d+m]!==255){g=!0;break}if(!g)d-=f;else break}return e.descent=p-o,e.fontSize=e.ascent+e.descent,Ce._fonts[t]=e,e}static clearMetrics(t=""){t?delete Ce._fonts[t]:Ce._fonts={}}static get _canvas(){if(!Ce.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",zd);if(r!=null&&r.measureText)return Ce.__canvas=e,e;t=me.ADAPTER.createCanvas()}catch{t=me.ADAPTER.createCanvas()}t.width=t.height=10,Ce.__canvas=t}return Ce.__canvas}static get _context(){return Ce.__context||(Ce.__context=Ce._canvas.getContext("2d",zd)),Ce.__context}};let Or=Ce;Or.METRICS_STRING="|q";Or.BASELINE_SYMBOL="M";Or.BASELINE_MULTIPLIER=1.4;Or.HEIGHT_MULTIPLIER=2;Or.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();Or.experimentalLetterSpacing=!1;Or._fonts={};Or._newlines=[10,13];Or._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const YU=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],jc=class{constructor(t){this.styleID=0,this.reset(),Vv(this,t,t)}clone(){const t={};return Vv(t,this,jc.defaultStyle),new jc(t)}reset(){Vv(this,jc.defaultStyle,jc.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Hv(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Hv(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){qU(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Hv(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!YU.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Qs=jc;Qs.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:um.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function Hv(t){const e=vt.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function qU(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Vv(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const KU={texture:!0,children:!1,baseTexture:!0},b1=class extends bs{constructor(t,e,r){let n=!1;r||(r=me.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=pe.from(r);i.orig=new qe,i.trim=new qe,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=b1.defaultResolution??me.RESOLUTION,this._autoResolution=b1.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return Or.experimentalLetterSpacing}static set experimentalLetterSpacing(t){tt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Or.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=Or.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,a=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,f=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let p,d;const g=e.dropShadow?2:1;for(let m=0;m<g;++m){const _=e.dropShadow&&m===0,S=_?Math.ceil(Math.max(1,s)+e.padding*2):0,T=S*this._resolution;if(_){r.fillStyle="black",r.strokeStyle="black";const y=e.dropShadowColor,x=e.dropShadowBlur*this._resolution,C=e.dropShadowDistance*this._resolution;r.shadowColor=vt.shared.setValue(y).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=x,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*C,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*C+T}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let b=(a-f.fontSize)/2;a-f.fontSize<0&&(b=0);for(let y=0;y<o.length;y++)p=e.strokeThickness/2,d=e.strokeThickness/2+y*a+f.ascent+b,e.align==="right"?p+=u-l[y]:e.align==="center"&&(p+=(u-l[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[y],p+e.padding,d+e.padding-S,!0),e.fill&&this.drawLetterSpacing(o[y],p+e.padding,d+e.padding-S)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let o=!1;if(Or.experimentalLetterSpacingSupported&&(Or.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let a=e;const l=Or.graphemeSegmenter(t);let u=this.context.measureText(t).width,f=0;for(let p=0;p<l.length;++p){const d=l[p];n?this.context.strokeText(d,a,r):this.context.fillText(d,a,r);let g="";for(let m=p+1;m<l.length;++m)g+=l[m];f=this.context.measureText(g).width,a+=u-f+s,u=f}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=R5(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=n.slice(),f=t.fillGradientStops.slice();if(!f.length){const p=u.length+1;for(let d=1;d<p;++d)f.push(d/p)}if(u.unshift(n[0]),f.unshift(0),u.push(n[n.length-1]),f.push(1),t.fillGradientType===um.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const p=r.fontProperties.fontSize+t.strokeThickness;for(let d=0;d<e.length;d++){const g=r.lineHeight*(d-1)+p,m=r.lineHeight*d;let _=m;d>0&&g>m&&(_=(m+g)/2);const S=m+p,T=r.lineHeight*(d+1);let b=S;d+1<e.length&&T<S&&(b=(S+T)/2);const y=(b-_)/l;for(let x=0;x<u.length;x++){let C=0;typeof f[x]=="number"?C=f[x]:C=x/u.length;let M=Math.min(1,Math.max(0,_/l+C*y));M=Number(M.toFixed(5)),i.addColorStop(M,u[x])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const p=u.length+1;let d=1;for(let g=0;g<u.length;g++){let m;typeof f[g]=="number"?m=f[g]:m=d/p,i.addColorStop(m,u[g]),d++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},KU,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Io(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Io(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Qs?this._style=t:this._style=new Qs(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let cm=b1;cm.defaultAutoResolution=!0;class u0{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Sp{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const f=a[u].split("="),p=f[0],d=f[1].replace(/"/gm,""),g=parseFloat(d),m=isNaN(g)?d:g;l[p]=m}n[o].push(l)}const i=new u0;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class w1{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new u0,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const f=o[u];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class S1{static test(e){return typeof e=="string"&&e.includes("<font>")?w1.test(me.ADAPTER.parseXML(e)):!1}static parse(e){return w1.parse(me.ADAPTER.parseXML(e))}}const jv=[Sp,w1,S1];function QU(t){for(let e=0;e<jv.length;e++)if(jv[e].test(t))return jv[e];return null}function ZU(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,f=t.width/n-l-u*2,p=t.height/n-l-u*2,d=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const m=d.length+1;for(let _=1;_<m;++_)g.push(_/m)}if(d.unshift(o[0]),g.unshift(0),d.push(o[o.length-1]),g.push(1),r.fillGradientType===um.LINEAR_VERTICAL){a=e.createLinearGradient(f/2,u,f/2,p+u);let m=0;const S=(s.fontProperties.fontSize+r.strokeThickness)/p;for(let T=0;T<i.length;T++){const b=s.lineHeight*T;for(let y=0;y<d.length;y++){let x=0;typeof g[y]=="number"?x=g[y]:x=y/d.length;const C=b/p+x*S;let M=Math.max(m,C);M=Math.min(M,1),a.addColorStop(M,d[y]),m=M}}}else{a=e.createLinearGradient(u,p/2,f+u,p/2);const m=d.length+1;let _=1;for(let S=0;S<d.length;S++){let T;typeof g[S]=="number"?T=g[S]:T=_/m,a.addColorStop(T,d[S]),_++}}return a}function JU(t,e,r,n,i,s,o){const a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);const u=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=ZU(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,d=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=vt.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,f+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,f+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Ep(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function VM(t){return Array.from?Array.from(t):t.split("")}function e6(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...VM(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Si=class{constructor(t,e,r){var u;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=$o(s.file),l={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let f=0;f<t.page.length;f++){const{id:p,file:d}=t.page[f];l[p]=e instanceof Array?e[f]:e[d],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[p].baseTexture.alphaMode=Vi.NO_PREMULTIPLIED_ALPHA,l[p].baseTexture.mipmap=vs.OFF)}for(let f=0;f<t.char.length;f++){const{id:p,page:d}=t.char[f];let{x:g,y:m,width:_,height:S,xoffset:T,yoffset:b,xadvance:y}=t.char[f];g/=a,m/=a,_/=a,S/=a,T/=a,b/=a,y/=a;const x=new qe(g+l[d].frame.x/a,m+l[d].frame.y/a,_,S);this.chars[p]={xOffset:T,yOffset:b,xAdvance:y,kerning:{},texture:new pe(l[d].baseTexture,x),page:d}}for(let f=0;f<t.kerning.length;f++){let{first:p,second:d,amount:g}=t.kerning[f];p/=a,d/=a,g/=a,this.chars[d]&&(this.chars[d].kerning[p]=g)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof u0)n=t;else{const s=QU(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof pe&&(e=[e]);const i=new Si(n,e,r);return Si.available[i.font]=i,i}static uninstall(t){const e=Si.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Si.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},Si.defaultOptions,r),u=e6(n),f=e instanceof Qs?e:new Qs(e),p=o,d=new u0;d.info[0]={face:f.fontFamily,size:f.fontSize},d.common[0]={lineHeight:f.fontSize};let g=0,m=0,_,S,T,b=0;const y=[];for(let C=0;C<u.length;C++){_||(_=me.ADAPTER.createCanvas(),_.width=o,_.height=a,S=_.getContext("2d"),T=new je(_,{resolution:s,...l}),y.push(new pe(T)),d.page.push({id:y.length-1,file:""}));const M=u[C],I=Or.measureText(M,f,!1,_),A=I.width,D=Math.ceil(I.height),R=Math.ceil((f.fontStyle==="italic"?2:1)*A);if(m>=a-D*s){if(m===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${M}')`);--C,_=null,S=null,T=null,m=0,g=0,b=0;continue}if(b=Math.max(D+I.fontProperties.descent,b),R*s+g>=p){if(g===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${M}')`);--C,m+=b*s,m=Math.ceil(m),g=0,b=0;continue}JU(_,S,I,g,m,s,f);const k=Ep(I.text);d.char.push({id:k,page:y.length-1,x:g/s,y:m/s,width:R,height:D,xoffset:0,yoffset:0,xadvance:A-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),g+=(R+2*i)*s,g=Math.ceil(g)}for(let C=0,M=u.length;C<M;C++){const I=u[C];for(let A=0;A<M;A++){const D=u[A],R=S.measureText(I).width,k=S.measureText(D).width,U=S.measureText(I+D).width-(R+k);U&&d.kerning.push({first:Ep(I),second:Ep(D),amount:U})}}const x=new Si(d,y,!0);return Si.available[t]!==void 0&&Si.uninstall(t),Si.available[t]=x,x}};let vn=Si;vn.ALPHA=[["a","z"],["A","Z"]," "];vn.NUMERIC=[["0","9"]];vn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];vn.ASCII=[[" ","~"]];vn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Si.ALPHANUMERIC};vn.available={};class t6{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Gv=new ye,yC=new vu,jM=class extends rn{constructor(t,e,r,n=ki.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||ro.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=me.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ki.TRIANGLES&&e.length<jM.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,f=i.ty,p=this.vertexData;for(let d=0;d<p.length/2;d++){const g=r[d*2],m=r[d*2+1];p[d*2]=s*g+a*m+u,p[d*2+1]=o*g+l*m+f}if(this._roundPixels){const d=me.RESOLUTION;for(let g=0;g<p.length;++g)p[g]=Math.round(p[g]*d)/d}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new t6(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Gv);const e=this.geometry.getBuffer("aVertexPosition").data,r=yC.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=n[o]*2,l=n[o+1]*2,u=n[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[l],r[3]=e[l+1],r[4]=e[u],r[5]=e[u+1],yC.contains(Gv.x,Gv.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Mu=jM;Mu.BATCHABLE_SIZE=100;class hm extends Xo{constructor(e,r,n){super();const i=new tr(e),s=new tr(r,!0),o=new tr(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Be.FLOAT).addAttribute("aTextureCoord",s,2,!1,Be.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var r6=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,n6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Hh extends ms{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Ot.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Di.from(n6,r6),n),this._colorDirty=!1,this.uvMatrix=new xb(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new vt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;vt.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var i6=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,s6=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const xC=[],_C=[],bC=[],GM=class extends rn{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},GM.styleDefaults,e);if(!vn.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new vt(n),this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Us(()=>{this.dirty=!0},this,0,0),this._roundPixels=me.ROUND_PIXELS,this.dirty=!0,this._resolution=me.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var R;const t=vn.available[this._fontName],e=this.fontSize,r=e/t.size,n=new ye,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=VM(a),u=this._maxWidth*t.size/e,f=t.distanceFieldType==="none"?xC:_C;let p=null,d=0,g=0,m=0,_=-1,S=0,T=0,b=0,y=0;for(let k=0;k<l.length;k++){const O=l[k],U=Ep(O);if(/(?:\s)/.test(O)&&(_=k,S=d,y++),O==="\r"||O===`
`){s.push(d),o.push(-1),g=Math.max(g,d),++m,++T,n.x=0,n.y+=t.lineHeight,p=null,y=0;continue}const N=t.chars[U];if(!N)continue;p&&N.kerning[p]&&(n.x+=N.kerning[p]);const G=bC.pop()||{texture:pe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ye};G.texture=N.texture,G.line=m,G.charCode=U,G.position.x=Math.round(n.x+N.xOffset+this._letterSpacing/2),G.position.y=Math.round(n.y+N.yOffset),G.prevSpaces=y,i.push(G),d=G.position.x+Math.max(N.xAdvance-N.xOffset,N.texture.orig.width),n.x+=N.xAdvance+this._letterSpacing,b=Math.max(b,N.yOffset+N.texture.height),p=U,_!==-1&&u>0&&n.x>u&&(++T,gu(i,1+_-T,1+k-_),k=_,_=-1,s.push(S),o.push(i.length>0?i[i.length-1].prevSpaces:0),g=Math.max(g,S),m++,n.x=0,n.y+=t.lineHeight,p=null,y=0)}const x=l[l.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(d=S),s.push(d),g=Math.max(g,d),o.push(-1));const C=[];for(let k=0;k<=m;k++){let O=0;this._align==="right"?O=g-s[k]:this._align==="center"?O=(g-s[k])/2:this._align==="justify"&&(O=o[k]<0?0:(g-s[k])/o[k]),C.push(O)}const M=i.length,I={},A=[],D=this._activePagesMeshData;f.push(...D);for(let k=0;k<M;k++){const O=i[k].texture,U=O.baseTexture.uid;if(!I[U]){let N=f.pop();if(!N){const Q=new hm;let z,F;t.distanceFieldType==="none"?(z=new Hh(pe.EMPTY),F=Ne.NORMAL):(z=new Hh(pe.EMPTY,{program:Di.from(s6,i6),uniforms:{uFWidth:0}}),F=Ne.NORMAL_NPM);const $=new Mu(Q,z);$.blendMode=F,N={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:$,vertices:null,uvs:null,indices:null}}N.index=0,N.indexCount=0,N.vertexCount=0,N.uvsCount=0,N.total=0;const{_textureCache:G}=this;G[U]=G[U]||new pe(O.baseTexture),N.mesh.texture=G[U],N.mesh.tint=this._tintColor.value,A.push(N),I[U]=N}I[U].total++}for(let k=0;k<D.length;k++)A.includes(D[k])||this.removeChild(D[k].mesh);for(let k=0;k<A.length;k++)A[k].mesh.parent!==this&&this.addChild(A[k].mesh);this._activePagesMeshData=A;for(const k in I){const O=I[k],U=O.total;if(!(((R=O.indices)==null?void 0:R.length)>6*U)||O.vertices.length<Mu.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*U),O.uvs=new Float32Array(4*2*U),O.indices=new Uint16Array(6*U);else{const N=O.total,G=O.vertices;for(let Q=N*4*2;Q<G.length;Q++)G[Q]=0}O.mesh.size=6*U}for(let k=0;k<M;k++){const O=i[k];let U=O.position.x+C[O.line]*(this._align==="justify"?O.prevSpaces:1);this._roundPixels&&(U=Math.round(U));const N=U*r,G=O.position.y*r,Q=O.texture,z=I[Q.baseTexture.uid],F=Q.frame,$=Q._uvs,H=z.index++;z.indices[H*6+0]=0+H*4,z.indices[H*6+1]=1+H*4,z.indices[H*6+2]=2+H*4,z.indices[H*6+3]=0+H*4,z.indices[H*6+4]=2+H*4,z.indices[H*6+5]=3+H*4,z.vertices[H*8+0]=N,z.vertices[H*8+1]=G,z.vertices[H*8+2]=N+F.width*r,z.vertices[H*8+3]=G,z.vertices[H*8+4]=N+F.width*r,z.vertices[H*8+5]=G+F.height*r,z.vertices[H*8+6]=N,z.vertices[H*8+7]=G+F.height*r,z.uvs[H*8+0]=$.x0,z.uvs[H*8+1]=$.y0,z.uvs[H*8+2]=$.x1,z.uvs[H*8+3]=$.y1,z.uvs[H*8+4]=$.x2,z.uvs[H*8+5]=$.y2,z.uvs[H*8+6]=$.x3,z.uvs[H*8+7]=$.y3}this._textWidth=g*r,this._textHeight=(n.y+t.lineHeight)*r;for(const k in I){const O=I[k];if(this.anchor.x!==0||this.anchor.y!==0){let Q=0;const z=this._textWidth*this.anchor.x,F=this._textHeight*this.anchor.y;for(let $=0;$<O.total;$++)O.vertices[Q++]-=z,O.vertices[Q++]-=F,O.vertices[Q++]-=z,O.vertices[Q++]-=F,O.vertices[Q++]-=z,O.vertices[Q++]-=F,O.vertices[Q++]-=z,O.vertices[Q++]-=F}this._maxLineHeight=b*r;const U=O.mesh.geometry.getBuffer("aVertexPosition"),N=O.mesh.geometry.getBuffer("aTextureCoord"),G=O.mesh.geometry.getIndex();U.data=O.vertices,N.data=O.uvs,G.data=O.indices,U.update(),N.update(),G.update()}for(let k=0;k<i.length;k++)bC.push(i[k]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=vn.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),f=(Math.abs(l)+Math.abs(u))/2,p=this.fontSize/n,d=t._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=f*e*p*d}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=vn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!vn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??vn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=vn.available[this._fontName].distanceFieldType==="none"?xC:_C;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=pe.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let WM=GM;WM.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const wC={loader:ve.LoadParser,resolver:ve.ResolveParser,cache:ve.CacheParser,detection:ve.DetectionParser};Ae.handle(ve.Asset,t=>{const e=t.ref;Object.entries(wC).filter(([r])=>!!e[r]).forEach(([r,n])=>Ae.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(wC).filter(r=>!!e[r]).forEach(r=>Ae.remove(e[r]))});class o6{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function of(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function sl(t,e){const r=t.split("?")[0],n=Zr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Gs=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),E1=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function $M(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?$M(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function a6(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),$M(t,i,0,r,n)}else n.push(t);return n}const c0=t=>!Array.isArray(t);class l6{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Gs(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof pe){const a=r;n.forEach(l=>{a.baseTexture!==pe.EMPTY.baseTexture&&je.addToCache(a.baseTexture,l),pe.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Dc=new l6;class u6{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((o=u.test)!=null&&o.call(u,e,r,this))){s=u;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((a=u.testParse)==null?void 0:a.call(u,i,r,this))&&(i=await u.parse(i,r,this)||i,n.parser=u)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=c0(e),o=Gs(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const f=Zr.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,u)),i[u.src]=await this.promiseCache[f].promise,r&&r(++n/a)}catch(p){throw delete this.promiseCache[f],delete i[u.src],new Error(`[Loader.load] Failed to load ${f}.
${p}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const n=Gs(e,i=>({src:i})).map(async i=>{var a,l;const s=Zr.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var ws=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ws||{});const c6=".json",h6="application/json",f6={extension:{type:ve.LoadParser,priority:ws.Low},name:"loadJson",test(t){return of(t,h6)||sl(t,c6)},async load(t){return await(await me.ADAPTER.fetch(t)).json()}};Ae.add(f6);const d6=".txt",p6="text/plain",m6={name:"loadTxt",extension:{type:ve.LoadParser,priority:ws.Low},test(t){return of(t,p6)||sl(t,d6)},async load(t){return await(await me.ADAPTER.fetch(t)).text()}};Ae.add(m6);const g6=["normal","bold","100","200","300","400","500","600","700","800","900"],v6=[".ttf",".otf",".woff",".woff2"],y6=["font/ttf","font/otf","font/woff","font/woff2"],x6=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function _6(t){const e=Zr.extname(t),i=Zr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(x6)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const b6={extension:{type:ve.LoadParser,priority:ws.Low},name:"loadWebFont",test(t){return of(t,y6)||sl(t,v6)},async load(t,e){var n,i,s;const r=me.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??_6(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>g6.includes(f)))??["normal"],u=e.data??{};for(let f=0;f<l.length;f++){const p=l[f],d=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:p});await d.load(),r.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>me.ADAPTER.getFontFaceSet().delete(e))}};Ae.add(b6);let SC=0,Wv;const w6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",S6={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${w6}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},E6={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let $v;class T6{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([S6.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Wv===void 0&&(Wv=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Wv&&($v||($v=URL.createObjectURL(new Blob([E6.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker($v),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[SC]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:SC++,id:n})}}const EC=new T6;function fm(t,e,r){const n=new pe(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const C6=[".jpeg",".jpg",".png",".webp",".avif"],P6=["image/jpeg","image/png","image/webp","image/avif"];async function A6(t){const e=await me.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const dm={name:"loadTextures",extension:{type:ve.LoadParser,priority:ws.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return of(t,P6)||sl(t,C6)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await EC.isImageBitmapSupported()?n=await EC.loadImageBitmap(t):n=await A6(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new je(n,{resolution:$o(t),...e.data});return i.resource.src=t,fm(i,r,t)},unload(t){t.destroy(!0)}};Ae.add(dm);const R6=".svg",I6="image/svg+xml",M6={extension:{type:ve.LoadParser,priority:ws.High},name:"loadSVG",test(t){return of(t,I6)||sl(t,R6)},async testParse(t){return zh.test(t)},async parse(t,e,r){var o;const n=new zh(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const i=new je(n,{resolution:$o(t),...e==null?void 0:e.data});return i.resource.src=t,fm(i,r,t)},async load(t,e){return(await me.ADAPTER.fetch(t)).text()},unload:dm.unload};Ae.add(M6);class k6{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=Gs(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=a6(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const f=this._parsers[u];if(f.test(o)){a=f.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=Zr.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??n,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=c0(e);e=Gs(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=c0(e);e=Gs(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const f=s.filter(p=>p[l]?p[l]===u:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=Zr.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class D6{constructor(){this._detections=[],this._initialized=!1,this.resolver=new k6,this.loader=new u6,this.cache=Dc,this._backgroundLoader=new o6(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=c0(e),i=Gs(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{r==null||r(++a/l)},f=o.map(p=>{const d=i[p];return l+=Object.keys(d).length,this._mapLoadToResolve(d,u).then(g=>{s[p]=g})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Dc.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Dc.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,l)=>{const u=s[a.src],f=[a.src];a.alias&&f.push(...a.alias),o[i[l]]=u,Dc.set(f,u)}),o}async unload(e){this._initialized||await this.init();const r=Gs(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Gs(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Dc.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return dm.config.preferWorkers}set preferWorkers(e){tt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Hd=new D6;Ae.handleByList(ve.LoadParser,Hd.loader.parsers).handleByList(ve.ResolveParser,Hd.resolver.parsers).handleByList(ve.CacheParser,Hd.cache.parsers).handleByList(ve.DetectionParser,Hd.detections);const O6={extension:ve.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof pe),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};Ae.add(O6);const B6={extension:{type:ve.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await me.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Ae.add(B6);const N6={extension:{type:ve.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await me.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Ae.add(N6);const TC=["png","jpg","jpeg"],F6={extension:{type:ve.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...TC],remove:async t=>t.filter(e=>!TC.includes(e))};Ae.add(F6);const L6={extension:ve.ResolveParser,test:dm.test,parse:t=>{var e;return{resolution:parseFloat(((e=me.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};Ae.add(L6);const U6=[".xml",".fnt"],z6={extension:{type:ve.LoadParser,priority:ws.Normal},name:"loadBitmapFont",test(t){return U6.includes(Zr.extname(t).toLowerCase())},async testParse(t){return Sp.test(t)||S1.test(t)},async parse(t,e,r){const n=Sp.test(t)?Sp.parse(t):S1.parse(t),{src:i}=e,{page:s}=n,o=[];for(let u=0;u<s.length;++u){const f=s[u].file;let p=Zr.join(Zr.dirname(i),f);p=E1(p,i),o.push(p)}const a=await r.load(o),l=o.map(u=>a[u]);return vn.install(n,l,!0)},async load(t,e){return(await me.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Ae.add(z6);const h0={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===Br.CIRC){const m=t.shape;r=m.x,n=m.y,o=a=m.radius,i=s=0}else if(t.type===Br.ELIP){const m=t.shape;r=m.x,n=m.y,o=m.width,a=m.height,i=s=0}else{const m=t.shape,_=m.width/2,S=m.height/2;r=m.x+_,n=m.y+S,o=a=Math.max(0,Math.min(m.radius,Math.min(_,S))),i=_-o,s=S-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,p=l*4+(i?2:0)+2,d=p,g=u;{const m=i+o,_=s,S=r+m,T=r-m,b=n+_;if(e[f++]=S,e[f++]=b,e[--p]=b,e[--p]=T,s){const y=n-_;e[d++]=T,e[d++]=y,e[--g]=y,e[--g]=S}}for(let m=1;m<l;m++){const _=Math.PI/2*(m/l),S=i+Math.cos(_)*o,T=s+Math.sin(_)*a,b=r+S,y=r-S,x=n+T,C=n-T;e[f++]=b,e[f++]=x,e[--p]=x,e[--p]=y,e[d++]=y,e[d++]=C,e[--g]=C,e[--g]=b}{const m=i,_=s+a,S=r+m,T=r-m,b=n+_,y=n-_;e[f++]=S,e[f++]=b,e[--g]=y,e[--g]=S,i&&(e[f++]=T,e[f++]=b,e[--g]=y,e[--g]=T)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,l;if(t.type!==Br.RREC){const f=t.shape;a=f.x,l=f.y}else{const f=t.shape;a=f.x+f.width/2,l=f.y+f.height/2}const u=t.matrix;n.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function CC(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],l=t[i+1];n+=(a-s)*(l+o),s=a,o=l}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const XM={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){CC(r,!1);const o=[];for(let u=0;u<n.length;u++){const f=n[u];CC(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const a=ZF(r,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<r.length;u++)i.push(r[u])}}},H6={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},V6={build(t){h0.build(t)},triangulate(t,e){h0.triangulate(t,e)}};var Ti=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Ti||{}),Ba=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ba||{});const ku={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class PC{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,f=a-e,p=i-r,d=n-e,g=Math.abs(u*d-f*p);if(g<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const m=u*u+f*f,_=p*p+d*d,S=u*p+f*d,T=s*Math.sqrt(m)/g,b=s*Math.sqrt(_)/g,y=T*S/m,x=b*S/_,C=T*d+b*f,M=T*p+b*u,I=f*(b+y),A=u*(b+y),D=d*(T+x),R=p*(T+x),k=Math.atan2(A-M,I-C),O=Math.atan2(R-M,D-C);return{cx:C+e,cy:M+r,radius:s,startAngle:k,endAngle:O,anticlockwise:f*p>d*u}}static arc(e,r,n,i,s,o,a,l,u){const f=a-o,p=ku._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/a0)*40),d=f/(p*2),g=d*2,m=Math.cos(d),_=Math.sin(d),S=p-1,T=S%1/S;for(let b=0;b<=S;++b){const y=b+T*b,x=d+o+g*y,C=Math.cos(x),M=-Math.sin(x);u.push((m*C+_*M)*s+n,(m*-M+_*C)*s+i)}}}class j6{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class bb{static curveLength(e,r,n,i,s,o,a,l){let f=0,p=0,d=0,g=0,m=0,_=0,S=0,T=0,b=0,y=0,x=0,C=e,M=r;for(let I=1;I<=10;++I)p=I/10,d=p*p,g=d*p,m=1-p,_=m*m,S=_*m,T=S*e+3*_*p*n+3*m*d*s+g*a,b=S*r+3*_*p*i+3*m*d*o+g*l,y=C-T,x=M-b,C=T,M=b,f+=Math.sqrt(y*y+x*x);return f}static curveTo(e,r,n,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const f=ku._segmentsCount(bb.curveLength(l,u,e,r,n,i,s,o));let p=0,d=0,g=0,m=0,_=0;a.push(l,u);for(let S=1,T=0;S<=f;++S)T=S/f,p=1-T,d=p*p,g=d*p,m=T*T,_=m*T,a.push(g*l+3*d*T*e+3*p*m*n+_*s,g*u+3*d*T*r+3*p*m*i+_*o)}}function AC(t,e,r,n,i,s,o,a){const l=t-r*i,u=e-n*i,f=t+r*s,p=e+n*s;let d,g;o?(d=n,g=-r):(d=-n,g=r);const m=l+d,_=u+g,S=f+d,T=p+g;return a.push(m,_,S,T),2}function ya(t,e,r,n,i,s,o,a){const l=r-t,u=n-e;let f=Math.atan2(l,u),p=Math.atan2(i-t,s-e);a&&f<p?f+=Math.PI*2:!a&&f>p&&(p+=Math.PI*2);let d=f;const g=p-f,m=Math.abs(g),_=Math.sqrt(l*l+u*u),S=(15*m*Math.sqrt(_)/Math.PI>>0)+1,T=g/S;if(d+=T,a){o.push(t,e,r,n);for(let b=1,y=d;b<S;b++,y+=T)o.push(t,e,t+Math.sin(y)*_,e+Math.cos(y)*_);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let b=1,y=d;b<S;b++,y+=T)o.push(t+Math.sin(y)*_,e+Math.cos(y)*_,t,e);o.push(i,s,t,e)}return S*2}function G6(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new ye(n[0],n[1]),a=new ye(n[n.length-2],n[n.length-1]),l=r.type!==Br.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const z=(o.x+a.x)*.5,F=(a.y+o.y)*.5;n.unshift(z,F),n.push(z,F)}const f=e.points,p=n.length/2;let d=n.length;const g=f.length/2,m=s.width/2,_=m*m,S=s.miterLimit*s.miterLimit;let T=n[0],b=n[1],y=n[2],x=n[3],C=0,M=0,I=-(b-x),A=T-y,D=0,R=0,k=Math.sqrt(I*I+A*A);I/=k,A/=k,I*=m,A*=m;const O=s.alignment,U=(1-O)*2,N=O*2;l||(s.cap===Ba.ROUND?d+=ya(T-I*(U-N)*.5,b-A*(U-N)*.5,T-I*U,b-A*U,T+I*N,b+A*N,f,!0)+2:s.cap===Ba.SQUARE&&(d+=AC(T,b,I,A,U,N,!0,f))),f.push(T-I*U,b-A*U,T+I*N,b+A*N);for(let z=1;z<p-1;++z){T=n[(z-1)*2],b=n[(z-1)*2+1],y=n[z*2],x=n[z*2+1],C=n[(z+1)*2],M=n[(z+1)*2+1],I=-(b-x),A=T-y,k=Math.sqrt(I*I+A*A),I/=k,A/=k,I*=m,A*=m,D=-(x-M),R=y-C,k=Math.sqrt(D*D+R*R),D/=k,R/=k,D*=m,R*=m;const F=y-T,$=b-x,H=y-C,L=M-x,j=F*H+$*L,Y=$*H-L*F,W=Y<0;if(Math.abs(Y)<.001*Math.abs(j)){f.push(y-I*U,x-A*U,y+I*N,x+A*N),j>=0&&(s.join===Ti.ROUND?d+=ya(y,x,y-I*U,x-A*U,y-D*U,x-R*U,f,!1)+4:d+=2,f.push(y-D*N,x-R*N,y+D*U,x+R*U));continue}const de=(-I+T)*(-A+x)-(-I+y)*(-A+b),he=(-D+C)*(-R+x)-(-D+y)*(-R+M),Pe=(F*he-H*de)/Y,ge=(L*de-$*he)/Y,ut=(Pe-y)*(Pe-y)+(ge-x)*(ge-x),Ze=y+(Pe-y)*U,Ie=x+(ge-x)*U,Xe=y-(Pe-y)*N,Oe=x-(ge-x)*N,it=Math.min(F*F+$*$,H*H+L*L),St=W?U:N,ir=it+St*St*_,vr=ut<=ir;let qt=s.join;if(qt===Ti.MITER&&ut/_>S&&(qt=Ti.BEVEL),vr)switch(qt){case Ti.MITER:{f.push(Ze,Ie,Xe,Oe);break}case Ti.BEVEL:{W?f.push(Ze,Ie,y+I*N,x+A*N,Ze,Ie,y+D*N,x+R*N):f.push(y-I*U,x-A*U,Xe,Oe,y-D*U,x-R*U,Xe,Oe),d+=2;break}case Ti.ROUND:{W?(f.push(Ze,Ie,y+I*N,x+A*N),d+=ya(y,x,y+I*N,x+A*N,y+D*N,x+R*N,f,!0)+4,f.push(Ze,Ie,y+D*N,x+R*N)):(f.push(y-I*U,x-A*U,Xe,Oe),d+=ya(y,x,y-I*U,x-A*U,y-D*U,x-R*U,f,!1)+4,f.push(y-D*U,x-R*U,Xe,Oe));break}}else{switch(f.push(y-I*U,x-A*U,y+I*N,x+A*N),qt){case Ti.MITER:{W?f.push(Xe,Oe,Xe,Oe):f.push(Ze,Ie,Ze,Ie),d+=2;break}case Ti.ROUND:{W?d+=ya(y,x,y+I*N,x+A*N,y+D*N,x+R*N,f,!0)+2:d+=ya(y,x,y-I*U,x-A*U,y-D*U,x-R*U,f,!1)+2;break}}f.push(y-D*U,x-R*U,y+D*N,x+R*N),d+=2}}T=n[(p-2)*2],b=n[(p-2)*2+1],y=n[(p-1)*2],x=n[(p-1)*2+1],I=-(b-x),A=T-y,k=Math.sqrt(I*I+A*A),I/=k,A/=k,I*=m,A*=m,f.push(y-I*U,x-A*U,y+I*N,x+A*N),l||(s.cap===Ba.ROUND?d+=ya(y-I*(U-N)*.5,x-A*(U-N)*.5,y-I*U,x-A*U,y+I*N,x+A*N,f,!1)+2:s.cap===Ba.SQUARE&&(d+=AC(y,x,I,A,U,N,!1,f)));const G=e.indices,Q=ku.epsilon*ku.epsilon;for(let z=g;z<d+g-2;++z)T=f[z*2],b=f[z*2+1],y=f[(z+1)*2],x=f[(z+1)*2+1],C=f[(z+2)*2],M=f[(z+2)*2+1],!(Math.abs(T*(x-M)+y*(M-b)+C*(b-x))<Q)&&G.push(z,z+1,z+2)}function W6(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Br.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let f=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(f,f+1),f++;s&&a.push(f,u)}function RC(t,e){t.lineStyle.native?W6(t,e):G6(t,e)}class wb{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,f=2*i-2*r,p=4*(a*a+l*l),d=4*(a*u+l*f),g=u*u+f*f,m=2*Math.sqrt(p+d+g),_=Math.sqrt(p),S=2*p*_,T=2*Math.sqrt(g),b=d/_;return(S*m+_*d*(m-T)+(4*g*p-d*d)*Math.log((2*_+b+m)/(b+T)))/(4*S)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],l=ku._segmentsCount(wb.curveLength(o,a,e,r,n,i));let u=0,f=0;for(let p=1;p<=l;++p){const d=p/l;u=o+(e-o)*d,f=a+(r-a)*d,s.push(u+(e+(n-e)*d-u)*d,f+(r+(i-r)*d-f)*d)}}}const Xv={[Br.POLY]:XM,[Br.CIRC]:h0,[Br.ELIP]:h0,[Br.RECT]:H6,[Br.RREC]:V6},IC=[],Vd=[];class f0{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new f0(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Al=new ye,YM=class extends sM{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new l0,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Vd.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),IC.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new f0(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new f0(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,Al):Al.copyFrom(t),n.shape.contains(Al.x,Al.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(Al.x,Al.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,f=l.lineStyle;Xv[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||f.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const g=d===0?u:f;if(!g.visible)continue;const m=g.texture.baseTexture,_=this.indices.length,S=this.points.length/2;m.wrapMode=js.REPEAT,d===0?this.processFill(l):this.processLine(l);const T=this.points.length/2-S;T!==0&&(r&&!this._compareStyles(n,g)&&(r.end(_,S),r=null),r||(r=IC.pop()||new j6,r.begin(g,_,S),this.batches.push(r),n=g),this.addUvs(this.points,t,g.texture,S,T,g.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<YM.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++je._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),Vd.push(this.drawCalls[f]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=Vd.pop();n||(n=new d1,n.texArray=new m1),n.texArray.count=0,n.start=0,n.size=0,n.type=ki.TRIANGLES;let i=0,s=null,o=0,a=!1,l=ki.TRIANGLES,u=0;this.drawCalls.push(n);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],d=8,g=p.style,m=g.texture.baseTexture;a!==!!g.native&&(a=!!g.native,l=a?ki.LINES:ki.TRIANGLES,s=null,i=d,t++),s!==m&&(s=m,m._batchEnabled!==t&&(i===d&&(t++,i=0,n.size>0&&(n=Vd.pop(),n||(n=new d1,n.texArray=new m1),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),m.touched=1,m._batchEnabled=t,m._batchLocation=i,m.wrapMode=js.REPEAT,n.texArray.elements[n.texArray.count++]=m,i++)),n.size+=p.size,u+=p.size,o=m._batchLocation,this.addColors(e,g.color,g.alpha,p.attribSize,p.attribStart),this.addTextureIds(r,o,p.attribSize,p.attribStart)}je._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=r[l],s[a++]=n[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?XM.triangulate(t,this):Xv[t.type].triangulate(t,this)}processLine(t){RC(t,this);for(let e=0;e<t.holes.length;e++)RC(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Xv[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=vt.shared.setValue(e).toLittleEndianNumber(),o=vt.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let a=0;a<n;a++)t[i+a]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const a=e.length,l=r.frame;for(;o<i;){let f=t[(n+o)*2],p=t[(n+o)*2+1];if(s){const d=s.a*f+s.c*p+s.tx;p=s.b*f+s.d*p+s.ty,f=d}o++,e.push(f/l.width,p/l.height)}const u=r.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,r,a,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let f=a.x/a.width,p=a.y/a.height,d=Math.floor(t[r]+s),g=Math.floor(t[r+1]+s);for(let m=r+2;m<o;m+=2)d=Math.min(d,Math.floor(t[m]+s)),g=Math.min(g,Math.floor(t[m+1]+s));f-=d,p-=g;for(let m=r;m<o;m+=2)t[m]=(t[m]+f)*l,t[m+1]=(t[m+1]+p)*u}};let qM=YM;qM.BATCHABLE_SIZE=100;class pm{constructor(){this.color=16777215,this.alpha=1,this.texture=pe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new pm;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=pe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Sb extends pm{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ba.BUTT,this.join=Ti.MITER,this.miterLimit=10}clone(){const e=new Sb;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Yv={},Tp=class extends rn{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new pm,this._lineStyle=new Sb,this._matrix=null,this._holeMode=!1,this.state=ro.for2d(),this._geometry=t||new qM,this._geometry.refCount++,this._transformID=-1,this._tintColor=new vt(16777215),this.blendMode=Ne.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Tp(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:pe.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ba.BUTT,join:Ti.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new vu,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new vu,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),wb.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),bb.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=PC.curveTo(t,e,r,n,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:f,endAngle:p,anticlockwise:d}=o;this.arc(a,l,u,f,p,d)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=a0:s&&n<=i&&(n+=a0),i-n===0)return this;const a=t+Math.cos(n)*r,l=e+Math.sin(n)*r,u=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const p=Math.abs(f[f.length-2]-a),d=Math.abs(f[f.length-1]-l);p<u&&d<u||f.push(a,l)}else this.moveTo(a,l),f=this.currentPath.points;return PC.arc(a,l,t,e,r,n,i,s,f),this}beginFill(t=0,e){return this.beginTextureFill({texture:pe.WHITE,color:t,alpha:e})}normalizeColor(t){const e=vt.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:pe.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new qe(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new yb(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new gb(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new vb(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new vu(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Br.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:vt.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,vt.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,a=s.length;o<a;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!Yv[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let a=0;a<n;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ot,default:Ui.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;Yv[r]=new ms(o,s)}e=Yv[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Tp._TEMP_POINT),this._geometry.containsPoint(Tp._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=vt.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let f=0;for(let p=0;p<l.length;p+=2){const d=l[p],g=l[p+1];u[f++]=r*d+i*g+o,u[f++]=s*g+n*d+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Ha=Tp;Ha.curves=ku;Ha._TEMP_POINT=new ye;class $6 extends hm{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let f=0;f<e;f++){const p=f%this.segWidth,d=f/this.segWidth|0;r.push(p*a,d*l),n.push(p/s,d/o)}const u=s*o;for(let f=0;f<u;f++){const p=f%s,d=f/s|0,g=d*this.segWidth+p,m=d*this.segWidth+p+1,_=(d+1)*this.segWidth+p,S=(d+1)*this.segWidth+p+1;i.push(g,m,_,m,S,_)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class X6 extends hm{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const u=this._width*this.textureScale,f=e.length;for(let d=0;d<f;d++){const g=d*4;if(this.textureScale>0){const m=l.x-e[d].x,_=l.y-e[d].y,S=Math.sqrt(m*m+_*_);l=e[d],a+=S/u}else a=d/(f-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let p=0;for(let d=0;d<f-1;d++){const g=d*2;o[p++]=g,o[p++]=g+1,o[p++]=g+2,o[p++]=g+2,o[p++]=g+1,o[p++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let u=0;u<a;u++){const f=e[u],p=u*4;u<e.length-1?n=e[u+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const d=Math.sqrt(i*i+s*s);d<1e-6?(i=0,s=0):(i/=d,s/=d,i*=l,s*=l),o[p]=f.x+i,o[p+1]=f.y+s,o[p+2]=f.x-i,o[p+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class Y6 extends Mu{constructor(e,r,n){const i=new $6(e.width,e.height,r,n),s=new Hh(pe.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const jd=10;class q6 extends Y6{constructor(e,r,n,i,s){var o,a,l,u;super(pe.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??jd,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??jd,this._topHeight=n??((l=e.defaultBorders)==null?void 0:l.top)??jd,this._bottomHeight=s??((u=e.defaultBorders)==null?void 0:u.bottom)??jd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class K6 extends Mu{constructor(e=pe.EMPTY,r,n,i,s){const o=new hm(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Hh(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Q6 extends Mu{constructor(e,r,n=0){const i=new X6(e.height,r,n),s=new Hh(e);n>0&&(e.baseTexture.wrapMode=js.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class Z6 extends rn{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Ne.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new vt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class MC{constructor(e,r,n){this.geometry=new Xo,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Be.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new tr(T5(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new tr(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new tr(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Be.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Be.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===Be.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===Be.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var J6=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,ez=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class KM extends im{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ot,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Be.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ms.from(ez,J6,{}),this.state=ro.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=tM(e.blendMode,u),s.state.set(this.state);const f=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=vt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let g=0,m=0;g<o;g+=i,m+=1){let _=o-g;_>i&&(_=i),m>=a.length&&a.push(this._generateOneMoreBuffer(e));const S=a[m];S.uploadDynamic(r,g,_);const T=e._bufferUpdateIDs[m]||0;d=d||S._updateID<T,d&&(S._updateID=e._updateID,S.uploadStatic(r,g,_)),s.geometry.bind(S.geometry),f.drawElements(f.TRIANGLES,_*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new MC(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new MC(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,l=0,u=0,f=0;for(let p=0;p<n;++p){const d=e[r+p],g=d._texture,m=d.scale.x,_=d.scale.y,S=g.trim,T=g.orig;S?(l=S.x-d.anchor.x*T.width,a=l+S.width,f=S.y-d.anchor.y*T.height,u=f+S.height):(a=T.width*(1-d.anchor.x),l=T.width*-d.anchor.x,u=T.height*(1-d.anchor.y),f=T.height*-d.anchor.y),i[o]=l*m,i[o+1]=f*_,i[o+s]=a*m,i[o+s+1]=f*_,i[o+s*2]=a*m,i[o+s*2+1]=u*_,i[o+s*3]=l*m,i[o+s*3+1]=u*_,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a],u=vt.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}KM.extension={name:"particle",type:ve.RendererPlugin};Ae.add(KM);class Vh extends bs{constructor(e,r=!0){super(e[0]instanceof pe?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(nr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(nr.shared.add(this.update,this,qo.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(pe.from(e[n]));return new Vh(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(pe.from(e[n]));return new Vh(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof pe)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(nr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(nr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Oc=new ye;class Eb extends bs{constructor(e,r=100,n=100){super(e),this.tileTransform=new nm,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new xb(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Oc);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Oc.x>=i&&Oc.x<i+r){const s=-n*this.anchor._y;if(Oc.y>=s&&Oc.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof pe?e:pe.from(e,r);return new Eb(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var tz=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,rz=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,nz=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,kC=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,iz=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Gd=new Ot;class QM extends im{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new vM,this.state=ro.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=ms.from(kC,iz,r),this.shader=e.context.webGLVersion>1?ms.from(rz,tz,r):ms.from(kC,nz,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,f=e.tileTransform.localTransform,p=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[r.CONTEXT_UID]?d=l.wrapMode!==js.CLAMP:l.wrapMode===js.CLAMP&&(l.wrapMode=js.REPEAT));const g=d?this.simpleShader:this.shader,m=a.width,_=a.height,S=e._width,T=e._height;Gd.set(f.a*m/S,f.b*m/T,f.c*_/S,f.d*_/T,f.tx/S,f.ty/T),Gd.invert(),d?Gd.prepend(p.mapCoord):(g.uniforms.uMapCoord=p.mapCoord.toArray(!0),g.uniforms.uClampFrame=p.uClampFrame,g.uniforms.uClampOffset=p.uClampOffset),g.uniforms.uTransform=Gd.toArray(!0),g.uniforms.uColor=vt.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=tM(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}QM.extension={name:"tilingSprite",type:ve.RendererPlugin};Ae.add(QM);const T1=class{constructor(t){this.stage=new rn,t=Object.assign({forceCanvas:!1},t),this.renderer=FU(t),T1._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=T1._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let af=T1;af._plugins=[];Ae.handleByList(ve.Application,af._plugins);class ZM{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}ZM.extension=ve.Application;Ae.add(ZM);var JM={exports:{}},sz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oz=sz,az=oz;function ek(){}function tk(){}tk.resetWarningCache=ek;var lz=function(){function t(n,i,s,o,a,l){if(l!==az){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tk,resetWarningCache:ek};return r.PropTypes=r,r};JM.exports=lz();var Tb=JM.exports;const Ct=Ja(Tb);function Ln(t){return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(t)}function rk(t){var e=function(r,n){if(Ln(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Ln(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Ln(e)==="symbol"?e:String(e)}function er(t,e,r){return(e=rk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zs(t){return function(e){if(Array.isArray(e))return qv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return qv(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qv(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var uz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cz(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hz=function(t){return t==null};function Gc(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Zs(t);else{if(t===null||Ln(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!hz(r)&&!isNaN(r)}).map(Number)}function DC(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Kv(t){return t instanceof ye||t instanceof Us}var d0=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Qv(t,e,r){if(Kv(t[e])&&Kv(r))t[e].copyFrom(r);else if(Kv(t[e])){var n=Gc(r);Yt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),Ln(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Rl,nk=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},ik=function(t){return function(){return!t.apply(void 0,arguments)}},C1="children",fz=(er(Rl={},C1,!0),er(Rl,"parent",!0),er(Rl,"worldAlpha",!0),er(Rl,"worldTransform",!0),er(Rl,"worldVisible",!0),Rl),P1={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},ys=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var l,u;a==null||(l=a.__reactpixi)===null||l===void 0||(u=l.root)===null||u===void 0||u.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,l){if(r.hasOwnProperty(a))return Yt(l.typeofs.some(function(u){return Ln(r[a])===u})||l.instanceofs.some(function(u){return r[a]instanceof u}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return Yt(r.texture instanceof pe,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,pe]});Yt(!!s,"".concat(t," could not get texture from props"));var o=pe.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},dz=ik(nk([].concat(Zs(Object.keys(fz)),Zs(d0))));function xs(t,e,r){var n=!1;if(Yt(Bt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Ln(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<d0.length;o++){var a=d0[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var l=Object.keys(r||{});if(r.overwriteProps){for(var u=0;u<l.length;u++){var f=l[u];e[f]!==r[f]&&(n=!0,Qv(t,f,r[f]))}return n}for(var p=l.filter(dz),d=0;d<p.length;d++){var g=p[d],m=r[g];r[g]!==e[g]&&(n=!0),m!==void 0?Qv(t,g,m):g in P1?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(m," for"),t),n=!0,Qv(t,g,P1[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(m," for"),t)}return n}var pz=function(t,e){var r=e.text,n=e.style;return new WM(r,n)},mz=function(){return new rn};function ra(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var l,u,f={},p=Object.keys(o);for(u=0;u<p.length;u++)l=p[u],a.indexOf(l)>=0||(f[l]=o[l]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var gz=["draw","geometry"],vz=function(t,e){var r=e.geometry;Yt(!r||r instanceof Ha,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new Ha(r.geometry):new Ha;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var l=xs(i,s,ra(o,gz));return s.draw!==a&&typeof a=="function"&&(l=!0,a.call(n,n)),l},n},yz=["image","texture"],xz=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,l=e.bottomHeight,u=l===void 0?10:l,f=ys("NineSlicePlane",t,e),p=new q6(f,n,s,a,u);return p.applyProps=function(d,g,m){var _=m.image,S=m.texture,T=xs(d,g,ra(m,yz));return(_||S)&&(S!==g.texture&&(T=!0),d.texture=ys("NineSlicePlane",t,m)),T},p};function OC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(r),!0).forEach(function(n){er(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _z=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,l=Wd(Wd({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),u=Wd(Wd({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new Z6(n,l,s,a);return f.willUnmount=function(p,d,g){p.destroy(u)},f},bz=["image","texture"],wz=function(t,e){var r=new bs(ys("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,l=xs(n,i,ra(s,bz));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(l=!0),n.texture=ys("Sprite",t,s)),l},r},Sz=["textures","isPlaying","initialFrame"],Ez=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(u){return u.map(function(f){return Yt(f instanceof pe||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),f})},l=n?Vh.fromImages(n):new Vh(a(r));return l[s?"gotoAndPlay":"gotoAndStop"](o||0),l.applyProps=function(u,f,p){var d=p.textures,g=p.isPlaying,m=p.initialFrame,_=xs(u,f,ra(p,Sz));if(d&&f.textures!==d&&(u.textures=a(d),_=!0),g!==f.isPlaying||m!==f.initialFrame){var S=typeof m=="number"?m:l.currentFrame||0;l[g?"gotoAndPlay":"gotoAndStop"](S),_=!0}return _},l},Tz=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new cm(n,s);return o?(a.updateText(),new bs(a.texture)):a},Cz=["tileScale","tilePosition","image","texture"],Pz=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=ys("TilingSprite",t,e),a=new Eb(o,n,s);return a.applyProps=function(l,u,f){var p=f.tileScale,d=f.tilePosition,g=f.image,m=f.texture,_=xs(l,u,ra(f,Cz));if(d){var S,T=Gc(d);(S=l.tilePosition).set.apply(S,Zs(T)),_=!DC(Gc(u.tilePosition),T)||_}if(p){var b,y=Gc(p);(b=l.tileScale).set.apply(b,Zs(y)),_=!DC(Gc(u.tileScale),y)||_}return(g||m)&&(m!==u.texture&&(_=!0),l.texture=ys("Sprite",t,f)),_},a},Az=["image","texture"],Rz=function(t,e){var r=ys("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?ki.TRIANGLES:o,l=new K6(r,n,i,s,a);return l.applyProps=function(u,f,p){var d=p.image,g=p.texture,m=xs(u,f,ra(p,Az));return(d||g)&&(g!==f.texture&&(m=!0),u.texture=ys("Mesh",t,p)),m},l},Iz=["image","texture"],Mz=function(t,e){var r=ys("SimpleRope",t,e),n=e.points,i=new Q6(r,n);return i.applyProps=function(s,o,a){var l=a.image,u=a.texture,f=ra(a,Iz);Yt(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var p=xs(s,o,f);return(l||u)&&(u!==o.texture&&(p=!0),s.texture=ys("SimpleRope",t,a)),p},i},kz=Object.freeze({__proto__:null,BitmapText:pz,Container:mz,Graphics:vz,NineSlicePlane:xz,ParticleContainer:_z,Sprite:wz,Text:Tz,TilingSprite:Pz,SimpleMesh:Rz,SimpleRope:Mz,AnimatedSprite:Ez});function BC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(r),!0).forEach(function(n){er(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Tn={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},Dz=Object.keys(Tn).reduce(function(t,e){return NC(NC({},t),{},er({},e,kz[e]))},{}),sk={};function Oz(t,e){return Yt(!!t,"Expect type to be defined, got `%s`",t),Yt(!Tn[t],"Component `%s` could not be created, already exists in default components.",t),sk[t]=e,t}var FC,LC,UC,zC,A1={},R1={},Bz={get exports(){return R1},set exports(t){R1=t}},HC={};function Nz(){return LC||(LC=1,Bz.exports=(FC||(FC=1,function(t){function e(F,$){var H=F.length;F.push($);e:for(;0<H;){var L=H-1>>>1,j=F[L];if(!(0<i(j,$)))break e;F[L]=$,F[H]=j,H=L}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var $=F[0],H=F.pop();if(H!==$){F[0]=H;e:for(var L=0,j=F.length,Y=j>>>1;L<Y;){var W=2*(L+1)-1,de=F[W],he=W+1,Pe=F[he];if(0>i(de,H))he<j&&0>i(Pe,de)?(F[L]=Pe,F[he]=H,L=he):(F[L]=de,F[W]=H,L=W);else{if(!(he<j&&0>i(Pe,H)))break e;F[L]=Pe,F[he]=H,L=he}}}return $}function i(F,$){var H=F.sortIndex-$.sortIndex;return H!==0?H:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,p=null,d=3,g=!1,m=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function y(F){for(var $=r(u);$!==null;){if($.callback===null)n(u);else{if(!($.startTime<=F))break;n(u),$.sortIndex=$.expirationTime,e(l,$)}$=r(u)}}function x(F){if(_=!1,y(F),!m)if(r(l)!==null)m=!0,Q(C);else{var $=r(u);$!==null&&z(x,$.startTime-F)}}function C(F,$){m=!1,_&&(_=!1,T(D),D=-1),g=!0;var H=d;try{for(y($),p=r(l);p!==null&&(!(p.expirationTime>$)||F&&!O());){var L=p.callback;if(typeof L=="function"){p.callback=null,d=p.priorityLevel;var j=L(p.expirationTime<=$);$=t.unstable_now(),typeof j=="function"?p.callback=j:p===r(l)&&n(l),y($)}else n(l);p=r(l)}if(p!==null)var Y=!0;else{var W=r(u);W!==null&&z(x,W.startTime-$),Y=!1}return Y}finally{p=null,d=H,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var M,I=!1,A=null,D=-1,R=5,k=-1;function O(){return!(t.unstable_now()-k<R)}function U(){if(A!==null){var F=t.unstable_now();k=F;var $=!0;try{$=A(!0,F)}finally{$?M():(I=!1,A=null)}}else I=!1}if(typeof b=="function")M=function(){b(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,G=N.port2;N.port1.onmessage=U,M=function(){G.postMessage(null)}}else M=function(){S(U,0)};function Q(F){A=F,I||(I=!0,M())}function z(F,$){D=S(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,Q(C))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var H=d;d=$;try{return F()}finally{d=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=d;d=F;try{return $()}finally{d=H}},t.unstable_scheduleCallback=function(F,$,H){var L=t.unstable_now();switch(H=typeof H=="object"&&H!==null&&typeof(H=H.delay)=="number"&&0<H?L+H:L,F){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return F={id:f++,callback:$,priorityLevel:F,startTime:H,expirationTime:j=H+j,sortIndex:-1},H>L?(F.sortIndex=H,e(u,F),r(l)===null&&F===r(u)&&(_?(T(D),D=-1):_=!0,z(x,H-L))):(F.sortIndex=j,e(l,F),m||g||(m=!0,Q(C))),F},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(F){var $=d;return function(){var H=d;d=$;try{return F.apply(this,arguments)}finally{d=H}}}}(HC)),HC)),R1}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Fz(){return zC||(zC=1,UC=function(t){var e={},r=Nn,n=Nz(),i=Object.assign;function s(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),g=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),x=Symbol.iterator;function C(c){return c===null||typeof c!="object"?null:typeof(c=x&&c[x]||c["@@iterator"])=="function"?c:null}function M(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case u:return"Fragment";case l:return"Portal";case p:return"Profiler";case f:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case g:return(c.displayName||"Context")+".Consumer";case d:return(c._context.displayName||"Context")+".Provider";case m:var h=c.render;return(c=c.displayName)||(c=(c=h.displayName||h.name||"")!==""?"ForwardRef("+c+")":"ForwardRef"),c;case T:return(h=c.displayName||null)!==null?h:M(c.type)||"Memo";case b:h=c._payload,c=c._init;try{return M(c(h))}catch{}}return null}function I(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=(c=h.render).displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function A(c){var h=c,v=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do 4098&(h=c).flags&&(v=h.return),c=h.return;while(c)}return h.tag===3?v:null}function D(c){if(A(c)!==c)throw Error(s(188))}function R(c){var h=c.alternate;if(!h){if((h=A(c))===null)throw Error(s(188));return h!==c?null:c}for(var v=c,w=h;;){var E=v.return;if(E===null)break;var P=E.alternate;if(P===null){if((w=E.return)!==null){v=w;continue}break}if(E.child===P.child){for(P=E.child;P;){if(P===v)return D(E),c;if(P===w)return D(E),h;P=P.sibling}throw Error(s(188))}if(v.return!==w.return)v=E,w=P;else{for(var B=!1,V=E.child;V;){if(V===v){B=!0,v=E,w=P;break}if(V===w){B=!0,w=E,v=P;break}V=V.sibling}if(!B){for(V=P.child;V;){if(V===v){B=!0,v=P,w=E;break}if(V===w){B=!0,w=P,v=E;break}V=V.sibling}if(!B)throw Error(s(189))}}if(v.alternate!==w)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?c:h}function k(c){return(c=R(c))!==null?O(c):null}function O(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=O(c);if(h!==null)return h;c=c.sibling}return null}function U(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var h=U(c);if(h!==null)return h}c=c.sibling}return null}var N,G=Array.isArray,Q=t.getPublicInstance,z=t.getRootHostContext,F=t.getChildHostContext,$=t.prepareForCommit,H=t.resetAfterCommit,L=t.createInstance,j=t.appendInitialChild,Y=t.finalizeInitialChildren,W=t.prepareUpdate,de=t.shouldSetTextContent,he=t.createTextInstance,Pe=t.scheduleTimeout,ge=t.cancelTimeout,ut=t.noTimeout,Ze=t.isPrimaryRenderer,Ie=t.supportsMutation,Xe=t.supportsPersistence,Oe=t.supportsHydration,it=t.getInstanceFromNode,St=t.preparePortalMount,ir=t.getCurrentEventPriority,vr=t.detachDeletedInstance,qt=t.supportsMicrotasks,hi=t.scheduleMicrotask,Nt=t.supportsTestSelectors,hr=t.findFiberRoot,gt=t.getBoundingRect,sr=t.getTextContent,Ir=t.isHiddenSubtree,Ge=t.matchAccessibilityRole,We=t.setFocusIfFocusable,De=t.setupIntersectionObserver,st=t.appendChild,sn=t.appendChildToContainer,yr=t.commitTextUpdate,Ye=t.commitMount,Re=t.commitUpdate,zr=t.insertBefore,K=t.insertInContainerBefore,Z=t.removeChild,se=t.removeChildFromContainer,xe=t.resetTextContent,ze=t.hideInstance,Fe=t.hideTextInstance,Le=t.unhideInstance,Me=t.unhideTextInstance,Se=t.clearContainer,ft=t.cloneInstance,Kt=t.createContainerChildSet,at=t.appendChildToContainerChildSet,xt=t.finalizeContainerChildren,At=t.replaceContainerChildren,Gn=t.cloneHiddenInstance,Cn=t.cloneHiddenTextInstance,Ss=t.canHydrateInstance,no=t.canHydrateTextInstance,Et=t.canHydrateSuspenseInstance,Qt=t.isSuspenseInstancePending,fi=t.isSuspenseInstanceFallback,oa=t.getSuspenseInstanceFallbackErrorDetails,qu=t.registerSuspenseInstanceRetry,io=t.getNextHydratableSibling,dt=t.getFirstHydratableChild,Pn=t.getFirstHydratableChildWithinContainer,Wi=t.getFirstHydratableChildWithinSuspenseInstance,Ku=t.hydrateInstance,Zt=t.hydrateTextInstance,aa=t.hydrateSuspenseInstance,vf=t.getNextHydratableInstanceAfterSuspenseInstance,Pm=t.commitHydratedContainer,J3=t.commitHydratedSuspenseInstance,eD=t.clearSuspenseBoundary,tD=t.clearSuspenseBoundaryFromContainer,rD=t.shouldDeleteUnhydratedTailInstances,nD=t.didNotMatchHydratedContainerTextInstance,iD=t.didNotMatchHydratedTextInstance;function Qu(c){if(N===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);N=h&&h[1]||""}return`
`+N+c}var Am=!1;function Rm(c,h){if(!c||Am)return"";Am=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(te){var w=te}Reflect.construct(c,[],h)}else{try{h.call()}catch(te){w=te}c.call(h.prototype)}else{try{throw Error()}catch(te){w=te}c()}}catch(te){if(te&&w&&typeof te.stack=="string"){for(var E=te.stack.split(`
`),P=w.stack.split(`
`),B=E.length-1,V=P.length-1;1<=B&&0<=V&&E[B]!==P[V];)V--;for(;1<=B&&0<=V;B--,V--)if(E[B]!==P[V]){if(B!==1||V!==1)do if(B--,0>--V||E[B]!==P[V]){var q=`
`+E[B].replace(" at new "," at ");return c.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",c.displayName)),q}while(1<=B&&0<=V);break}}}finally{Am=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?Qu(c):""}var sD=Object.prototype.hasOwnProperty,Im=[],ul=-1;function so(c){return{current:c}}function Rt(c){0>ul||(c.current=Im[ul],Im[ul]=null,ul--)}function _t(c,h){ul++,Im[ul]=c.current,c.current=h}var oo={},Hr=so(oo),dn=so(!1),la=oo;function cl(c,h){var v=c.type.contextTypes;if(!v)return oo;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var E,P={};for(E in v)P[E]=h[E];return w&&((c=c.stateNode).__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=P),P}function An(c){return(c=c.childContextTypes)!=null}function Mm(){Rt(dn),Rt(Hr)}function nw(c,h,v){if(Hr.current!==oo)throw Error(s(168));_t(Hr,h),_t(dn,v)}function iw(c,h,v){var w=c.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return v;for(var E in w=w.getChildContext())if(!(E in h))throw Error(s(108,I(c)||"Unknown",E));return i({},v,w)}function yf(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||oo,la=Hr.current,_t(Hr,c),_t(dn,dn.current),!0}function sw(c,h,v){var w=c.stateNode;if(!w)throw Error(s(169));v?(c=iw(c,h,la),w.__reactInternalMemoizedMergedChildContext=c,Rt(dn),Rt(Hr),_t(Hr,c)):Rt(dn),_t(dn,v)}var di=Math.clz32?Math.clz32:function(c){return(c>>>=0)===0?32:31-(oD(c)/aD|0)|0},oD=Math.log,aD=Math.LN2,km=64,Dm=4194304;function Zu(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&c;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&c;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function xf(c,h){var v=c.pendingLanes;if(v===0)return 0;var w=0,E=c.suspendedLanes,P=c.pingedLanes,B=268435455&v;if(B!==0){var V=B&~E;V!==0?w=Zu(V):(P&=B)!==0&&(w=Zu(P))}else(B=v&~E)!==0?w=Zu(B):P!==0&&(w=Zu(P));if(w===0)return 0;if(h!==0&&h!==w&&!(h&E)&&((E=w&-w)>=(P=h&-h)||E===16&&4194240&P))return h;if(4&w&&(w|=16&v),(h=c.entangledLanes)!==0)for(c=c.entanglements,h&=w;0<h;)E=1<<(v=31-di(h)),w|=c[v],h&=~E;return w}function lD(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;default:return-1}}function Om(c){return(c=-1073741825&c.pendingLanes)!==0?c:1073741824&c?1073741824:0}function ow(){var c=km;return!(4194240&(km<<=1))&&(km=64),c}function Bm(c){for(var h=[],v=0;31>v;v++)h.push(c);return h}function Ju(c,h,v){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),(c=c.eventTimes)[h=31-di(h)]=v}function Nm(c,h){var v=c.entangledLanes|=h;for(c=c.entanglements;v;){var w=31-di(v),E=1<<w;E&h|c[w]&h&&(c[w]|=h),v&=~E}}var ct=0;function aw(c){return 1<(c&=-c)?4<c?268435455&c?16:536870912:4:1}var Fm=n.unstable_scheduleCallback,lw=n.unstable_cancelCallback,uD=n.unstable_shouldYield,cD=n.unstable_requestPaint,xr=n.unstable_now,Lm=n.unstable_ImmediatePriority,hD=n.unstable_UserBlockingPriority,uw=n.unstable_NormalPriority,fD=n.unstable_IdlePriority,_f=null,$i=null,pi=typeof Object.is=="function"?Object.is:function(c,h){return c===h&&(c!==0||1/c==1/h)||c!=c&&h!=h},Es=null,bf=!1,Um=!1;function cw(c){Es===null?Es=[c]:Es.push(c)}function Xi(){if(!Um&&Es!==null){Um=!0;var c=0,h=ct;try{var v=Es;for(ct=1;c<v.length;c++){var w=v[c];do w=w(!0);while(w!==null)}Es=null,bf=!1}catch(E){throw Es!==null&&(Es=Es.slice(c+1)),Fm(Lm,Xi),E}finally{ct=h,Um=!1}}return null}var hl=[],fl=0,wf=null,Sf=0,Wn=[],$n=0,ua=null,Yi=1,Ts="";function ca(c,h){hl[fl++]=Sf,hl[fl++]=wf,wf=c,Sf=h}function hw(c,h,v){Wn[$n++]=Yi,Wn[$n++]=Ts,Wn[$n++]=ua,ua=c;var w=Yi;c=Ts;var E=32-di(w)-1;w&=~(1<<E),v+=1;var P=32-di(h)+E;if(30<P){var B=E-E%5;P=(w&(1<<B)-1).toString(32),w>>=B,E-=B,Yi=1<<32-di(h)+E|v<<E|w,Ts=P+c}else Yi=1<<P|v<<E|w,Ts=c}function zm(c){c.return!==null&&(ca(c,1),hw(c,1,0))}function Hm(c){for(;c===wf;)wf=hl[--fl],hl[fl]=null,Sf=hl[--fl],hl[fl]=null;for(;c===ua;)ua=Wn[--$n],Wn[$n]=null,Ts=Wn[--$n],Wn[$n]=null,Yi=Wn[--$n],Wn[$n]=null}var Rn=null,Xn=null,It=!1,ec=!1,mi=null;function fw(c,h){var v=Zn(5,null,null,0);v.elementType="DELETED",v.stateNode=h,v.return=c,(h=c.deletions)===null?(c.deletions=[v],c.flags|=16):h.push(v)}function dw(c,h){switch(c.tag){case 5:return(h=Ss(h,c.type,c.pendingProps))!==null&&(c.stateNode=h,Rn=c,Xn=dt(h),!0);case 6:return(h=no(h,c.pendingProps))!==null&&(c.stateNode=h,Rn=c,Xn=null,!0);case 13:if((h=Et(h))!==null){var v=ua!==null?{id:Yi,overflow:Ts}:null;return c.memoizedState={dehydrated:h,treeContext:v,retryLane:1073741824},(v=Zn(18,null,null,0)).stateNode=h,v.return=c,c.child=v,Rn=c,Xn=null,!0}return!1;default:return!1}}function Vm(c){return(1&c.mode)!=0&&(128&c.flags)==0}function jm(c){if(It){var h=Xn;if(h){var v=h;if(!dw(c,h)){if(Vm(c))throw Error(s(418));h=io(v);var w=Rn;h&&dw(c,h)?fw(w,v):(c.flags=-4097&c.flags|2,It=!1,Rn=c)}}else{if(Vm(c))throw Error(s(418));c.flags=-4097&c.flags|2,It=!1,Rn=c}}}function pw(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Rn=c}function Ef(c){if(!Oe||c!==Rn)return!1;if(!It)return pw(c),It=!0,!1;if(c.tag!==3&&(c.tag!==5||rD(c.type)&&!de(c.type,c.memoizedProps))){var h=Xn;if(h){if(Vm(c))throw mw(),Error(s(418));for(;h;)fw(c,h),h=io(h)}}if(pw(c),c.tag===13){if(!Oe)throw Error(s(316));if(!(c=(c=c.memoizedState)!==null?c.dehydrated:null))throw Error(s(317));Xn=vf(c)}else Xn=Rn?io(c.stateNode):null;return!0}function mw(){for(var c=Xn;c;)c=io(c)}function dl(){Oe&&(Xn=Rn=null,ec=It=!1)}function Gm(c){mi===null?mi=[c]:mi.push(c)}var dD=o.ReactCurrentBatchConfig;function Tf(c,h){if(pi(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var v=Object.keys(c),w=Object.keys(h);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var E=v[w];if(!sD.call(h,E)||!pi(c[E],h[E]))return!1}return!0}function pD(c){switch(c.tag){case 5:return Qu(c.type);case 16:return Qu("Lazy");case 13:return Qu("Suspense");case 19:return Qu("SuspenseList");case 0:case 2:case 15:return c=Rm(c.type,!1);case 11:return c=Rm(c.type.render,!1);case 1:return c=Rm(c.type,!0);default:return""}}function gi(c,h){if(c&&c.defaultProps){for(var v in h=i({},h),c=c.defaultProps)h[v]===void 0&&(h[v]=c[v]);return h}return h}var Cf=so(null),Pf=null,pl=null,Wm=null;function $m(){Wm=pl=Pf=null}function gw(c,h,v){Ze?(_t(Cf,h._currentValue),h._currentValue=v):(_t(Cf,h._currentValue2),h._currentValue2=v)}function Xm(c){var h=Cf.current;Rt(Cf),Ze?c._currentValue=h:c._currentValue2=h}function Ym(c,h,v){for(;c!==null;){var w=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),c===v)break;c=c.return}}function ml(c,h){Pf=c,Wm=pl=null,(c=c.dependencies)!==null&&c.firstContext!==null&&(c.lanes&h&&(pn=!0),c.firstContext=null)}function Yn(c){var h=Ze?c._currentValue:c._currentValue2;if(Wm!==c)if(c={context:c,memoizedValue:h,next:null},pl===null){if(Pf===null)throw Error(s(308));pl=c,Pf.dependencies={lanes:0,firstContext:c}}else pl=pl.next=c;return h}var ha=null;function qm(c){ha===null?ha=[c]:ha.push(c)}function vw(c,h,v,w){var E=h.interleaved;return E===null?(v.next=v,qm(h)):(v.next=E.next,E.next=v),h.interleaved=v,qi(c,w)}function qi(c,h){c.lanes|=h;var v=c.alternate;for(v!==null&&(v.lanes|=h),v=c,c=c.return;c!==null;)c.childLanes|=h,(v=c.alternate)!==null&&(v.childLanes|=h),v=c,c=c.return;return v.tag===3?v.stateNode:null}var ao=!1;function Km(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yw(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Cs(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function lo(c,h,v){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(2&nt)!=0){var E=w.pending;return E===null?h.next=h:(h.next=E.next,E.next=h),w.pending=h,qi(c,v)}return(E=w.interleaved)===null?(h.next=h,qm(w)):(h.next=E.next,E.next=h),w.interleaved=h,qi(c,v)}function Af(c,h,v){if((h=h.updateQueue)!==null&&(h=h.shared,(4194240&v)!=0)){var w=h.lanes;v|=w&=c.pendingLanes,h.lanes=v,Nm(c,v)}}function xw(c,h){var v=c.updateQueue,w=c.alternate;if(w!==null&&v===(w=w.updateQueue)){var E=null,P=null;if((v=v.firstBaseUpdate)!==null){do{var B={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};P===null?E=P=B:P=P.next=B,v=v.next}while(v!==null);P===null?E=P=h:P=P.next=h}else E=P=h;return v={baseState:w.baseState,firstBaseUpdate:E,lastBaseUpdate:P,shared:w.shared,effects:w.effects},void(c.updateQueue=v)}(c=v.lastBaseUpdate)===null?v.firstBaseUpdate=h:c.next=h,v.lastBaseUpdate=h}function Rf(c,h,v,w){var E=c.updateQueue;ao=!1;var P=E.firstBaseUpdate,B=E.lastBaseUpdate,V=E.shared.pending;if(V!==null){E.shared.pending=null;var q=V,te=q.next;q.next=null,B===null?P=te:B.next=te,B=q;var ne=c.alternate;ne!==null&&(V=(ne=ne.updateQueue).lastBaseUpdate)!==B&&(V===null?ne.firstBaseUpdate=te:V.next=te,ne.lastBaseUpdate=q)}if(P!==null){var fe=E.baseState;for(B=0,ne=te=q=null,V=P;;){var re=V.lane,ue=V.eventTime;if((w&re)===re){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ee=c,Ke=V;switch(re=h,ue=v,Ke.tag){case 1:if(typeof(Ee=Ke.payload)=="function"){fe=Ee.call(ue,fe,re);break e}fe=Ee;break e;case 3:Ee.flags=-65537&Ee.flags|128;case 0:if((re=typeof(Ee=Ke.payload)=="function"?Ee.call(ue,fe,re):Ee)==null)break e;fe=i({},fe,re);break e;case 2:ao=!0}}V.callback!==null&&V.lane!==0&&(c.flags|=64,(re=E.effects)===null?E.effects=[V]:re.push(V))}else ue={eventTime:ue,lane:re,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ne===null?(te=ne=ue,q=fe):ne=ne.next=ue,B|=re;if((V=V.next)===null){if((V=E.shared.pending)===null)break;V=(re=V).next,re.next=null,E.lastBaseUpdate=re,E.shared.pending=null}}if(ne===null&&(q=fe),E.baseState=q,E.firstBaseUpdate=te,E.lastBaseUpdate=ne,(h=E.shared.interleaved)!==null){E=h;do B|=E.lane,E=E.next;while(E!==h)}else P===null&&(E.shared.lanes=0);da|=B,c.lanes=B,c.memoizedState=fe}}function _w(c,h,v){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var w=c[h],E=w.callback;if(E!==null){if(w.callback=null,w=v,typeof E!="function")throw Error(s(191,E));E.call(w)}}}var bw=new r.Component().refs;function Qm(c,h,v,w){v=(v=v(w,h=c.memoizedState))==null?h:i({},h,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var If={isMounted:function(c){return!!(c=c._reactInternals)&&A(c)===c},enqueueSetState:function(c,h,v){c=c._reactInternals;var w=Gr(),E=fo(c),P=Cs(w,E);P.payload=h,v!=null&&(P.callback=v),(h=lo(c,P,E))!==null&&(Qn(h,c,E,w),Af(h,c,E))},enqueueReplaceState:function(c,h,v){c=c._reactInternals;var w=Gr(),E=fo(c),P=Cs(w,E);P.tag=1,P.payload=h,v!=null&&(P.callback=v),(h=lo(c,P,E))!==null&&(Qn(h,c,E,w),Af(h,c,E))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var v=Gr(),w=fo(c),E=Cs(v,w);E.tag=2,h!=null&&(E.callback=h),(h=lo(c,E,w))!==null&&(Qn(h,c,w,v),Af(h,c,w))}};function ww(c,h,v,w,E,P,B){return typeof(c=c.stateNode).shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,P,B):!h.prototype||!h.prototype.isPureReactComponent||!Tf(v,w)||!Tf(E,P)}function Sw(c,h,v){var w=!1,E=oo,P=h.contextType;return typeof P=="object"&&P!==null?P=Yn(P):(E=An(h)?la:Hr.current,P=(w=(w=h.contextTypes)!=null)?cl(c,E):oo),h=new h(v,P),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=If,c.stateNode=h,h._reactInternals=c,w&&((c=c.stateNode).__reactInternalMemoizedUnmaskedChildContext=E,c.__reactInternalMemoizedMaskedChildContext=P),h}function Ew(c,h,v,w){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,w),h.state!==c&&If.enqueueReplaceState(h,h.state,null)}function Zm(c,h,v,w){var E=c.stateNode;E.props=v,E.state=c.memoizedState,E.refs=bw,Km(c);var P=h.contextType;typeof P=="object"&&P!==null?E.context=Yn(P):(P=An(h)?la:Hr.current,E.context=cl(c,P)),E.state=c.memoizedState,typeof(P=h.getDerivedStateFromProps)=="function"&&(Qm(c,h,P,v),E.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(h=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),h!==E.state&&If.enqueueReplaceState(E,E.state,null),Rf(c,v,E,w),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308)}function tc(c,h,v){if((c=v.ref)!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner){if(v.tag!==1)throw Error(s(309));var w=v.stateNode}if(!w)throw Error(s(147,c));var E=w,P=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===P?h.ref:(h=function(B){var V=E.refs;V===bw&&(V=E.refs={}),B===null?delete V[P]:V[P]=B},h._stringRef=P,h)}if(typeof c!="string")throw Error(s(284));if(!v._owner)throw Error(s(290,c))}return c}function Mf(c,h){throw c=Object.prototype.toString.call(h),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function Tw(c){return(0,c._init)(c._payload)}function Cw(c){function h(ie,X){if(c){var ee=ie.deletions;ee===null?(ie.deletions=[X],ie.flags|=16):ee.push(X)}}function v(ie,X){if(!c)return null;for(;X!==null;)h(ie,X),X=X.sibling;return null}function w(ie,X){for(ie=new Map;X!==null;)X.key!==null?ie.set(X.key,X):ie.set(X.index,X),X=X.sibling;return ie}function E(ie,X){return(ie=mo(ie,X)).index=0,ie.sibling=null,ie}function P(ie,X,ee){return ie.index=ee,c?(ee=ie.alternate)!==null?(ee=ee.index)<X?(ie.flags|=2,X):ee:(ie.flags|=2,X):(ie.flags|=1048576,X)}function B(ie){return c&&ie.alternate===null&&(ie.flags|=2),ie}function V(ie,X,ee,oe){return X===null||X.tag!==6?((X=Lg(ee,ie.mode,oe)).return=ie,X):((X=E(X,ee)).return=ie,X)}function q(ie,X,ee,oe){var ke=ee.type;return ke===u?ne(ie,X,ee.props.children,oe,ee.key):X!==null&&(X.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===b&&Tw(ke)===X.type)?((oe=E(X,ee.props)).ref=tc(ie,X,ee),oe.return=ie,oe):((oe=nd(ee.type,ee.key,ee.props,null,ie.mode,oe)).ref=tc(ie,X,ee),oe.return=ie,oe)}function te(ie,X,ee,oe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ee.containerInfo||X.stateNode.implementation!==ee.implementation?((X=Ug(ee,ie.mode,oe)).return=ie,X):((X=E(X,ee.children||[])).return=ie,X)}function ne(ie,X,ee,oe,ke){return X===null||X.tag!==7?((X=ga(ee,ie.mode,oe,ke)).return=ie,X):((X=E(X,ee)).return=ie,X)}function fe(ie,X,ee){if(typeof X=="string"&&X!==""||typeof X=="number")return(X=Lg(""+X,ie.mode,ee)).return=ie,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case a:return(ee=nd(X.type,X.key,X.props,null,ie.mode,ee)).ref=tc(ie,null,X),ee.return=ie,ee;case l:return(X=Ug(X,ie.mode,ee)).return=ie,X;case b:return fe(ie,(0,X._init)(X._payload),ee)}if(G(X)||C(X))return(X=ga(X,ie.mode,ee,null)).return=ie,X;Mf(ie,X)}return null}function re(ie,X,ee,oe){var ke=X!==null?X.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ke!==null?null:V(ie,X,""+ee,oe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case a:return ee.key===ke?q(ie,X,ee,oe):null;case l:return ee.key===ke?te(ie,X,ee,oe):null;case b:return re(ie,X,(ke=ee._init)(ee._payload),oe)}if(G(ee)||C(ee))return ke!==null?null:ne(ie,X,ee,oe,null);Mf(ie,ee)}return null}function ue(ie,X,ee,oe,ke){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return V(X,ie=ie.get(ee)||null,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case a:return q(X,ie=ie.get(oe.key===null?ee:oe.key)||null,oe,ke);case l:return te(X,ie=ie.get(oe.key===null?ee:oe.key)||null,oe,ke);case b:return ue(ie,X,ee,(0,oe._init)(oe._payload),ke)}if(G(oe)||C(oe))return ne(X,ie=ie.get(ee)||null,oe,ke,null);Mf(X,oe)}return null}function Ee(ie,X,ee,oe){for(var ke=null,pt=null,Te=X,ht=X=0,kr=null;Te!==null&&ht<ee.length;ht++){Te.index>ht?(kr=Te,Te=null):kr=Te.sibling;var mt=re(ie,Te,ee[ht],oe);if(mt===null){Te===null&&(Te=kr);break}c&&Te&&mt.alternate===null&&h(ie,Te),X=P(mt,X,ht),pt===null?ke=mt:pt.sibling=mt,pt=mt,Te=kr}if(ht===ee.length)return v(ie,Te),It&&ca(ie,ht),ke;if(Te===null){for(;ht<ee.length;ht++)(Te=fe(ie,ee[ht],oe))!==null&&(X=P(Te,X,ht),pt===null?ke=Te:pt.sibling=Te,pt=Te);return It&&ca(ie,ht),ke}for(Te=w(ie,Te);ht<ee.length;ht++)(kr=ue(Te,ie,ht,ee[ht],oe))!==null&&(c&&kr.alternate!==null&&Te.delete(kr.key===null?ht:kr.key),X=P(kr,X,ht),pt===null?ke=kr:pt.sibling=kr,pt=kr);return c&&Te.forEach(function(go){return h(ie,go)}),It&&ca(ie,ht),ke}function Ke(ie,X,ee,oe){var ke=C(ee);if(typeof ke!="function")throw Error(s(150));if((ee=ke.call(ee))==null)throw Error(s(151));for(var pt=ke=null,Te=X,ht=X=0,kr=null,mt=ee.next();Te!==null&&!mt.done;ht++,mt=ee.next()){Te.index>ht?(kr=Te,Te=null):kr=Te.sibling;var go=re(ie,Te,mt.value,oe);if(go===null){Te===null&&(Te=kr);break}c&&Te&&go.alternate===null&&h(ie,Te),X=P(go,X,ht),pt===null?ke=go:pt.sibling=go,pt=go,Te=kr}if(mt.done)return v(ie,Te),It&&ca(ie,ht),ke;if(Te===null){for(;!mt.done;ht++,mt=ee.next())(mt=fe(ie,mt.value,oe))!==null&&(X=P(mt,X,ht),pt===null?ke=mt:pt.sibling=mt,pt=mt);return It&&ca(ie,ht),ke}for(Te=w(ie,Te);!mt.done;ht++,mt=ee.next())(mt=ue(Te,ie,ht,mt.value,oe))!==null&&(c&&mt.alternate!==null&&Te.delete(mt.key===null?ht:mt.key),X=P(mt,X,ht),pt===null?ke=mt:pt.sibling=mt,pt=mt);return c&&Te.forEach(function(LD){return h(ie,LD)}),It&&ca(ie,ht),ke}return function ie(X,ee,oe,ke){if(typeof oe=="object"&&oe!==null&&oe.type===u&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case a:e:{for(var pt=oe.key,Te=ee;Te!==null;){if(Te.key===pt){if((pt=oe.type)===u){if(Te.tag===7){v(X,Te.sibling),(ee=E(Te,oe.props.children)).return=X,X=ee;break e}}else if(Te.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&Tw(pt)===Te.type){v(X,Te.sibling),(ee=E(Te,oe.props)).ref=tc(X,Te,oe),ee.return=X,X=ee;break e}v(X,Te);break}h(X,Te),Te=Te.sibling}oe.type===u?((ee=ga(oe.props.children,X.mode,ke,oe.key)).return=X,X=ee):((ke=nd(oe.type,oe.key,oe.props,null,X.mode,ke)).ref=tc(X,ee,oe),ke.return=X,X=ke)}return B(X);case l:e:{for(Te=oe.key;ee!==null;){if(ee.key===Te){if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){v(X,ee.sibling),(ee=E(ee,oe.children||[])).return=X,X=ee;break e}v(X,ee);break}h(X,ee),ee=ee.sibling}(ee=Ug(oe,X.mode,ke)).return=X,X=ee}return B(X);case b:return ie(X,ee,(Te=oe._init)(oe._payload),ke)}if(G(oe))return Ee(X,ee,oe,ke);if(C(oe))return Ke(X,ee,oe,ke);Mf(X,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ee!==null&&ee.tag===6?(v(X,ee.sibling),(ee=E(ee,oe)).return=X,X=ee):(v(X,ee),(ee=Lg(oe,X.mode,ke)).return=X,X=ee),B(X)):v(X,ee)}}var gl=Cw(!0),Pw=Cw(!1),rc={},qn=so(rc),nc=so(rc),vl=so(rc);function Ki(c){if(c===rc)throw Error(s(174));return c}function Jm(c,h){_t(vl,h),_t(nc,c),_t(qn,rc),c=z(h),Rt(qn),_t(qn,c)}function yl(){Rt(qn),Rt(nc),Rt(vl)}function Aw(c){var h=Ki(vl.current),v=Ki(qn.current);v!==(h=F(v,c.type,h))&&(_t(nc,c),_t(qn,h))}function eg(c){nc.current===c&&(Rt(qn),Rt(nc))}var Wt=so(0);function kf(c){for(var h=c;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&((v=v.dehydrated)===null||Qt(v)||fi(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(128&h.flags)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var tg=[];function rg(){for(var c=0;c<tg.length;c++){var h=tg[c];Ze?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}tg.length=0}var Df=o.ReactCurrentDispatcher,ng=o.ReactCurrentBatchConfig,fa=0,Ft=null,_r=null,br=null,Of=!1,ic=!1,sc=0,mD=0;function Vr(){throw Error(s(321))}function ig(c,h){if(h===null)return!1;for(var v=0;v<h.length&&v<c.length;v++)if(!pi(c[v],h[v]))return!1;return!0}function sg(c,h,v,w,E,P){if(fa=P,Ft=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Df.current=c===null||c.memoizedState===null?xD:_D,c=v(w,E),ic){P=0;do{if(ic=!1,sc=0,25<=P)throw Error(s(301));P+=1,br=_r=null,h.updateQueue=null,Df.current=bD,c=v(w,E)}while(ic)}if(Df.current=Ff,h=_r!==null&&_r.next!==null,fa=0,br=_r=Ft=null,Of=!1,h)throw Error(s(300));return c}function og(){var c=sc!==0;return sc=0,c}function Qi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Ft.memoizedState=br=c:br=br.next=c,br}function Kn(){if(_r===null){var c=Ft.alternate;c=c!==null?c.memoizedState:null}else c=_r.next;var h=br===null?Ft.memoizedState:br.next;if(h!==null)br=h,_r=c;else{if(c===null)throw Error(s(310));c={memoizedState:(_r=c).memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},br===null?Ft.memoizedState=br=c:br=br.next=c}return br}function oc(c,h){return typeof h=="function"?h(c):h}function ag(c){var h=Kn(),v=h.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=c;var w=_r,E=w.baseQueue,P=v.pending;if(P!==null){if(E!==null){var B=E.next;E.next=P.next,P.next=B}w.baseQueue=E=P,v.pending=null}if(E!==null){P=E.next,w=w.baseState;var V=B=null,q=null,te=P;do{var ne=te.lane;if((fa&ne)===ne)q!==null&&(q=q.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),w=te.hasEagerState?te.eagerState:c(w,te.action);else{var fe={lane:ne,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};q===null?(V=q=fe,B=w):q=q.next=fe,Ft.lanes|=ne,da|=ne}te=te.next}while(te!==null&&te!==P);q===null?B=w:q.next=V,pi(w,h.memoizedState)||(pn=!0),h.memoizedState=w,h.baseState=B,h.baseQueue=q,v.lastRenderedState=w}if((c=v.interleaved)!==null){E=c;do P=E.lane,Ft.lanes|=P,da|=P,E=E.next;while(E!==c)}else E===null&&(v.lanes=0);return[h.memoizedState,v.dispatch]}function lg(c){var h=Kn(),v=h.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=c;var w=v.dispatch,E=v.pending,P=h.memoizedState;if(E!==null){v.pending=null;var B=E=E.next;do P=c(P,B.action),B=B.next;while(B!==E);pi(P,h.memoizedState)||(pn=!0),h.memoizedState=P,h.baseQueue===null&&(h.baseState=P),v.lastRenderedState=P}return[P,w]}function Rw(){}function Iw(c,h){var v=Ft,w=Kn(),E=h(),P=!pi(w.memoizedState,E);if(P&&(w.memoizedState=E,pn=!0),w=w.queue,ug(Dw.bind(null,v,w,c),[c]),w.getSnapshot!==h||P||br!==null&&1&br.memoizedState.tag){if(v.flags|=2048,ac(9,kw.bind(null,v,w,E,h),void 0,null),wr===null)throw Error(s(349));30&fa||Mw(v,h,E)}return E}function Mw(c,h,v){c.flags|=16384,c={getSnapshot:h,value:v},(h=Ft.updateQueue)===null?(h={lastEffect:null,stores:null},Ft.updateQueue=h,h.stores=[c]):(v=h.stores)===null?h.stores=[c]:v.push(c)}function kw(c,h,v,w){h.value=v,h.getSnapshot=w,Ow(h)&&Bw(c)}function Dw(c,h,v){return v(function(){Ow(h)&&Bw(c)})}function Ow(c){var h=c.getSnapshot;c=c.value;try{var v=h();return!pi(c,v)}catch{return!0}}function Bw(c){var h=qi(c,1);h!==null&&Qn(h,c,1,-1)}function Nw(c){var h=Qi();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:c},h.queue=c,c=c.dispatch=yD.bind(null,Ft,c),[h.memoizedState,c]}function ac(c,h,v,w){return c={tag:c,create:h,destroy:v,deps:w,next:null},(h=Ft.updateQueue)===null?(h={lastEffect:null,stores:null},Ft.updateQueue=h,h.lastEffect=c.next=c):(v=h.lastEffect)===null?h.lastEffect=c.next=c:(w=v.next,v.next=c,c.next=w,h.lastEffect=c),c}function Fw(){return Kn().memoizedState}function Bf(c,h,v,w){var E=Qi();Ft.flags|=c,E.memoizedState=ac(1|h,v,void 0,w===void 0?null:w)}function Nf(c,h,v,w){var E=Kn();w=w===void 0?null:w;var P=void 0;if(_r!==null){var B=_r.memoizedState;if(P=B.destroy,w!==null&&ig(w,B.deps))return void(E.memoizedState=ac(h,v,P,w))}Ft.flags|=c,E.memoizedState=ac(1|h,v,P,w)}function Lw(c,h){return Bf(8390656,8,c,h)}function ug(c,h){return Nf(2048,8,c,h)}function Uw(c,h){return Nf(4,2,c,h)}function zw(c,h){return Nf(4,4,c,h)}function Hw(c,h){return typeof h=="function"?(c=c(),h(c),function(){h(null)}):h!=null?(c=c(),h.current=c,function(){h.current=null}):void 0}function Vw(c,h,v){return v=v!=null?v.concat([c]):null,Nf(4,4,Hw.bind(null,h,c),v)}function cg(){}function jw(c,h){var v=Kn();h=h===void 0?null:h;var w=v.memoizedState;return w!==null&&h!==null&&ig(h,w[1])?w[0]:(v.memoizedState=[c,h],c)}function Gw(c,h){var v=Kn();h=h===void 0?null:h;var w=v.memoizedState;return w!==null&&h!==null&&ig(h,w[1])?w[0]:(c=c(),v.memoizedState=[c,h],c)}function Ww(c,h,v){return 21&fa?(pi(v,h)||(v=ow(),Ft.lanes|=v,da|=v,c.baseState=!0),h):(c.baseState&&(c.baseState=!1,pn=!0),c.memoizedState=v)}function gD(c,h){var v=ct;ct=v!==0&&4>v?v:4,c(!0);var w=ng.transition;ng.transition={};try{c(!1),h()}finally{ct=v,ng.transition=w}}function $w(){return Kn().memoizedState}function vD(c,h,v){var w=fo(c);v={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null},Xw(c)?Yw(h,v):(v=vw(c,h,v,w))!==null&&(Qn(v,c,w,Gr()),qw(v,h,w))}function yD(c,h,v){var w=fo(c),E={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null};if(Xw(c))Yw(h,E);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=h.lastRenderedReducer)!==null)try{var B=h.lastRenderedState,V=P(B,v);if(E.hasEagerState=!0,E.eagerState=V,pi(V,B)){var q=h.interleaved;return q===null?(E.next=E,qm(h)):(E.next=q.next,q.next=E),void(h.interleaved=E)}}catch{}(v=vw(c,h,E,w))!==null&&(Qn(v,c,w,E=Gr()),qw(v,h,w))}}function Xw(c){var h=c.alternate;return c===Ft||h!==null&&h===Ft}function Yw(c,h){ic=Of=!0;var v=c.pending;v===null?h.next=h:(h.next=v.next,v.next=h),c.pending=h}function qw(c,h,v){if(4194240&v){var w=h.lanes;v|=w&=c.pendingLanes,h.lanes=v,Nm(c,v)}}var Ff={readContext:Yn,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},xD={readContext:Yn,useCallback:function(c,h){return Qi().memoizedState=[c,h===void 0?null:h],c},useContext:Yn,useEffect:Lw,useImperativeHandle:function(c,h,v){return v=v!=null?v.concat([c]):null,Bf(4194308,4,Hw.bind(null,h,c),v)},useLayoutEffect:function(c,h){return Bf(4194308,4,c,h)},useInsertionEffect:function(c,h){return Bf(4,2,c,h)},useMemo:function(c,h){var v=Qi();return h=h===void 0?null:h,c=c(),v.memoizedState=[c,h],c},useReducer:function(c,h,v){var w=Qi();return h=v!==void 0?v(h):h,w.memoizedState=w.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},w.queue=c,c=c.dispatch=vD.bind(null,Ft,c),[w.memoizedState,c]},useRef:function(c){return c={current:c},Qi().memoizedState=c},useState:Nw,useDebugValue:cg,useDeferredValue:function(c){return Qi().memoizedState=c},useTransition:function(){var c=Nw(!1),h=c[0];return c=gD.bind(null,c[1]),Qi().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,v){var w=Ft,E=Qi();if(It){if(v===void 0)throw Error(s(407));v=v()}else{if(v=h(),wr===null)throw Error(s(349));30&fa||Mw(w,h,v)}E.memoizedState=v;var P={value:v,getSnapshot:h};return E.queue=P,Lw(Dw.bind(null,w,P,c),[c]),w.flags|=2048,ac(9,kw.bind(null,w,P,v,h),void 0,null),v},useId:function(){var c=Qi(),h=wr.identifierPrefix;if(It){var v=Ts;h=":"+h+"R"+(v=(Yi&~(1<<32-di(Yi)-1)).toString(32)+v),0<(v=sc++)&&(h+="H"+v.toString(32)),h+=":"}else h=":"+h+"r"+(v=mD++).toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},_D={readContext:Yn,useCallback:jw,useContext:Yn,useEffect:ug,useImperativeHandle:Vw,useInsertionEffect:Uw,useLayoutEffect:zw,useMemo:Gw,useReducer:ag,useRef:Fw,useState:function(){return ag(oc)},useDebugValue:cg,useDeferredValue:function(c){return Ww(Kn(),_r.memoizedState,c)},useTransition:function(){return[ag(oc)[0],Kn().memoizedState]},useMutableSource:Rw,useSyncExternalStore:Iw,useId:$w,unstable_isNewReconciler:!1},bD={readContext:Yn,useCallback:jw,useContext:Yn,useEffect:ug,useImperativeHandle:Vw,useInsertionEffect:Uw,useLayoutEffect:zw,useMemo:Gw,useReducer:lg,useRef:Fw,useState:function(){return lg(oc)},useDebugValue:cg,useDeferredValue:function(c){var h=Kn();return _r===null?h.memoizedState=c:Ww(h,_r.memoizedState,c)},useTransition:function(){return[lg(oc)[0],Kn().memoizedState]},useMutableSource:Rw,useSyncExternalStore:Iw,useId:$w,unstable_isNewReconciler:!1};function xl(c,h){try{var v="",w=h;do v+=pD(w),w=w.return;while(w);var E=v}catch(P){E=`
Error generating stack: `+P.message+`
`+P.stack}return{value:c,source:h,stack:E,digest:null}}function hg(c,h,v){return{value:c,source:null,stack:v??null,digest:h??null}}function fg(c,h){try{console.error(h.value)}catch(v){setTimeout(function(){throw v})}}var wD=typeof WeakMap=="function"?WeakMap:Map;function Kw(c,h,v){(v=Cs(-1,v)).tag=3,v.payload={element:null};var w=h.value;return v.callback=function(){Qf||(Qf=!0,Mg=w),fg(0,h)},v}function Qw(c,h,v){(v=Cs(-1,v)).tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var E=h.value;v.payload=function(){return w(E)},v.callback=function(){fg(0,h)}}var P=c.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(v.callback=function(){fg(0,h),typeof w!="function"&&(co===null?co=new Set([this]):co.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})}),v}function Zw(c,h,v){var w=c.pingCache;if(w===null){w=c.pingCache=new wD;var E=new Set;w.set(h,E)}else(E=w.get(h))===void 0&&(E=new Set,w.set(h,E));E.has(v)||(E.add(v),c=MD.bind(null,c,h,v),h.then(c,c))}function Jw(c){do{var h;if((h=c.tag===13)&&(h=(h=c.memoizedState)===null||h.dehydrated!==null),h)return c;c=c.return}while(c!==null);return null}function eS(c,h,v,w,E){return 1&c.mode?(c.flags|=65536,c.lanes=E,c):(c===h?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:((h=Cs(-1,1)).tag=2,lo(v,h,1))),v.lanes|=1),c)}var SD=o.ReactCurrentOwner,pn=!1;function mn(c,h,v,w){h.child=c===null?Pw(h,null,v,w):gl(h,c.child,v,w)}function tS(c,h,v,w,E){v=v.render;var P=h.ref;return ml(h,E),w=sg(c,h,v,w,P,E),v=og(),c===null||pn?(It&&v&&zm(h),h.flags|=1,mn(c,h,w,E),h.child):(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~E,Ps(c,h,E))}function rS(c,h,v,w,E){if(c===null){var P=v.type;return typeof P!="function"||Fg(P)||P.defaultProps!==void 0||v.compare!==null||v.defaultProps!==void 0?((c=nd(v.type,null,w,h,h.mode,E)).ref=h.ref,c.return=h,h.child=c):(h.tag=15,h.type=P,nS(c,h,P,w,E))}if(P=c.child,(c.lanes&E)==0){var B=P.memoizedProps;if((v=(v=v.compare)!==null?v:Tf)(B,w)&&c.ref===h.ref)return Ps(c,h,E)}return h.flags|=1,(c=mo(P,w)).ref=h.ref,c.return=h,h.child=c}function nS(c,h,v,w,E){if(c!==null){var P=c.memoizedProps;if(Tf(P,w)&&c.ref===h.ref){if(pn=!1,h.pendingProps=w=P,(c.lanes&E)==0)return h.lanes=c.lanes,Ps(c,h,E);131072&c.flags&&(pn=!0)}}return dg(c,h,v,w,E)}function iS(c,h,v){var w=h.pendingProps,E=w.children,P=c!==null?c.memoizedState:null;if(w.mode==="hidden")if(!(1&h.mode))h.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(bl,In),In|=v;else{if(!(1073741824&v))return c=P!==null?P.baseLanes|v:v,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,_t(bl,In),In|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=P!==null?P.baseLanes:v,_t(bl,In),In|=w}else P!==null?(w=P.baseLanes|v,h.memoizedState=null):w=v,_t(bl,In),In|=w;return mn(c,h,E,v),h.child}function sS(c,h){var v=h.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(h.flags|=512,h.flags|=2097152)}function dg(c,h,v,w,E){var P=An(v)?la:Hr.current;return P=cl(h,P),ml(h,E),v=sg(c,h,v,w,P,E),w=og(),c===null||pn?(It&&w&&zm(h),h.flags|=1,mn(c,h,v,E),h.child):(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~E,Ps(c,h,E))}function oS(c,h,v,w,E){if(An(v)){var P=!0;yf(h)}else P=!1;if(ml(h,E),h.stateNode===null)Hf(c,h),Sw(h,v,w),Zm(h,v,w,E),w=!0;else if(c===null){var B=h.stateNode,V=h.memoizedProps;B.props=V;var q=B.context,te=v.contextType;typeof te=="object"&&te!==null?te=Yn(te):te=cl(h,te=An(v)?la:Hr.current);var ne=v.getDerivedStateFromProps,fe=typeof ne=="function"||typeof B.getSnapshotBeforeUpdate=="function";fe||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(V!==w||q!==te)&&Ew(h,B,w,te),ao=!1;var re=h.memoizedState;B.state=re,Rf(h,w,B,E),q=h.memoizedState,V!==w||re!==q||dn.current||ao?(typeof ne=="function"&&(Qm(h,v,ne,w),q=h.memoizedState),(V=ao||ww(h,v,V,w,re,q,te))?(fe||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(h.flags|=4194308)):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=q),B.props=w,B.state=q,B.context=te,w=V):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{B=h.stateNode,yw(c,h),V=h.memoizedProps,te=h.type===h.elementType?V:gi(h.type,V),B.props=te,fe=h.pendingProps,re=B.context,typeof(q=v.contextType)=="object"&&q!==null?q=Yn(q):q=cl(h,q=An(v)?la:Hr.current);var ue=v.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(V!==fe||re!==q)&&Ew(h,B,w,q),ao=!1,re=h.memoizedState,B.state=re,Rf(h,w,B,E);var Ee=h.memoizedState;V!==fe||re!==Ee||dn.current||ao?(typeof ue=="function"&&(Qm(h,v,ue,w),Ee=h.memoizedState),(te=ao||ww(h,v,te,w,re,Ee,q)||!1)?(ne||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(w,Ee,q),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(w,Ee,q)),typeof B.componentDidUpdate=="function"&&(h.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof B.componentDidUpdate!="function"||V===c.memoizedProps&&re===c.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&re===c.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Ee),B.props=w,B.state=Ee,B.context=q,w=te):(typeof B.componentDidUpdate!="function"||V===c.memoizedProps&&re===c.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&re===c.memoizedState||(h.flags|=1024),w=!1)}return pg(c,h,v,w,P,E)}function pg(c,h,v,w,E,P){sS(c,h);var B=(128&h.flags)!=0;if(!w&&!B)return E&&sw(h,v,!1),Ps(c,h,P);w=h.stateNode,SD.current=h;var V=B&&typeof v.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,c!==null&&B?(h.child=gl(h,c.child,null,P),h.child=gl(h,null,V,P)):mn(c,h,V,P),h.memoizedState=w.state,E&&sw(h,v,!0),h.child}function aS(c){var h=c.stateNode;h.pendingContext?nw(0,h.pendingContext,h.pendingContext!==h.context):h.context&&nw(0,h.context,!1),Jm(c,h.containerInfo)}function lS(c,h,v,w,E){return dl(),Gm(E),h.flags|=256,mn(c,h,v,w),h.child}var lc,uc,Lf,Uf,mg={dehydrated:null,treeContext:null,retryLane:0};function gg(c){return{baseLanes:c,cachePool:null,transitions:null}}function uS(c,h,v){var w,E=h.pendingProps,P=Wt.current,B=!1,V=(128&h.flags)!=0;if((w=V)||(w=(c===null||c.memoizedState!==null)&&(2&P)!=0),w?(B=!0,h.flags&=-129):c!==null&&c.memoizedState===null||(P|=1),_t(Wt,1&P),c===null)return jm(h),(c=h.memoizedState)!==null&&(c=c.dehydrated)!==null?(1&h.mode?fi(c)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(V=E.children,c=E.fallback,B?(E=h.mode,B=h.child,V={mode:"hidden",children:V},!(1&E)&&B!==null?(B.childLanes=0,B.pendingProps=V):B=id(V,E,0,null),c=ga(c,E,v,null),B.return=h,c.return=h,B.sibling=c,h.child=B,h.child.memoizedState=gg(v),h.memoizedState=mg,c):vg(h,V));if((P=c.memoizedState)!==null&&(w=P.dehydrated)!==null)return function(te,ne,fe,re,ue,Ee,Ke){if(fe)return 256&ne.flags?(ne.flags&=-257,zf(te,ne,Ke,re=hg(Error(s(422))))):ne.memoizedState!==null?(ne.child=te.child,ne.flags|=128,null):(Ee=re.fallback,ue=ne.mode,re=id({mode:"visible",children:re.children},ue,0,null),(Ee=ga(Ee,ue,Ke,null)).flags|=2,re.return=ne,Ee.return=ne,re.sibling=Ee,ne.child=re,1&ne.mode&&gl(ne,te.child,null,Ke),ne.child.memoizedState=gg(Ke),ne.memoizedState=mg,Ee);if(!(1&ne.mode))return zf(te,ne,Ke,null);if(fi(ue))return re=oa(ue).digest,Ee=Error(s(419)),re=hg(Ee,re,void 0),zf(te,ne,Ke,re);if(fe=(Ke&te.childLanes)!=0,pn||fe){if((re=wr)!==null){switch(Ke&-Ke){case 4:ue=2;break;case 16:ue=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ue=32;break;case 536870912:ue=268435456;break;default:ue=0}(ue=ue&(re.suspendedLanes|Ke)?0:ue)!==0&&ue!==Ee.retryLane&&(Ee.retryLane=ue,qi(te,ue),Qn(re,te,ue,-1))}return Ng(),zf(te,ne,Ke,re=hg(Error(s(421))))}return Qt(ue)?(ne.flags|=128,ne.child=te.child,ne=kD.bind(null,te),qu(ue,ne),null):(te=Ee.treeContext,Oe&&(Xn=Wi(ue),Rn=ne,It=!0,mi=null,ec=!1,te!==null&&(Wn[$n++]=Yi,Wn[$n++]=Ts,Wn[$n++]=ua,Yi=te.id,Ts=te.overflow,ua=ne)),ne=vg(ne,re.children),ne.flags|=4096,ne)}(c,h,V,E,w,P,v);if(B){B=E.fallback,V=h.mode,w=(P=c.child).sibling;var q={mode:"hidden",children:E.children};return!(1&V)&&h.child!==P?((E=h.child).childLanes=0,E.pendingProps=q,h.deletions=null):(E=mo(P,q)).subtreeFlags=14680064&P.subtreeFlags,w!==null?B=mo(w,B):(B=ga(B,V,v,null)).flags|=2,B.return=h,E.return=h,E.sibling=B,h.child=E,E=B,B=h.child,V=(V=c.child.memoizedState)===null?gg(v):{baseLanes:V.baseLanes|v,cachePool:null,transitions:V.transitions},B.memoizedState=V,B.childLanes=c.childLanes&~v,h.memoizedState=mg,E}return c=(B=c.child).sibling,E=mo(B,{mode:"visible",children:E.children}),!(1&h.mode)&&(E.lanes=v),E.return=h,E.sibling=null,c!==null&&((v=h.deletions)===null?(h.deletions=[c],h.flags|=16):v.push(c)),h.child=E,h.memoizedState=null,E}function vg(c,h){return(h=id({mode:"visible",children:h},c.mode,0,null)).return=c,c.child=h}function zf(c,h,v,w){return w!==null&&Gm(w),gl(h,c.child,null,v),(c=vg(h,h.pendingProps.children)).flags|=2,h.memoizedState=null,c}function cS(c,h,v){c.lanes|=h;var w=c.alternate;w!==null&&(w.lanes|=h),Ym(c.return,h,v)}function yg(c,h,v,w,E){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:E}:(P.isBackwards=h,P.rendering=null,P.renderingStartTime=0,P.last=w,P.tail=v,P.tailMode=E)}function hS(c,h,v){var w=h.pendingProps,E=w.revealOrder,P=w.tail;if(mn(c,h,w.children,v),(2&(w=Wt.current))!=0)w=1&w|2,h.flags|=128;else{if(c!==null&&128&c.flags)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&cS(c,v,h);else if(c.tag===19)cS(c,v,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(_t(Wt,w),(1&h.mode)==0)h.memoizedState=null;else switch(E){case"forwards":for(v=h.child,E=null;v!==null;)(c=v.alternate)!==null&&kf(c)===null&&(E=v),v=v.sibling;(v=E)===null?(E=h.child,h.child=null):(E=v.sibling,v.sibling=null),yg(h,!1,E,v,P);break;case"backwards":for(v=null,E=h.child,h.child=null;E!==null;){if((c=E.alternate)!==null&&kf(c)===null){h.child=E;break}c=E.sibling,E.sibling=v,v=E,E=c}yg(h,!0,v,null,P);break;case"together":yg(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Hf(c,h){!(1&h.mode)&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function Ps(c,h,v){if(c!==null&&(h.dependencies=c.dependencies),da|=h.lanes,(v&h.childLanes)==0)return null;if(c!==null&&h.child!==c.child)throw Error(s(153));if(h.child!==null){for(v=mo(c=h.child,c.pendingProps),h.child=v,v.return=h;c.sibling!==null;)c=c.sibling,(v=v.sibling=mo(c,c.pendingProps)).return=h;v.sibling=null}return h.child}function Zi(c){c.flags|=4}function fS(c,h){if(c!==null&&c.child===h.child)return!0;if(16&h.flags)return!1;for(c=h.child;c!==null;){if(12854&c.flags||12854&c.subtreeFlags)return!1;c=c.sibling}return!0}if(Ie)lc=function(c,h){for(var v=h.child;v!==null;){if(v.tag===5||v.tag===6)j(c,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},uc=function(){},Lf=function(c,h,v,w,E){if((c=c.memoizedProps)!==w){var P=h.stateNode,B=Ki(qn.current);v=W(P,v,c,w,E,B),(h.updateQueue=v)&&Zi(h)}},Uf=function(c,h,v,w){v!==w&&Zi(h)};else if(Xe){lc=function(c,h,v,w){for(var E=h.child;E!==null;){if(E.tag===5){var P=E.stateNode;v&&w&&(P=Gn(P,E.type,E.memoizedProps,E)),j(c,P)}else if(E.tag===6)P=E.stateNode,v&&w&&(P=Cn(P,E.memoizedProps,E)),j(c,P);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)(P=E.child)!==null&&(P.return=E),lc(c,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var dS=function(c,h,v,w){for(var E=h.child;E!==null;){if(E.tag===5){var P=E.stateNode;v&&w&&(P=Gn(P,E.type,E.memoizedProps,E)),at(c,P)}else if(E.tag===6)P=E.stateNode,v&&w&&(P=Cn(P,E.memoizedProps,E)),at(c,P);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)(P=E.child)!==null&&(P.return=E),dS(c,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};uc=function(c,h){var v=h.stateNode;if(!fS(c,h)){c=v.containerInfo;var w=Kt(c);dS(w,h,!1,!1),v.pendingChildren=w,Zi(h),xt(c,w)}},Lf=function(c,h,v,w,E){var P=c.stateNode,B=c.memoizedProps;if((c=fS(c,h))&&B===w)h.stateNode=P;else{var V=h.stateNode,q=Ki(qn.current),te=null;B!==w&&(te=W(V,v,B,w,E,q)),c&&te===null?h.stateNode=P:(P=ft(P,te,v,B,w,h,c,V),Y(P,v,w,E,q)&&Zi(h),h.stateNode=P,c?Zi(h):lc(P,h,!1,!1))}},Uf=function(c,h,v,w){v!==w?(c=Ki(vl.current),v=Ki(qn.current),h.stateNode=he(w,c,v,h),Zi(h)):h.stateNode=c.stateNode}}else uc=function(){},Lf=function(){},Uf=function(){};function cc(c,h){if(!It)switch(c.tailMode){case"hidden":h=c.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function on(c){var h=c.alternate!==null&&c.alternate.child===c.child,v=0,w=0;if(h)for(var E=c.child;E!==null;)v|=E.lanes|E.childLanes,w|=14680064&E.subtreeFlags,w|=14680064&E.flags,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)v|=E.lanes|E.childLanes,w|=E.subtreeFlags,w|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=w,c.childLanes=v,h}function ED(c,h,v){var w=h.pendingProps;switch(Hm(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(h),null;case 1:case 17:return An(h.type)&&Mm(),on(h),null;case 3:return v=h.stateNode,yl(),Rt(dn),Rt(Hr),rg(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),c!==null&&c.child!==null||(Ef(h)?Zi(h):c===null||c.memoizedState.isDehydrated&&!(256&h.flags)||(h.flags|=1024,mi!==null&&(Og(mi),mi=null))),uc(c,h),on(h),null;case 5:eg(h),v=Ki(vl.current);var E=h.type;if(c!==null&&h.stateNode!=null)Lf(c,h,E,w,v),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(s(166));return on(h),null}if(c=Ki(qn.current),Ef(h)){if(!Oe)throw Error(s(175));c=Ku(h.stateNode,h.type,h.memoizedProps,v,c,h,!ec),h.updateQueue=c,c!==null&&Zi(h)}else{var P=L(E,w,v,c,h);lc(P,h,!1,!1),h.stateNode=P,Y(P,E,w,v,c)&&Zi(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return on(h),null;case 6:if(c&&h.stateNode!=null)Uf(c,h,c.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(s(166));if(c=Ki(vl.current),v=Ki(qn.current),Ef(h)){if(!Oe)throw Error(s(176));if(c=h.stateNode,v=h.memoizedProps,(w=Zt(c,v,h,!ec))&&(E=Rn)!==null)switch(E.tag){case 3:nD(E.stateNode.containerInfo,c,v,(1&E.mode)!=0);break;case 5:iD(E.type,E.memoizedProps,E.stateNode,c,v,(1&E.mode)!=0)}w&&Zi(h)}else h.stateNode=he(w,c,v,h)}return on(h),null;case 13:if(Rt(Wt),w=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(It&&Xn!==null&&1&h.mode&&!(128&h.flags))mw(),dl(),h.flags|=98560,E=!1;else if(E=Ef(h),w!==null&&w.dehydrated!==null){if(c===null){if(!E)throw Error(s(318));if(!Oe)throw Error(s(344));if(!(E=(E=h.memoizedState)!==null?E.dehydrated:null))throw Error(s(317));aa(E,h)}else dl(),!(128&h.flags)&&(h.memoizedState=null),h.flags|=4;on(h),E=!1}else mi!==null&&(Og(mi),mi=null),E=!0;if(!E)return 65536&h.flags?h:null}return 128&h.flags?(h.lanes=v,h):((v=w!==null)!=(c!==null&&c.memoizedState!==null)&&v&&(h.child.flags|=8192,1&h.mode&&(c===null||1&Wt.current?fr===0&&(fr=3):Ng())),h.updateQueue!==null&&(h.flags|=4),on(h),null);case 4:return yl(),uc(c,h),c===null&&St(h.stateNode.containerInfo),on(h),null;case 10:return Xm(h.type._context),on(h),null;case 19:if(Rt(Wt),(E=h.memoizedState)===null)return on(h),null;if(w=(128&h.flags)!=0,(P=E.rendering)===null)if(w)cc(E,!1);else{if(fr!==0||c!==null&&128&c.flags)for(c=h.child;c!==null;){if((P=kf(c))!==null){for(h.flags|=128,cc(E,!1),(c=P.updateQueue)!==null&&(h.updateQueue=c,h.flags|=4),h.subtreeFlags=0,c=v,v=h.child;v!==null;)E=c,(w=v).flags&=14680066,(P=w.alternate)===null?(w.childLanes=0,w.lanes=E,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,E=P.dependencies,w.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),v=v.sibling;return _t(Wt,1&Wt.current|2),h.child}c=c.sibling}E.tail!==null&&xr()>Ig&&(h.flags|=128,w=!0,cc(E,!1),h.lanes=4194304)}else{if(!w)if((c=kf(P))!==null){if(h.flags|=128,w=!0,(c=c.updateQueue)!==null&&(h.updateQueue=c,h.flags|=4),cc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!It)return on(h),null}else 2*xr()-E.renderingStartTime>Ig&&v!==1073741824&&(h.flags|=128,w=!0,cc(E,!1),h.lanes=4194304);E.isBackwards?(P.sibling=h.child,h.child=P):((c=E.last)!==null?c.sibling=P:h.child=P,E.last=P)}return E.tail!==null?(h=E.tail,E.rendering=h,E.tail=h.sibling,E.renderingStartTime=xr(),h.sibling=null,c=Wt.current,_t(Wt,w?1&c|2:1&c),h):(on(h),null);case 22:case 23:return Bg(),v=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==v&&(h.flags|=8192),v&&1&h.mode?1073741824&In&&(on(h),Ie&&6&h.subtreeFlags&&(h.flags|=8192)):on(h),null;case 24:case 25:return null}throw Error(s(156,h.tag))}function TD(c,h){switch(Hm(h),h.tag){case 1:return An(h.type)&&Mm(),65536&(c=h.flags)?(h.flags=-65537&c|128,h):null;case 3:return yl(),Rt(dn),Rt(Hr),rg(),65536&(c=h.flags)&&!(128&c)?(h.flags=-65537&c|128,h):null;case 5:return eg(h),null;case 13:if(Rt(Wt),(c=h.memoizedState)!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(s(340));dl()}return 65536&(c=h.flags)?(h.flags=-65537&c|128,h):null;case 19:return Rt(Wt),null;case 4:return yl(),null;case 10:return Xm(h.type._context),null;case 22:case 23:return Bg(),null;default:return null}}var Vf=!1,jr=!1,CD=typeof WeakSet=="function"?WeakSet:Set,_e=null;function _l(c,h){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(w){Mt(c,h,w)}else v.current=null}function pS(c,h,v){try{v()}catch(w){Mt(c,h,w)}}var mS=!1;function hc(c,h,v){var w=h.updateQueue;if((w=w!==null?w.lastEffect:null)!==null){var E=w=w.next;do{if((E.tag&c)===c){var P=E.destroy;E.destroy=void 0,P!==void 0&&pS(h,v,P)}E=E.next}while(E!==w)}}function jf(c,h){if((h=(h=h.updateQueue)!==null?h.lastEffect:null)!==null){var v=h=h.next;do{if((v.tag&c)===c){var w=v.create;v.destroy=w()}v=v.next}while(v!==h)}}function xg(c){var h=c.ref;if(h!==null){var v=c.stateNode;c.tag===5?c=Q(v):c=v,typeof h=="function"?h(c):h.current=c}}function gS(c){var h=c.alternate;h!==null&&(c.alternate=null,gS(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode)!==null&&vr(h),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function vS(c){return c.tag===5||c.tag===3||c.tag===4}function yS(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||vS(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(2&c.flags||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(2&c.flags))return c.stateNode}}function _g(c,h,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?K(v,c,h):sn(v,c);else if(w!==4&&(c=c.child)!==null)for(_g(c,h,v),c=c.sibling;c!==null;)_g(c,h,v),c=c.sibling}function bg(c,h,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?zr(v,c,h):st(v,c);else if(w!==4&&(c=c.child)!==null)for(bg(c,h,v),c=c.sibling;c!==null;)bg(c,h,v),c=c.sibling}var an=null,Ji=!1;function es(c,h,v){for(v=v.child;v!==null;)wg(c,h,v),v=v.sibling}function wg(c,h,v){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(_f,v)}catch{}switch(v.tag){case 5:jr||_l(v,h);case 6:if(Ie){var w=an,E=Ji;an=null,es(c,h,v),Ji=E,(an=w)!==null&&(Ji?se(an,v.stateNode):Z(an,v.stateNode))}else es(c,h,v);break;case 18:Ie&&an!==null&&(Ji?tD(an,v.stateNode):eD(an,v.stateNode));break;case 4:Ie?(w=an,E=Ji,an=v.stateNode.containerInfo,Ji=!0,es(c,h,v),an=w,Ji=E):(Xe&&(w=v.stateNode.containerInfo,E=Kt(w),At(w,E)),es(c,h,v));break;case 0:case 11:case 14:case 15:if(!jr&&(w=v.updateQueue)!==null&&(w=w.lastEffect)!==null){E=w=w.next;do{var P=E,B=P.destroy;P=P.tag,B!==void 0&&(2&P||4&P)&&pS(v,h,B),E=E.next}while(E!==w)}es(c,h,v);break;case 1:if(!jr&&(_l(v,h),typeof(w=v.stateNode).componentWillUnmount=="function"))try{w.props=v.memoizedProps,w.state=v.memoizedState,w.componentWillUnmount()}catch(V){Mt(v,h,V)}es(c,h,v);break;case 21:es(c,h,v);break;case 22:1&v.mode?(jr=(w=jr)||v.memoizedState!==null,es(c,h,v),jr=w):es(c,h,v);break;default:es(c,h,v)}}function xS(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new CD),h.forEach(function(w){var E=DD.bind(null,c,w);v.has(w)||(v.add(w),w.then(E,E))})}}function vi(c,h){var v=h.deletions;if(v!==null)for(var w=0;w<v.length;w++){var E=v[w];try{var P=c,B=h;if(Ie){var V=B;e:for(;V!==null;){switch(V.tag){case 5:an=V.stateNode,Ji=!1;break e;case 3:case 4:an=V.stateNode.containerInfo,Ji=!0;break e}V=V.return}if(an===null)throw Error(s(160));wg(P,B,E),an=null,Ji=!1}else wg(P,B,E);var q=E.alternate;q!==null&&(q.return=null),E.return=null}catch(te){Mt(E,h,te)}}if(12854&h.subtreeFlags)for(h=h.child;h!==null;)_S(h,c),h=h.sibling}function _S(c,h){var v=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(vi(h,c),ts(c),4&w){try{hc(3,c,c.return),jf(3,c)}catch(re){Mt(c,c.return,re)}try{hc(5,c,c.return)}catch(re){Mt(c,c.return,re)}}break;case 1:vi(h,c),ts(c),512&w&&v!==null&&_l(v,v.return);break;case 5:if(vi(h,c),ts(c),512&w&&v!==null&&_l(v,v.return),Ie){if(32&c.flags){var E=c.stateNode;try{xe(E)}catch(re){Mt(c,c.return,re)}}if(4&w&&(E=c.stateNode)!=null){var P=c.memoizedProps;if(v=v!==null?v.memoizedProps:P,w=c.type,h=c.updateQueue,c.updateQueue=null,h!==null)try{Re(E,h,w,v,P,c)}catch(re){Mt(c,c.return,re)}}}break;case 6:if(vi(h,c),ts(c),4&w&&Ie){if(c.stateNode===null)throw Error(s(162));E=c.stateNode,P=c.memoizedProps,v=v!==null?v.memoizedProps:P;try{yr(E,v,P)}catch(re){Mt(c,c.return,re)}}break;case 3:if(vi(h,c),ts(c),4&w){if(Ie&&Oe&&v!==null&&v.memoizedState.isDehydrated)try{Pm(h.containerInfo)}catch(re){Mt(c,c.return,re)}if(Xe){E=h.containerInfo,P=h.pendingChildren;try{At(E,P)}catch(re){Mt(c,c.return,re)}}}break;case 4:if(vi(h,c),ts(c),4&w&&Xe){E=(P=c.stateNode).containerInfo,P=P.pendingChildren;try{At(E,P)}catch(re){Mt(c,c.return,re)}}break;case 13:vi(h,c),ts(c),8192&(E=c.child).flags&&(P=E.memoizedState!==null,E.stateNode.isHidden=P,!P||E.alternate!==null&&E.alternate.memoizedState!==null||(Rg=xr())),4&w&&xS(c);break;case 22:var B=v!==null&&v.memoizedState!==null;if(1&c.mode?(jr=(v=jr)||B,vi(h,c),jr=v):vi(h,c),ts(c),8192&w){if(v=c.memoizedState!==null,(c.stateNode.isHidden=v)&&!B&&(1&c.mode)!=0)for(_e=c,w=c.child;w!==null;){for(h=_e=w;_e!==null;){var V=(B=_e).child;switch(B.tag){case 0:case 11:case 14:case 15:hc(4,B,B.return);break;case 1:_l(B,B.return);var q=B.stateNode;if(typeof q.componentWillUnmount=="function"){var te=B,ne=B.return;try{var fe=te;q.props=fe.memoizedProps,q.state=fe.memoizedState,q.componentWillUnmount()}catch(re){Mt(te,ne,re)}}break;case 5:_l(B,B.return);break;case 22:if(B.memoizedState!==null){SS(h);continue}}V!==null?(V.return=B,_e=V):SS(h)}w=w.sibling}if(Ie){e:if(w=null,Ie)for(h=c;;){if(h.tag===5){if(w===null){w=h;try{E=h.stateNode,v?ze(E):Le(h.stateNode,h.memoizedProps)}catch(re){Mt(c,c.return,re)}}}else if(h.tag===6){if(w===null)try{P=h.stateNode,v?Fe(P):Me(P,h.memoizedProps)}catch(re){Mt(c,c.return,re)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;w===h&&(w=null),h=h.return}w===h&&(w=null),h.sibling.return=h.return,h=h.sibling}}}break;case 19:vi(h,c),ts(c),4&w&&xS(c);break;case 21:break;default:vi(h,c),ts(c)}}function ts(c){var h=c.flags;if(2&h){try{if(Ie){e:{for(var v=c.return;v!==null;){if(vS(v)){var w=v;break e}v=v.return}throw Error(s(160))}switch(w.tag){case 5:var E=w.stateNode;32&w.flags&&(xe(E),w.flags&=-33),bg(c,yS(c),E);break;case 3:case 4:var P=w.stateNode.containerInfo;_g(c,yS(c),P);break;default:throw Error(s(161))}}}catch(B){Mt(c,c.return,B)}c.flags&=-3}4096&h&&(c.flags&=-4097)}function PD(c,h,v){_e=c,bS(c)}function bS(c,h,v){for(var w=(1&c.mode)!=0;_e!==null;){var E=_e,P=E.child;if(E.tag===22&&w){var B=E.memoizedState!==null||Vf;if(!B){var V=E.alternate,q=V!==null&&V.memoizedState!==null||jr;V=Vf;var te=jr;if(Vf=B,(jr=q)&&!te)for(_e=E;_e!==null;)q=(B=_e).child,B.tag===22&&B.memoizedState!==null?ES(E):q!==null?(q.return=B,_e=q):ES(E);for(;P!==null;)_e=P,bS(P),P=P.sibling;_e=E,Vf=V,jr=te}wS(c)}else 8772&E.subtreeFlags&&P!==null?(P.return=E,_e=P):wS(c)}}function wS(c){for(;_e!==null;){var h=_e;if(8772&h.flags){var v=h.alternate;try{if(8772&h.flags)switch(h.tag){case 0:case 11:case 15:jr||jf(5,h);break;case 1:var w=h.stateNode;if(4&h.flags&&!jr)if(v===null)w.componentDidMount();else{var E=h.elementType===h.type?v.memoizedProps:gi(h.type,v.memoizedProps);w.componentDidUpdate(E,v.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var P=h.updateQueue;P!==null&&_w(h,P,w);break;case 3:var B=h.updateQueue;if(B!==null){if(v=null,h.child!==null)switch(h.child.tag){case 5:v=Q(h.child.stateNode);break;case 1:v=h.child.stateNode}_w(h,B,v)}break;case 5:var V=h.stateNode;v===null&&4&h.flags&&Ye(V,h.type,h.memoizedProps,h);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Oe&&h.memoizedState===null){var q=h.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&J3(ne)}}}break;default:throw Error(s(163))}jr||512&h.flags&&xg(h)}catch(fe){Mt(h,h.return,fe)}}if(h===c){_e=null;break}if((v=h.sibling)!==null){v.return=h.return,_e=v;break}_e=h.return}}function SS(c){for(;_e!==null;){var h=_e;if(h===c){_e=null;break}var v=h.sibling;if(v!==null){v.return=h.return,_e=v;break}_e=h.return}}function ES(c){for(;_e!==null;){var h=_e;try{switch(h.tag){case 0:case 11:case 15:var v=h.return;try{jf(4,h)}catch(q){Mt(h,v,q)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var E=h.return;try{w.componentDidMount()}catch(q){Mt(h,E,q)}}var P=h.return;try{xg(h)}catch(q){Mt(h,P,q)}break;case 5:var B=h.return;try{xg(h)}catch(q){Mt(h,B,q)}}}catch(q){Mt(h,h.return,q)}if(h===c){_e=null;break}var V=h.sibling;if(V!==null){V.return=h.return,_e=V;break}_e=h.return}}var Gf=0,Wf=1,$f=2,Xf=3,Yf=4;if(typeof Symbol=="function"&&Symbol.for){var fc=Symbol.for;Gf=fc("selector.component"),Wf=fc("selector.has_pseudo_class"),$f=fc("selector.role"),Xf=fc("selector.test_id"),Yf=fc("selector.text")}function Sg(c){var h=it(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(s(364));return h}if((c=hr(c))===null)throw Error(s(362));return c.stateNode.current}function Eg(c,h){switch(h.$$typeof){case Gf:if(c.type===h.value)return!0;break;case Wf:e:{h=h.value,c=[c,0];for(var v=0;v<c.length;){var w=c[v++],E=c[v++],P=h[E];if(w.tag!==5||!Ir(w)){for(;P!=null&&Eg(w,P);)P=h[++E];if(E===h.length){h=!0;break e}for(w=w.child;w!==null;)c.push(w,E),w=w.sibling}}h=!1}return h;case $f:if(c.tag===5&&Ge(c.stateNode,h.value))return!0;break;case Yf:if((c.tag===5||c.tag===6)&&(c=sr(c))!==null&&0<=c.indexOf(h.value))return!0;break;case Xf:if(c.tag===5&&typeof(c=c.memoizedProps["data-testname"])=="string"&&c.toLowerCase()===h.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Tg(c){switch(c.$$typeof){case Gf:return"<"+(M(c.value)||"Unknown")+">";case Wf:return":has("+(Tg(c)||"")+")";case $f:return'[role="'+c.value+'"]';case Yf:return'"'+c.value+'"';case Xf:return'[data-testname="'+c.value+'"]';default:throw Error(s(365))}}function TS(c,h){var v=[];c=[c,0];for(var w=0;w<c.length;){var E=c[w++],P=c[w++],B=h[P];if(E.tag!==5||!Ir(E)){for(;B!=null&&Eg(E,B);)B=h[++P];if(P===h.length)v.push(E);else for(E=E.child;E!==null;)c.push(E,P),E=E.sibling}}return v}function Cg(c,h){if(!Nt)throw Error(s(363));c=TS(c=Sg(c),h),h=[],c=Array.from(c);for(var v=0;v<c.length;){var w=c[v++];if(w.tag===5)Ir(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)c.push(w),w=w.sibling}return h}var AD=Math.ceil,qf=o.ReactCurrentDispatcher,Pg=o.ReactCurrentOwner,Jt=o.ReactCurrentBatchConfig,nt=0,wr=null,or=null,Mr=0,In=0,bl=so(0),fr=0,dc=null,da=0,Kf=0,Ag=0,pc=null,Mn=null,Rg=0,Ig=1/0,uo=null;function wl(){Ig=xr()+500}var CS,Qf=!1,Mg=null,co=null,Zf=!1,ho=null,Jf=0,mc=0,kg=null,ed=-1,td=0;function Gr(){return 6&nt?xr():ed!==-1?ed:ed=xr()}function fo(c){return 1&c.mode?2&nt&&Mr!==0?Mr&-Mr:dD.transition!==null?(td===0&&(td=ow()),td):(c=ct)!==0?c:ir():1}function Qn(c,h,v,w){if(50<mc)throw mc=0,kg=null,Error(s(185));Ju(c,v,w),2&nt&&c===wr||(c===wr&&(!(2&nt)&&(Kf|=v),fr===4&&po(c,Mr)),gn(c,w),v===1&&nt===0&&!(1&h.mode)&&(wl(),bf&&Xi()))}function gn(c,h){var v=c.callbackNode;(function(E,P){for(var B=E.suspendedLanes,V=E.pingedLanes,q=E.expirationTimes,te=E.pendingLanes;0<te;){var ne=31-di(te),fe=1<<ne,re=q[ne];re===-1?fe&B&&!(fe&V)||(q[ne]=lD(fe,P)):re<=P&&(E.expiredLanes|=fe),te&=~fe}})(c,h);var w=xf(c,c===wr?Mr:0);if(w===0)v!==null&&lw(v),c.callbackNode=null,c.callbackPriority=0;else if(h=w&-w,c.callbackPriority!==h){if(v!=null&&lw(v),h===1)c.tag===0?function(E){bf=!0,cw(E)}(AS.bind(null,c)):cw(AS.bind(null,c)),qt?hi(function(){!(6&nt)&&Xi()}):Fm(Lm,Xi),v=null;else{switch(aw(w)){case 1:v=Lm;break;case 4:v=hD;break;case 16:default:v=uw;break;case 536870912:v=fD}v=NS(v,PS.bind(null,c))}c.callbackPriority=h,c.callbackNode=v}}function PS(c,h){if(ed=-1,td=0,(6&nt)!=0)throw Error(s(327));var v=c.callbackNode;if(ma()&&c.callbackNode!==v)return null;var w=xf(c,c===wr?Mr:0);if(w===0)return null;if(30&w||w&c.expiredLanes||h)h=rd(c,w);else{h=w;var E=nt;nt|=2;var P=MS();for(wr===c&&Mr===h||(uo=null,wl(),pa(c,h));;)try{ID();break}catch(V){IS(c,V)}$m(),qf.current=P,nt=E,or!==null?h=0:(wr=null,Mr=0,h=fr)}if(h!==0){if(h===2&&(E=Om(c))!==0&&(w=E,h=Dg(c,E)),h===1)throw v=dc,pa(c,0),po(c,w),gn(c,xr()),v;if(h===6)po(c,w);else{if(E=c.current.alternate,(30&w)==0&&!function(V){for(var q=V;;){if(16384&q.flags){var te=q.updateQueue;if(te!==null&&(te=te.stores)!==null)for(var ne=0;ne<te.length;ne++){var fe=te[ne],re=fe.getSnapshot;fe=fe.value;try{if(!pi(re(),fe))return!1}catch{return!1}}}if(te=q.child,16384&q.subtreeFlags&&te!==null)te.return=q,q=te;else{if(q===V)break;for(;q.sibling===null;){if(q.return===null||q.return===V)return!0;q=q.return}q.sibling.return=q.return,q=q.sibling}}return!0}(E)&&((h=rd(c,w))===2&&(P=Om(c))!==0&&(w=P,h=Dg(c,P)),h===1))throw v=dc,pa(c,0),po(c,w),gn(c,xr()),v;switch(c.finishedWork=E,c.finishedLanes=w,h){case 0:case 1:throw Error(s(345));case 2:case 5:Sl(c,Mn,uo);break;case 3:if(po(c,w),(130023424&w)===w&&10<(h=Rg+500-xr())){if(xf(c,0)!==0)break;if(((E=c.suspendedLanes)&w)!==w){Gr(),c.pingedLanes|=c.suspendedLanes&E;break}c.timeoutHandle=Pe(Sl.bind(null,c,Mn,uo),h);break}Sl(c,Mn,uo);break;case 4:if(po(c,w),(4194240&w)===w)break;for(h=c.eventTimes,E=-1;0<w;){var B=31-di(w);P=1<<B,(B=h[B])>E&&(E=B),w&=~P}if(w=E,10<(w=(120>(w=xr()-w)?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*AD(w/1960))-w)){c.timeoutHandle=Pe(Sl.bind(null,c,Mn,uo),w);break}Sl(c,Mn,uo);break;default:throw Error(s(329))}}}return gn(c,xr()),c.callbackNode===v?PS.bind(null,c):null}function Dg(c,h){var v=pc;return c.current.memoizedState.isDehydrated&&(pa(c,h).flags|=256),(c=rd(c,h))!==2&&(h=Mn,Mn=v,h!==null&&Og(h)),c}function Og(c){Mn===null?Mn=c:Mn.push.apply(Mn,c)}function po(c,h){for(h&=~Ag,h&=~Kf,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var v=31-di(h),w=1<<v;c[v]=-1,h&=~w}}function AS(c){if(6&nt)throw Error(s(327));ma();var h=xf(c,0);if(!(1&h))return gn(c,xr()),null;var v=rd(c,h);if(c.tag!==0&&v===2){var w=Om(c);w!==0&&(h=w,v=Dg(c,w))}if(v===1)throw v=dc,pa(c,0),po(c,h),gn(c,xr()),v;if(v===6)throw Error(s(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,Sl(c,Mn,uo),gn(c,xr()),null}function RS(c){ho!==null&&ho.tag===0&&!(6&nt)&&ma();var h=nt;nt|=1;var v=Jt.transition,w=ct;try{if(Jt.transition=null,ct=1,c)return c()}finally{ct=w,Jt.transition=v,!(6&(nt=h))&&Xi()}}function Bg(){In=bl.current,Rt(bl)}function pa(c,h){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==ut&&(c.timeoutHandle=ut,ge(v)),or!==null)for(v=or.return;v!==null;){var w=v;switch(Hm(w),w.tag){case 1:(w=w.type.childContextTypes)!=null&&Mm();break;case 3:yl(),Rt(dn),Rt(Hr),rg();break;case 5:eg(w);break;case 4:yl();break;case 13:case 19:Rt(Wt);break;case 10:Xm(w.type._context);break;case 22:case 23:Bg()}v=v.return}if(wr=c,or=c=mo(c.current,null),Mr=In=h,fr=0,dc=null,Ag=Kf=da=0,Mn=pc=null,ha!==null){for(h=0;h<ha.length;h++)if((w=(v=ha[h]).interleaved)!==null){v.interleaved=null;var E=w.next,P=v.pending;if(P!==null){var B=P.next;P.next=E,w.next=B}v.pending=w}ha=null}return c}function IS(c,h){for(;;){var v=or;try{if($m(),Df.current=Ff,Of){for(var w=Ft.memoizedState;w!==null;){var E=w.queue;E!==null&&(E.pending=null),w=w.next}Of=!1}if(fa=0,br=_r=Ft=null,ic=!1,sc=0,Pg.current=null,v===null||v.return===null){fr=1,dc=h,or=null;break}e:{var P=c,B=v.return,V=v,q=h;if(h=Mr,V.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var te=q,ne=V,fe=ne.tag;if(!(1&ne.mode)&&(fe===0||fe===11||fe===15)){var re=ne.alternate;re?(ne.updateQueue=re.updateQueue,ne.memoizedState=re.memoizedState,ne.lanes=re.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Jw(B);if(ue!==null){ue.flags&=-257,eS(ue,B,V,0,h),1&ue.mode&&Zw(P,te,h),q=te;var Ee=(h=ue).updateQueue;if(Ee===null){var Ke=new Set;Ke.add(q),h.updateQueue=Ke}else Ee.add(q);break e}if(!(1&h)){Zw(P,te,h),Ng();break e}q=Error(s(426))}else if(It&&1&V.mode){var ie=Jw(B);if(ie!==null){!(65536&ie.flags)&&(ie.flags|=256),eS(ie,B,V,0,h),Gm(xl(q,V));break e}}P=q=xl(q,V),fr!==4&&(fr=2),pc===null?pc=[P]:pc.push(P),P=B;do{switch(P.tag){case 3:P.flags|=65536,h&=-h,P.lanes|=h,xw(P,Kw(0,q,h));break e;case 1:V=q;var X=P.type,ee=P.stateNode;if(!(128&P.flags)&&(typeof X.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(co===null||!co.has(ee)))){P.flags|=65536,h&=-h,P.lanes|=h,xw(P,Qw(P,V,h));break e}}P=P.return}while(P!==null)}DS(v)}catch(oe){h=oe,or===v&&v!==null&&(or=v=v.return);continue}break}}function MS(){var c=qf.current;return qf.current=Ff,c===null?Ff:c}function Ng(){fr!==0&&fr!==3&&fr!==2||(fr=4),wr===null||!(268435455&da)&&!(268435455&Kf)||po(wr,Mr)}function rd(c,h){var v=nt;nt|=2;var w=MS();for(wr===c&&Mr===h||(uo=null,pa(c,h));;)try{RD();break}catch(E){IS(c,E)}if($m(),nt=v,qf.current=w,or!==null)throw Error(s(261));return wr=null,Mr=0,fr}function RD(){for(;or!==null;)kS(or)}function ID(){for(;or!==null&&!uD();)kS(or)}function kS(c){var h=CS(c.alternate,c,In);c.memoizedProps=c.pendingProps,h===null?DS(c):or=h,Pg.current=null}function DS(c){var h=c;do{var v=h.alternate;if(c=h.return,(32768&h.flags)==0){if((v=ED(v,h,In))!==null)return void(or=v)}else{if((v=TD(v,h))!==null)return v.flags&=32767,void(or=v);if(c===null)return fr=6,void(or=null);c.flags|=32768,c.subtreeFlags=0,c.deletions=null}if((h=h.sibling)!==null)return void(or=h);or=h=c}while(h!==null);fr===0&&(fr=5)}function Sl(c,h,v){var w=ct,E=Jt.transition;try{Jt.transition=null,ct=1,function(P,B,V,q){do ma();while(ho!==null);if(6&nt)throw Error(s(327));V=P.finishedWork;var te=P.finishedLanes;if(V===null)return null;if(P.finishedWork=null,P.finishedLanes=0,V===P.current)throw Error(s(177));P.callbackNode=null,P.callbackPriority=0;var ne=V.lanes|V.childLanes;if(function(ue,Ee){var Ke=ue.pendingLanes&~Ee;ue.pendingLanes=Ee,ue.suspendedLanes=0,ue.pingedLanes=0,ue.expiredLanes&=Ee,ue.mutableReadLanes&=Ee,ue.entangledLanes&=Ee,Ee=ue.entanglements;var ie=ue.eventTimes;for(ue=ue.expirationTimes;0<Ke;){var X=31-di(Ke),ee=1<<X;Ee[X]=0,ie[X]=-1,ue[X]=-1,Ke&=~ee}}(P,ne),P===wr&&(or=wr=null,Mr=0),!(2064&V.subtreeFlags)&&!(2064&V.flags)||Zf||(Zf=!0,NS(uw,function(){return ma(),null})),ne=(15990&V.flags)!=0,(15990&V.subtreeFlags)!=0||ne){ne=Jt.transition,Jt.transition=null;var fe=ct;ct=1;var re=nt;nt|=4,Pg.current=null,function(ue,Ee){for($(ue.containerInfo),_e=Ee;_e!==null;)if(Ee=(ue=_e).child,(1028&ue.subtreeFlags)!=0&&Ee!==null)Ee.return=ue,_e=Ee;else for(;_e!==null;){ue=_e;try{var Ke=ue.alternate;if(1024&ue.flags)switch(ue.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Ke!==null){var ie=Ke.memoizedProps,X=Ke.memoizedState,ee=ue.stateNode,oe=ee.getSnapshotBeforeUpdate(ue.elementType===ue.type?ie:gi(ue.type,ie),X);ee.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:Ie&&Se(ue.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(ke){Mt(ue,ue.return,ke)}if((Ee=ue.sibling)!==null){Ee.return=ue.return,_e=Ee;break}_e=ue.return}Ke=mS,mS=!1}(P,V),_S(V,P),H(P.containerInfo),P.current=V,PD(V),cD(),nt=re,ct=fe,Jt.transition=ne}else P.current=V;if(Zf&&(Zf=!1,ho=P,Jf=te),ne=P.pendingLanes,ne===0&&(co=null),function(ue){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(_f,ue,void 0,(128&ue.current.flags)==128)}catch{}}(V.stateNode),gn(P,xr()),B!==null)for(q=P.onRecoverableError,V=0;V<B.length;V++)te=B[V],q(te.value,{componentStack:te.stack,digest:te.digest});if(Qf)throw Qf=!1,P=Mg,Mg=null,P;1&Jf&&P.tag!==0&&ma(),ne=P.pendingLanes,1&ne?P===kg?mc++:(mc=0,kg=P):mc=0,Xi()}(c,h,v,w)}finally{Jt.transition=E,ct=w}return null}function ma(){if(ho!==null){var c=aw(Jf),h=Jt.transition,v=ct;try{if(Jt.transition=null,ct=16>c?16:c,ho===null)var w=!1;else{if(c=ho,ho=null,Jf=0,(6&nt)!=0)throw Error(s(331));var E=nt;for(nt|=4,_e=c.current;_e!==null;){var P=_e,B=P.child;if(16&_e.flags){var V=P.deletions;if(V!==null){for(var q=0;q<V.length;q++){var te=V[q];for(_e=te;_e!==null;){var ne=_e;switch(ne.tag){case 0:case 11:case 15:hc(8,ne,P)}var fe=ne.child;if(fe!==null)fe.return=ne,_e=fe;else for(;_e!==null;){var re=(ne=_e).sibling,ue=ne.return;if(gS(ne),ne===te){_e=null;break}if(re!==null){re.return=ue,_e=re;break}_e=ue}}}var Ee=P.alternate;if(Ee!==null){var Ke=Ee.child;if(Ke!==null){Ee.child=null;do{var ie=Ke.sibling;Ke.sibling=null,Ke=ie}while(Ke!==null)}}_e=P}}if(2064&P.subtreeFlags&&B!==null)B.return=P,_e=B;else e:for(;_e!==null;){if(2048&(P=_e).flags)switch(P.tag){case 0:case 11:case 15:hc(9,P,P.return)}var X=P.sibling;if(X!==null){X.return=P.return,_e=X;break e}_e=P.return}}var ee=c.current;for(_e=ee;_e!==null;){var oe=(B=_e).child;if(2064&B.subtreeFlags&&oe!==null)oe.return=B,_e=oe;else e:for(B=ee;_e!==null;){if(2048&(V=_e).flags)try{switch(V.tag){case 0:case 11:case 15:jf(9,V)}}catch(pt){Mt(V,V.return,pt)}if(V===B){_e=null;break e}var ke=V.sibling;if(ke!==null){ke.return=V.return,_e=ke;break e}_e=V.return}}if(nt=E,Xi(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(_f,c)}catch{}w=!0}return w}finally{ct=v,Jt.transition=h}}return!1}function OS(c,h,v){c=lo(c,h=Kw(0,h=xl(v,h),1),1),h=Gr(),c!==null&&(Ju(c,1,h),gn(c,h))}function Mt(c,h,v){if(c.tag===3)OS(c,c,v);else for(;h!==null;){if(h.tag===3){OS(h,c,v);break}if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(co===null||!co.has(w))){h=lo(h,c=Qw(h,c=xl(v,c),1),1),c=Gr(),h!==null&&(Ju(h,1,c),gn(h,c));break}}h=h.return}}function MD(c,h,v){var w=c.pingCache;w!==null&&w.delete(h),h=Gr(),c.pingedLanes|=c.suspendedLanes&v,wr===c&&(Mr&v)===v&&(fr===4||fr===3&&(130023424&Mr)===Mr&&500>xr()-Rg?pa(c,0):Ag|=v),gn(c,h)}function BS(c,h){h===0&&(1&c.mode?(h=Dm,!(130023424&(Dm<<=1))&&(Dm=4194304)):h=1);var v=Gr();(c=qi(c,h))!==null&&(Ju(c,h,v),gn(c,v))}function kD(c){var h=c.memoizedState,v=0;h!==null&&(v=h.retryLane),BS(c,v)}function DD(c,h){var v=0;switch(c.tag){case 13:var w=c.stateNode,E=c.memoizedState;E!==null&&(v=E.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(s(314))}w!==null&&w.delete(h),BS(c,v)}function NS(c,h){return Fm(c,h)}function OD(c,h,v,w){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(c,h,v,w){return new OD(c,h,v,w)}function Fg(c){return!(!(c=c.prototype)||!c.isReactComponent)}function mo(c,h){var v=c.alternate;return v===null?((v=Zn(c.tag,h,c.key,c.mode)).elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=h,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=14680064&c.flags,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,h=c.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function nd(c,h,v,w,E,P){var B=2;if(w=c,typeof c=="function")Fg(c)&&(B=1);else if(typeof c=="string")B=5;else e:switch(c){case u:return ga(v.children,E,P,h);case f:B=8,E|=8;break;case p:return(c=Zn(12,v,h,2|E)).elementType=p,c.lanes=P,c;case _:return(c=Zn(13,v,h,E)).elementType=_,c.lanes=P,c;case S:return(c=Zn(19,v,h,E)).elementType=S,c.lanes=P,c;case y:return id(v,E,P,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case d:B=10;break e;case g:B=9;break e;case m:B=11;break e;case T:B=14;break e;case b:B=16,w=null;break e}throw Error(s(130,c==null?c:typeof c,""))}return(h=Zn(B,v,h,E)).elementType=c,h.type=w,h.lanes=P,h}function ga(c,h,v,w){return(c=Zn(7,c,w,h)).lanes=v,c}function id(c,h,v,w){return(c=Zn(22,c,w,h)).elementType=y,c.lanes=v,c.stateNode={isHidden:!1},c}function Lg(c,h,v){return(c=Zn(6,c,null,h)).lanes=v,c}function Ug(c,h,v){return(h=Zn(4,c.children!==null?c.children:[],c.key,h)).lanes=v,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function BD(c,h,v,w,E){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ut,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bm(0),this.expirationTimes=Bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.identifierPrefix=w,this.onRecoverableError=E,Oe&&(this.mutableSourceEagerHydrationData=null)}function FS(c,h,v,w,E,P,B,V,q){return c=new BD(c,h,v,V,q),h===1?(h=1,P===!0&&(h|=8)):h=0,P=Zn(3,null,null,h),c.current=P,P.stateNode=c,P.memoizedState={element:w,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(P),c}function LS(c){if(!c)return oo;e:{if(A(c=c._reactInternals)!==c||c.tag!==1)throw Error(s(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(An(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(s(171))}if(c.tag===1){var v=c.type;if(An(v))return iw(c,v,h)}return h}function US(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return(c=k(h))===null?null:c.stateNode}function zS(c,h){if((c=c.memoizedState)!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<h?v:h}}function sd(c,h){zS(c,h),(c=c.alternate)&&zS(c,h)}function ND(c){return(c=k(c))===null?null:c.stateNode}function FD(){return null}return CS=function(c,h,v){if(c!==null)if(c.memoizedProps!==h.pendingProps||dn.current)pn=!0;else{if(!(c.lanes&v)&&!(128&h.flags))return pn=!1,function(fe,re,ue){switch(re.tag){case 3:aS(re),dl();break;case 5:Aw(re);break;case 1:An(re.type)&&yf(re);break;case 4:Jm(re,re.stateNode.containerInfo);break;case 10:gw(0,re.type._context,re.memoizedProps.value);break;case 13:var Ee=re.memoizedState;if(Ee!==null)return Ee.dehydrated!==null?(_t(Wt,1&Wt.current),re.flags|=128,null):ue&re.child.childLanes?uS(fe,re,ue):(_t(Wt,1&Wt.current),(fe=Ps(fe,re,ue))!==null?fe.sibling:null);_t(Wt,1&Wt.current);break;case 19:if(Ee=(ue&re.childLanes)!=0,(128&fe.flags)!=0){if(Ee)return hS(fe,re,ue);re.flags|=128}var Ke=re.memoizedState;if(Ke!==null&&(Ke.rendering=null,Ke.tail=null,Ke.lastEffect=null),_t(Wt,Wt.current),Ee)break;return null;case 22:case 23:return re.lanes=0,iS(fe,re,ue)}return Ps(fe,re,ue)}(c,h,v);pn=(131072&c.flags)!=0}else pn=!1,It&&1048576&h.flags&&hw(h,Sf,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;Hf(c,h),c=h.pendingProps;var E=cl(h,Hr.current);ml(h,v),E=sg(null,h,w,c,E,v);var P=og();return h.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,An(w)?(P=!0,yf(h)):P=!1,h.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Km(h),E.updater=If,h.stateNode=E,E._reactInternals=h,Zm(h,w,c,v),h=pg(null,h,w,!0,P,v)):(h.tag=0,It&&P&&zm(h),mn(null,h,E,v),h=h.child),h;case 16:w=h.elementType;e:{switch(Hf(c,h),c=h.pendingProps,w=(E=w._init)(w._payload),h.type=w,E=h.tag=function(fe){if(typeof fe=="function")return Fg(fe)?1:0;if(fe!=null){if((fe=fe.$$typeof)===m)return 11;if(fe===T)return 14}return 2}(w),c=gi(w,c),E){case 0:h=dg(null,h,w,c,v);break e;case 1:h=oS(null,h,w,c,v);break e;case 11:h=tS(null,h,w,c,v);break e;case 14:h=rS(null,h,w,gi(w.type,c),v);break e}throw Error(s(306,w,""))}return h;case 0:return w=h.type,E=h.pendingProps,dg(c,h,w,E=h.elementType===w?E:gi(w,E),v);case 1:return w=h.type,E=h.pendingProps,oS(c,h,w,E=h.elementType===w?E:gi(w,E),v);case 3:e:{if(aS(h),c===null)throw Error(s(387));w=h.pendingProps,E=(P=h.memoizedState).element,yw(c,h),Rf(h,w,null,v);var B=h.memoizedState;if(w=B.element,Oe&&P.isDehydrated){if(P={element:w,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},h.updateQueue.baseState=P,h.memoizedState=P,256&h.flags){h=lS(c,h,w,v,E=xl(Error(s(423)),h));break e}if(w!==E){h=lS(c,h,w,v,E=xl(Error(s(424)),h));break e}for(Oe&&(Xn=Pn(h.stateNode.containerInfo),Rn=h,It=!0,mi=null,ec=!1),v=Pw(h,null,w,v),h.child=v;v;)v.flags=-3&v.flags|4096,v=v.sibling}else{if(dl(),w===E){h=Ps(c,h,v);break e}mn(c,h,w,v)}h=h.child}return h;case 5:return Aw(h),c===null&&jm(h),w=h.type,E=h.pendingProps,P=c!==null?c.memoizedProps:null,B=E.children,de(w,E)?B=null:P!==null&&de(w,P)&&(h.flags|=32),sS(c,h),mn(c,h,B,v),h.child;case 6:return c===null&&jm(h),null;case 13:return uS(c,h,v);case 4:return Jm(h,h.stateNode.containerInfo),w=h.pendingProps,c===null?h.child=gl(h,null,w,v):mn(c,h,w,v),h.child;case 11:return w=h.type,E=h.pendingProps,tS(c,h,w,E=h.elementType===w?E:gi(w,E),v);case 7:return mn(c,h,h.pendingProps,v),h.child;case 8:case 12:return mn(c,h,h.pendingProps.children,v),h.child;case 10:e:{if(w=h.type._context,E=h.pendingProps,P=h.memoizedProps,gw(0,w,B=E.value),P!==null)if(pi(P.value,B)){if(P.children===E.children&&!dn.current){h=Ps(c,h,v);break e}}else for((P=h.child)!==null&&(P.return=h);P!==null;){var V=P.dependencies;if(V!==null){B=P.child;for(var q=V.firstContext;q!==null;){if(q.context===w){if(P.tag===1){(q=Cs(-1,v&-v)).tag=2;var te=P.updateQueue;if(te!==null){var ne=(te=te.shared).pending;ne===null?q.next=q:(q.next=ne.next,ne.next=q),te.pending=q}}P.lanes|=v,(q=P.alternate)!==null&&(q.lanes|=v),Ym(P.return,v,h),V.lanes|=v;break}q=q.next}}else if(P.tag===10)B=P.type===h.type?null:P.child;else if(P.tag===18){if((B=P.return)===null)throw Error(s(341));B.lanes|=v,(V=B.alternate)!==null&&(V.lanes|=v),Ym(B,v,h),B=P.sibling}else B=P.child;if(B!==null)B.return=P;else for(B=P;B!==null;){if(B===h){B=null;break}if((P=B.sibling)!==null){P.return=B.return,B=P;break}B=B.return}P=B}mn(c,h,E.children,v),h=h.child}return h;case 9:return E=h.type,w=h.pendingProps.children,ml(h,v),w=w(E=Yn(E)),h.flags|=1,mn(c,h,w,v),h.child;case 14:return E=gi(w=h.type,h.pendingProps),rS(c,h,w,E=gi(w.type,E),v);case 15:return nS(c,h,h.type,h.pendingProps,v);case 17:return w=h.type,E=h.pendingProps,E=h.elementType===w?E:gi(w,E),Hf(c,h),h.tag=1,An(w)?(c=!0,yf(h)):c=!1,ml(h,v),Sw(h,w,E),Zm(h,w,E,v),pg(null,h,w,!0,c,v);case 19:return hS(c,h,v);case 22:return iS(c,h,v)}throw Error(s(156,h.tag))},e.attemptContinuousHydration=function(c){if(c.tag===13){var h=qi(c,134217728);h!==null&&Qn(h,c,134217728,Gr()),sd(c,134217728)}},e.attemptDiscreteHydration=function(c){if(c.tag===13){var h=qi(c,1);h!==null&&Qn(h,c,1,Gr()),sd(c,1)}},e.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=fo(c),v=qi(c,h);v!==null&&Qn(v,c,h,Gr()),sd(c,h)}},e.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var v=Zu(h.pendingLanes);v!==0&&(Nm(h,1|v),gn(h,xr()),!(6&nt)&&(wl(),Xi()))}break;case 13:RS(function(){var w=qi(c,1);if(w!==null){var E=Gr();Qn(w,c,1,E)}}),sd(c,1)}},e.batchedUpdates=function(c,h){var v=nt;nt|=1;try{return c(h)}finally{(nt=v)===0&&(wl(),bf&&Xi())}},e.createComponentSelector=function(c){return{$$typeof:Gf,value:c}},e.createContainer=function(c,h,v,w,E,P,B){return FS(c,h,!1,null,0,w,0,P,B)},e.createHasPseudoClassSelector=function(c){return{$$typeof:Wf,value:c}},e.createHydrationContainer=function(c,h,v,w,E,P,B,V,q){return(c=FS(v,w,!0,c,0,P,0,V,q)).context=LS(null),v=c.current,(P=Cs(w=Gr(),E=fo(v))).callback=h??null,lo(v,P,E),c.current.lanes=E,Ju(c,E,w),gn(c,w),c},e.createPortal=function(c,h,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:c,containerInfo:h,implementation:v}},e.createRoleSelector=function(c){return{$$typeof:$f,value:c}},e.createTestNameSelector=function(c){return{$$typeof:Xf,value:c}},e.createTextSelector=function(c){return{$$typeof:Yf,value:c}},e.deferredUpdates=function(c){var h=ct,v=Jt.transition;try{return Jt.transition=null,ct=16,c()}finally{ct=h,Jt.transition=v}},e.discreteUpdates=function(c,h,v,w,E){var P=ct,B=Jt.transition;try{return Jt.transition=null,ct=1,c(h,v,w,E)}finally{ct=P,Jt.transition=B,nt===0&&wl()}},e.findAllNodes=Cg,e.findBoundingRects=function(c,h){if(!Nt)throw Error(s(363));h=Cg(c,h),c=[];for(var v=0;v<h.length;v++)c.push(gt(h[v]));for(h=c.length-1;0<h;h--)for(var w=(v=c[h]).x,E=w+v.width,P=v.y,B=P+v.height,V=h-1;0<=V;V--)if(h!==V){var q=c[V],te=q.x,ne=te+q.width,fe=q.y,re=fe+q.height;if(w>=te&&P>=fe&&E<=ne&&B<=re){c.splice(h,1);break}if(!(w!==te||v.width!==q.width||re<P||fe>B)){fe>P&&(q.height+=fe-P,q.y=P),re<B&&(q.height=B-fe),c.splice(h,1);break}if(!(P!==fe||v.height!==q.height||ne<w||te>E)){te>w&&(q.width+=te-w,q.x=w),ne<E&&(q.width=E-te),c.splice(h,1);break}}return c},e.findHostInstance=US,e.findHostInstanceWithNoPortals=function(c){return(c=(c=R(c))!==null?U(c):null)===null?null:c.stateNode},e.findHostInstanceWithWarning=function(c){return US(c)},e.flushControlled=function(c){var h=nt;nt|=1;var v=Jt.transition,w=ct;try{Jt.transition=null,ct=1,c()}finally{ct=w,Jt.transition=v,(nt=h)===0&&(wl(),Xi())}},e.flushPassiveEffects=ma,e.flushSync=RS,e.focusWithin=function(c,h){if(!Nt)throw Error(s(363));for(h=TS(c=Sg(c),h),h=Array.from(h),c=0;c<h.length;){var v=h[c++];if(!Ir(v)){if(v.tag===5&&We(v.stateNode))return!0;for(v=v.child;v!==null;)h.push(v),v=v.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ct},e.getFindAllNodesFailureDescription=function(c,h){if(!Nt)throw Error(s(363));var v=0,w=[];c=[Sg(c),0];for(var E=0;E<c.length;){var P=c[E++],B=c[E++],V=h[B];if((P.tag!==5||!Ir(P))&&(Eg(P,V)&&(w.push(Tg(V)),++B>v&&(v=B)),B<h.length))for(P=P.child;P!==null;)c.push(P,B),P=P.sibling}if(v<h.length){for(c=[];v<h.length;v++)c.push(Tg(h[v]));return`findAllNodes was able to match part of the selector:
  `+w.join(" > ")+`

No matching component was found for:
  `+c.join(" > ")}return null},e.getPublicRootInstance=function(c){return(c=c.current).child?c.child.tag===5?Q(c.child.stateNode):c.child.stateNode:null},e.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:ND,findFiberByHostInstance:c.findFiberByHostInstance||FD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{_f=h.inject(c),$i=h}catch{}c=!!h.checkDCE}}return c},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(c,h,v,w){if(!Nt)throw Error(s(363));c=Cg(c,h);var E=De(c,v,w).disconnect;return{disconnect:function(){E()}}},e.registerMutableSourceForHydration=function(c,h){var v=h._getVersion;v=v(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,v]:c.mutableSourceEagerHydrationData.push(h,v)},e.runWithPriority=function(c,h){var v=ct;try{return ct=c,h()}finally{ct=v}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(c,h,v,w){var E=h.current,P=Gr(),B=fo(E);return v=LS(v),h.context===null?h.context=v:h.pendingContext=v,(h=Cs(P,B)).payload={element:c},(w=w===void 0?null:w)!==null&&(h.callback=w),(c=lo(E,h,B))!==null&&(Qn(c,E,B,P),Af(c,E,B)),B},e}),UC}({get exports(){return A1},set exports(t){A1=t}}).exports=Fz();var Lz=cz(A1),ok={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},I1={},$d={get exports(){return I1},set exports(t){I1=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?$d.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?($d.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?($d.exports=function(){return Date.now()-r},r=Date.now()):($d.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(uz);var VC,Jl={},xa={};({get exports(){return Jl},set exports(t){Jl=t}}).exports=(VC||(VC=1,xa.ConcurrentRoot=1,xa.ContinuousEventPriority=4,xa.DefaultEventPriority=16,xa.DiscreteEventPriority=1,xa.IdleEventPriority=536870912,xa.LegacyRoot=0),xa);var Uz={};function Zv(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function ak(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Zs(t.children).forEach(function(s){ak(s,t)})}function jC(t,e){var r;ak(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,l=n.destroyTexture,u=l!==void 0&&l,f=n.destroyBaseTexture,p=f!==void 0&&f;s&&e.destroy({children:a,texture:u,baseTexture:p})}function GC(t,e,r){Yt(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var WC=null,Oi=Lz({getRootHostContext:function(){return Uz},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Jl.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Jl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Jl.ContinuousEventPriority;default:return Jl.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=Dz[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=sk[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:xs)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return WC=function(o,a,l,u){var f=null;for(var p in l)!u.hasOwnProperty(p)&&l.hasOwnProperty(p)&&l[p]!==null&&(p===C1||(f||(f=[]),f.push(p,null)));for(var d in u){var g=u[d],m=l!==null?l[d]:void 0;!u.hasOwnProperty(d)||g===m||g===null&&m===null||d===C1||(f||(f=[]),f.push(d,g))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){Yt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:I1,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Zv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Zv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Zv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=jC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=jC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:GC,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=GC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=xs),(a(t,n,i)||WC)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),zz=ok.dependencies["react-dom"].replace(/[^0-9.]/g,""),Hz=ok.name;Oi.injectIntoDevTools({bundleType:0,version:zz,rendererPackageName:Hz,findHostInstanceByFiber:Oi.findHostInstance});var zo=new Map;function lk(t){if(Yt(rn.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),zo.has(t)){var e=zo.get(t).pixiFiberContainer;Oi.updateContainer(null,e,void 0,function(){zo.delete(t)})}}function uk(t){Yt(rn.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=zo.get(t);if(Yt(!e,"Pixi React: createRoot should only be called once"),!e){var r=Oi.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Oi.updateContainer(n,r,void 0),Oi.getPublicRootInstance(r)},unmount:function(){lk(t),zo.delete(t)}}},zo.set(t,e)}return e.reactRoot}function Vz(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),zo.has(e)?n=zo.get(e).reactRoot:n=uk(e),n.render(t)}function jz(t){lk(t)}function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jh.apply(this,arguments)}function Gz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rk(n.key),n)}}function Is(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p0(t,e){return p0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},p0(t,e)}function $z(t,e){if(e&&(Ln(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Is(t)}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m0(t)}var mm=Nn.createContext(null),ck=mm.Provider,hk=mm.Consumer,Xz=function(t){var e=Nn.forwardRef(function(r,n){return Nn.createElement(hk,null,function(i){return Nn.createElement(t,jh({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function Yz(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=m0(t);if(e){var i=m0(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return $z(this,r)}}function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){er(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var XC=function(){},fk={width:Ct.number,height:Ct.number,onMount:Ct.func,onUnmount:Ct.func,raf:Ct.bool,renderOnComponentChange:Ct.bool,children:Ct.node,options:Ct.shape({autoStart:Ct.bool,width:Ct.number,height:Ct.number,useContextAlpha:Ct.bool,backgroundAlpha:Ct.number,autoDensity:Ct.bool,antialias:Ct.bool,preserveDrawingBuffer:Ct.bool,resolution:Ct.number,forceCanvas:Ct.bool,backgroundColor:Ct.number,clearBeforeRender:Ct.bool,powerPreference:Ct.string,sharedTicker:Ct.bool,sharedLoader:Ct.bool,resizeTo:function(t,e){var r=t[e];r&&Yt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Ln(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&Yt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Ln(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},qz={width:800,height:600,onMount:XC,onUnmount:XC,raf:!0,renderOnComponentChange:!0},M1=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&p0(s,o)})(i,Nn.Component);var e,r,n=Yz(i);function i(){var s;Gz(this,i);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return er(Is(s=n.call.apply(n,[this].concat(a))),"_canvas",null),er(Is(s),"_mediaQuery",null),er(Is(s),"_ticker",null),er(Is(s),"_needsUpdate",!0),er(Is(s),"app",null),er(Is(s),"updateSize",function(){var u=s.props,f=u.width,p=u.height,d=u.options;d!=null&&d.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,p)}),er(Is(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),er(Is(s),"renderStage",function(){var u=s.props,f=u.renderOnComponentChange;!u.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,l=s.height,u=s.options,f=s.raf,p=s.renderOnComponentChange;this.app=new af(Xd(Xd({width:a,height:l,view:this._canvas},u),{},{autoDensity:(u==null?void 0:u.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Oi.createContainer(this.app.stage),Oi.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),u!=null&&u.autoDensity&&window.matchMedia&&(u==null?void 0:u.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),p&&!f&&(this._ticker=new nr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var l,u=this.props,f=u.width,p=u.height,d=u.raf,g=u.renderOnComponentChange,m=u.options;(m==null?void 0:m.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(m==null?void 0:m.resolution)&&(this.app.renderer.resolution=m.resolution,this.resetInteractionManager()),s.height===p&&s.width===f&&((l=s.options)===null||l===void 0?void 0:l.resolution)===(m==null?void 0:m.resolution)||this.updateSize(),s.raf!==d&&this.app.ticker[d?"start":"stop"](),Oi.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===p&&s.raf===d&&s.renderOnComponentChange===g&&s.options===m||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Nn.createElement(ck,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Oi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,l=this.props.options;return l&&l.view?(Yt(l.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Nn.createElement("canvas",jh({},(s=this.props,o=[].concat(Zs(Object.keys(fk)),Zs(Object.keys(P1))),Object.keys(s).filter(function(u){return!o.includes(u)}).reduce(function(u,f){return Xd(Xd({},u),{},er({},f,s[f]))},{})),{ref:function(u){return a._canvas=u}}))}}])&&Wz(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();M1.propTypes=fk,M1.defaultProps=qz;var Kz=M1;function dk(){var t=J.useContext(mm);return Yt(t instanceof af,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function Qz(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=dk();Yt(typeof t=="function","`useTick` needs a callback function."),Yt(r instanceof af,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=J.useRef(null);J.useEffect(function(){n.current=t},[t]),J.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function Zz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k1(t,e,r){return k1=Zz()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&p0(a,s.prototype),a},k1.apply(null,arguments)}var Jz=["children","apply"];function YC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(r),!0).forEach(function(n){er(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var eH=function(t,e){Yt(Ln(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=ra(i,Jz),l=J.useRef(J.useMemo(function(){return r.map(function(p){var d,g=(a==null||(d=a[p])===null||d===void 0?void 0:d.construct)||[];return k1(e[p],Zs(g))})},[r])),u=J.useMemo(function(){return r.reduce(function(p,d,g){return Yd(Yd({},p),{},er({},d,l.current[g]))},{})},[r]),f=J.useMemo(function(){return Object.keys(a).filter(ik(nk(r))).reduce(function(p,d){return Yd(Yd({},p),{},er({},d,a[d]))},{})},[a,r]);return r.forEach(function(p,d){return Object.assign(l.current[d],a[p])}),o&&function(){for(var p=arguments.length,d=new Array(p),g=0;g<p;g++)d[g]=arguments[g];return d.every(function(m){return typeof m=="function"})}(o)&&o.call(t,u),Nn.createElement(t,jh({},f,{filters:l.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ct.node,apply:Ct.func},n},tH=Tn.BitmapText,rH=Tn.Container,nH=Tn.Graphics,iH=Tn.NineSlicePlane,sH=Tn.ParticleContainer,oH=Tn.Sprite,aH=Tn.AnimatedSprite,lH=Tn.Text,uH=Tn.TilingSprite,cH=Tn.SimpleMesh,hH=Tn.SimpleRope;const fH=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:aH,AppConsumer:hk,AppContext:mm,AppProvider:ck,BitmapText:tH,Container:rH,Graphics:nH,NineSlicePlane:iH,ParticleContainer:sH,PixiComponent:Oz,PixiFiber:Oi,SimpleMesh:cH,SimpleRope:hH,Sprite:oH,Stage:Kz,TYPES:Tn,Text:lH,TilingSprite:uH,applyDefaultProps:xs,createRoot:uk,eventHandlers:d0,render:Vz,unmountComponentAtNode:jz,useApp:dk,useTick:Qz,withFilters:eH,withPixiApp:Xz},Symbol.toStringTag,{value:"Module"})),dH=l_(fH);J0.exports=dH;var _s=J0.exports;function Cb(){const[t,e]=J.useState([window.innerWidth,window.innerHeight]),r=()=>{e([window.innerWidth,window.innerHeight])};return J.useEffect(()=>{window.addEventListener("resize",r,!1)},[]),t}const pk=new Ot;Bt.prototype._cacheAsBitmap=!1;Bt.prototype._cacheData=null;Bt.prototype._cacheAsBitmapResolution=null;Bt.prototype._cacheAsBitmapMultisample=null;class pH{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Bt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new pH),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Bt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Bt.prototype._initCachedDisplayObject=function(e){var d,g;if((d=this._cacheData)!=null&&d.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(null,!0).clone();if((g=this.filters)!=null&&g.length){const m=this.filters[0].padding;n.pad(m)}n.ceil(me.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=il.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${Qa()}`;this._cacheData.textureCacheId=u,je.addToCache(l.baseTexture,u),pe.addToCache(l,u);const f=this.transform.localTransform.copyTo(pk).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:f,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const p=new bs(l);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(n.x/n.width),p.anchor.y=-(n.y/n.height),p.alpha=r,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)};Bt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Bt.prototype._initCachedDisplayObjectCanvas=function(e){var f;if((f=this._cacheData)!=null&&f.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;r.ceil(me.RESOLUTION);const o=il.create({width:r.width,height:r.height}),a=`cacheAsBitmap_${Qa()}`;this._cacheData.textureCacheId=a,je.addToCache(o.baseTexture,a),pe.addToCache(o,a);const l=pk;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const u=new bs(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(r.x/r.width),u.anchor.y=-(r.y/r.height),u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Bt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Bt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Bt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,je.removeFromCache(this._cacheData.textureCacheId),pe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Bt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Bt.prototype.name=null;rn.prototype.getChildByName=function(e,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Bt.prototype.getGlobalPosition=function(e=new ye,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var mH=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class gH extends Nr{constructor(e=1){super(zU,mH,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const vH={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},yH=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function xH(t){const e=vH[t],r=e.length;let n=yH,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const _H=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function bH(t,e){const r=Math.ceil(t/2);let n=_H,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class D1 extends Nr{constructor(e,r=8,n=4,i=Nr.defaultResolution,s=5){const o=bH(s,e),a=xH(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,ls.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,ls.BLIT),this.uniforms.uSampler=l;const f=l;l=a,a=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class wH extends Nr{constructor(e=8,r=4,n=Nr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new D1(!0,e,r,n,i),this.blurYFilter=new D1(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,ls.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var SH=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class O1 extends Nr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(NM,SH,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=vt.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=n+(1-n)*o,u=o*(1-n)-a*i,f=o*(1-n)+a*i,p=o*(1-n)+a*i,d=n+o*(1-n),g=o*(1-n)-a*i,m=o*(1-n)-a*i,_=o*(1-n)+a*i,S=n+o*(1-n),T=[l,u,f,0,0,p,d,g,0,0,m,_,S,0,0,0,0,0,1,0];this._loadMatrix(T,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=vt.shared,[a,l,u]=o.setValue(n).toArray(),[f,p,d]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,a,l,u,e,0,f,p,d,r,0,a-f,l-p,u-d,0,0];this._loadMatrix(g,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}O1.prototype.grayscale=O1.prototype.greyscale;var EH=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,TH=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class CH extends Nr{constructor(e,r){const n=new Ot;e.renderable=!1,super(TH,EH,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new ye(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var PH=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,AH=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class RH extends Nr{constructor(){super(AH,PH)}}var IH=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class MH extends Nr{constructor(e=.5,r=Math.random()){super(NM,IH,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const qC={AlphaFilter:gH,BlurFilter:wH,BlurFilterPass:D1,ColorMatrixFilter:O1,DisplacementFilter:CH,FXAAFilter:RH,NoiseFilter:MH};Object.entries(qC).forEach(([t,e])=>{Object.defineProperty(qC,t,{get(){return tt("7.1.0",`filters.${t} has moved to ${t}`),e}})});class kH{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(nr.system.add(this.tickerUpdate,this,qo.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(nr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Co=new kH;class lf{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=lf.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ye,this.page=new ye,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class g0 extends lf{constructor(){super(...arguments),this.client=new ye,this.movement=new ye,this.offset=new ye,this.global=new ye,this.screen=new ye}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,l,u,f,p,d,g,m,_){throw new Error("Method not implemented.")}}class wi extends g0{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Du extends g0{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Du.DOM_DELTA_PIXEL=0;Du.DOM_DELTA_LINE=1;Du.DOM_DELTA_PAGE=2;const DH=2048,OH=new ye,Jv=new ye;class BH{constructor(e){this.dispatch=new rf,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Co.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,OH.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<DH&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Co.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let p=f.length-1;p>=0;p--){const d=f[p],g=this.hitTestMoveRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s,o||s(e,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const m=e.isInteractive();(g.length>0||m)&&(m&&this._allInteractiveElements.push(e),g.push(e)),this._hitElements.length===0&&(this._hitElements=g),a=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return u&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,n)&&i(e,n)?u?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Co.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const f=l[u],p=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const d=e.isInteractive();return(p.length>0||d)&&p.push(e),p}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Jv),!e.hitArea.contains(Jv.x,Jv.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,u;if(!(e instanceof wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,f,s);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!r.composedPath().includes(s)){const d=this.createPointerEvent(e,"pointerleave",s);for(d.eventPhase=d.AT_TARGET;d.target&&!r.composedPath().includes(d.target);)d.currentTarget=d.target,this.notifyTarget(d),n&&this.notifyTarget(d,"mouseleave"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(p)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(r,f);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let d=s==null?void 0:s.parent;for(;d&&d!==this.rootTarget.parent&&d!==r.target;)d=d.parent;if(!d||d===this.rootTarget.parent){const m=this.clonePointerEvent(r,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(p)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(u=r.target)==null?void 0:u.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Du)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(wi);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Du);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(wi);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof wi&&r instanceof wi&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof g0&&r instanceof g0&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const NH=1,FH={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},B1=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new BH(null),Co.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new wi(null),this.rootWheelEvent=new Du(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...B1.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,B1._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;Co.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Co.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Co.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Co.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=NH),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=FH[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let Gh=B1;Gh.extension={name:"events",type:[ve.RendererSystem,ve.CanvasRendererSystem]};Gh.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};Ae.add(Gh);function KC(t){return t==="dynamic"||t==="static"}const LH={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??KC(Gh.defaultEventMode)},set interactive(t){tt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Gh.defaultEventMode},set eventMode(t){this._internalInteractive=KC(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof lf))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Bt.mixin(LH);const UH={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Bt.mixin(UH);const zH=9,qd=100,HH=0,VH=0,QC=2,ZC=1,jH=-1e3,GH=-1e3,WH=2;class mk{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ls.tablet||Ls.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${qd}px`,r.style.height=`${qd}px`,r.style.position="absolute",r.style.top=`${HH}px`,r.style.left=`${VH}px`,r.style.zIndex=QC.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${ZC}px`,e.style.height=`${ZC}px`,e.style.position="absolute",e.style.top=`${jH}px`,e.style.left=`${GH}px`,e.style.zIndex=WH.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Ls.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,f=s/a*l;let p=this.div;p.style.left=`${r}px`,p.style.top=`${n}px`,p.style.width=`${o}px`,p.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const g=this.children[d];if(g.renderId!==this.renderId)g._accessibleActive=!1,gu(this.children,d,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,d--;else{p=g._accessibleDiv;let m=g.hitArea;const _=g.worldTransform;g.hitArea?(p.style.left=`${(_.tx+m.x*_.a)*u}px`,p.style.top=`${(_.ty+m.y*_.d)*f}px`,p.style.width=`${m.width*_.a*u}px`,p.style.height=`${m.height*_.d*f}px`):(m=g.getBounds(),this.capHitArea(m),p.style.left=`${m.x*u}px`,p.style.top=`${m.y*f}px`,p.style.width=`${m.width*u}px`,p.style.height=`${m.height*f}px`,p.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(p.title=g.accessibleTitle),p.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&p.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==p.title||g.tabIndex!==p.tabIndex)&&(p.title=g.accessibleTitle,p.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${qd}px`,r.style.height=`${qd}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=QC.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new lf(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===zH&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}mk.extension={name:"accessibility",type:[ve.RendererPlugin,ve.CanvasRendererPlugin]};Ae.add(mk);var Dn=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Dn||{});const v0={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Ms,Ol;function JC(){Ol={s3tc:Ms.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ms.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Ms.getExtension("WEBGL_compressed_texture_etc"),etc1:Ms.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Ms.getExtension("WEBGL_compressed_texture_pvrtc")||Ms.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Ms.getExtension("WEBGL_compressed_texture_atc"),astc:Ms.getExtension("WEBGL_compressed_texture_astc")}}const $H={extension:{type:ve.DetectionParser,priority:2},test:async()=>{const e=me.ADAPTER.createCanvas().getContext("webgl");return e?(Ms=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Ol||JC();const e=[];for(const r in Ol)Ol[r]&&e.push(r);return[...e,...t]},remove:async t=>(Ol||JC(),t.filter(e=>!(e in Ol)))};Ae.add($H);class XH extends sf{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new h1(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new h1(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Va extends XH{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Va._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Va._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:f,levelBuffer:p}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,f,0,p)}return!0}onBlobLoaded(){this._levelBuffers=Va._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const l=new Array(n);let u=e.byteOffset,f=o,p=a,d=f+i-1&~(i-1),g=p+s-1&~(s-1),m=d*g*v0[r];for(let _=0;_<n;_++)l[_]={levelID:_,levelWidth:n>1?f:d,levelHeight:n>1?p:g,levelBuffer:new Uint8Array(e.buffer,u,m)},u+=m,f=f>>1||1,p=p>>1||1,d=f+i-1&~(i-1),g=p+s-1&~(s-1),m=d*g*v0[r];return l}}const ey=4,Kd=124,YH=32,e2=20,qH=542327876,Qd={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},KH={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Zd={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},QH=1,ZH=2,JH=4,eV=64,tV=512,rV=131072,nV=827611204,iV=861165636,sV=894720068,oV=808540228,aV=4,lV={[nV]:Dn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[iV]:Dn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[sV]:Dn.COMPRESSED_RGBA_S3TC_DXT5_EXT},uV={70:Dn.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Dn.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Dn.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Dn.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Dn.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Dn.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Dn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Dn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Dn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function cV(t){const e=new Uint32Array(t);if(e[0]!==qH)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(t,0,Kd/Uint32Array.BYTES_PER_ELEMENT),i=n[Qd.HEIGHT],s=n[Qd.WIDTH],o=n[Qd.MIPMAP_COUNT],a=new Uint32Array(t,Qd.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,YH/Uint32Array.BYTES_PER_ELEMENT),l=a[QH];if(l&JH){const u=a[KH.FOURCC];if(u!==oV){const y=lV[u],x=ey+Kd,C=new Uint8Array(t,x);return[new Va(C,{format:y,width:s,height:i,levels:o})]}const f=ey+Kd,p=new Uint32Array(e.buffer,f,e2/Uint32Array.BYTES_PER_ELEMENT),d=p[Zd.DXGI_FORMAT],g=p[Zd.RESOURCE_DIMENSION],m=p[Zd.MISC_FLAG],_=p[Zd.ARRAY_SIZE],S=uV[d];if(S===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(m===aV)throw new Error("DDSParser does not support cubemap textures");if(g===6)throw new Error("DDSParser does not supported 3D texture data");const T=new Array,b=ey+Kd+e2;if(_===1)T.push(new Uint8Array(t,b));else{const y=v0[S];let x=0,C=s,M=i;for(let A=0;A<o;A++){const D=Math.max(1,C+3&-4),R=Math.max(1,M+3&-4),k=D*R*y;x+=k,C=C>>>1,M=M>>>1}let I=b;for(let A=0;A<_;A++)T.push(new Uint8Array(t,I,x)),I+=x}return T.map(y=>new Va(y,{format:S,width:s,height:i,levels:o}))}throw l&eV?new Error("DDSParser does not support uncompressed texture data."):l&tV?new Error("DDSParser does not supported YUV uncompressed texture data."):l&rV?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&ZH?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const t2=[171,75,84,88,32,49,49,187,13,10,26,10],hV=67305985,_i={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},N1=64,r2={[Be.UNSIGNED_BYTE]:1,[Be.UNSIGNED_SHORT]:2,[Be.INT]:4,[Be.UNSIGNED_INT]:4,[Be.FLOAT]:4,[Be.HALF_FLOAT]:8},fV={[ce.RGBA]:4,[ce.RGB]:3,[ce.RG]:2,[ce.RED]:1,[ce.LUMINANCE]:1,[ce.LUMINANCE_ALPHA]:2,[ce.ALPHA]:1},dV={[Be.UNSIGNED_SHORT_4_4_4_4]:2,[Be.UNSIGNED_SHORT_5_5_5_1]:2,[Be.UNSIGNED_SHORT_5_6_5]:2};function pV(t,e,r=!1){const n=new DataView(e);if(!mV(t,n))return null;const i=n.getUint32(_i.ENDIANNESS,!0)===hV,s=n.getUint32(_i.GL_TYPE,i),o=n.getUint32(_i.GL_FORMAT,i),a=n.getUint32(_i.GL_INTERNAL_FORMAT,i),l=n.getUint32(_i.PIXEL_WIDTH,i),u=n.getUint32(_i.PIXEL_HEIGHT,i)||1,f=n.getUint32(_i.PIXEL_DEPTH,i)||1,p=n.getUint32(_i.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=n.getUint32(_i.NUMBER_OF_FACES,i),g=n.getUint32(_i.NUMBER_OF_MIPMAP_LEVELS,i),m=n.getUint32(_i.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||f!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const _=4,S=4,T=l+3&-4,b=u+3&-4,y=new Array(p);let x=l*u;s===0&&(x=T*b);let C;if(s!==0?r2[s]?C=r2[s]*fV[o]:C=dV[s]:C=v0[a],C===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const M=r?vV(n,m,i):null;let A=x*C,D=l,R=u,k=T,O=b,U=N1+m;for(let N=0;N<g;N++){const G=n.getUint32(U,i);let Q=U+4;for(let z=0;z<p;z++){let F=y[z];F||(F=y[z]=new Array(g)),F[N]={levelID:N,levelWidth:g>1||s!==0?D:k,levelHeight:g>1||s!==0?R:O,levelBuffer:new Uint8Array(e,Q,A)},Q+=A}U+=G+4,U=U%4!==0?U+4-U%4:U,D=D>>1||1,R=R>>1||1,k=D+_-1&~(_-1),O=R+S-1&~(S-1),A=k*O*C}return s!==0?{uncompressed:y.map(N=>{let G=N[0].levelBuffer,Q=!1;return s===Be.FLOAT?G=new Float32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4):s===Be.UNSIGNED_INT?(Q=!0,G=new Uint32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4)):s===Be.INT&&(Q=!0,G=new Int32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4)),{resource:new sf(G,{width:N[0].levelWidth,height:N[0].levelHeight}),type:s,format:Q?gV(o):o}}),kvData:M}:{compressed:y.map(N=>new Va(null,{format:a,width:l,height:u,levels:g,levelBuffers:N})),kvData:M}}function mV(t,e){for(let r=0;r<t2.length;r++)if(e.getUint8(r)!==t2[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function gV(t){switch(t){case ce.RGBA:return ce.RGBA_INTEGER;case ce.RGB:return ce.RGB_INTEGER;case ce.RG:return ce.RG_INTEGER;case ce.RED:return ce.RED_INTEGER;default:return t}}function vV(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(N1+i,r),o=N1+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),f=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,f),i+=4+s+a}return n}const yV={extension:{type:ve.LoadParser,priority:ws.High},name:"loadDDS",test(t){return sl(t,".dds")},async load(t,e,r){const i=await(await me.ADAPTER.fetch(t)).arrayBuffer(),o=cV(i).map(a=>{const l=new je(a,{mipmap:vs.OFF,alphaMode:Vi.NO_PREMULTIPLIED_ALPHA,resolution:$o(t),...e.data});return fm(l,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Ae.add(yV);const xV={extension:{type:ve.LoadParser,priority:ws.High},name:"loadKTX",test(t){return sl(t,".ktx")},async load(t,e,r){const i=await(await me.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=pV(t,i),l=s??o,u={mipmap:vs.OFF,alphaMode:Vi.NO_PREMULTIPLIED_ALPHA,resolution:$o(t),...e.data},f=l.map(p=>{l===o&&Object.assign(u,{type:p.type,format:p.format});const d=new je(p,u);return d.ktxKeyValueData=a,fm(d,r,t)});return f.length===1?f[0]:f},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Ae.add(xV);const _V={extension:ve.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var n,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((n=me.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=me.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};Ae.add(_V);const bV=new qe,wV=4,Wc=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const a=new FileReader;a.onload=()=>i(a.result),a.onerror=s,a.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const a=new FileReader;a.onload=()=>s(a.result),a.onerror=o,a.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&Wc._flipY(r,n,i),Wc._unpremultiplyAlpha(r);const o=new P5(n,i,1),a=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(a,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&Wc._flipY(r,n,i),Wc._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof il?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const p=s.framebuffer.glFramebuffers[r.CONTEXT_UID];p.blitFramebuffer&&r.framebuffer.bind(p.blitFramebuffer)}}else n=r.resolution,e||(e=bV,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const a=Math.round(e.width*n),l=Math.round(e.height*n),u=new Uint8Array(wV*a*l),f=r.gl;return f.readPixels(Math.round(e.x*n),Math.round(e.y*n),a,l,f.RGBA,f.UNSIGNED_BYTE,u),o&&(s==null||s.destroy(!0)),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const a=o*n,l=(r-o-1)*n;s.set(t.subarray(a,a+n)),t.copyWithin(a,l,l+n),t.set(s,l)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let gk=Wc;gk.extension={name:"extract",type:ve.RendererSystem};Ae.add(gk);class SV{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function EV(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof pe){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function TV(t,e){if(t.baseTexture instanceof je){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function CV(t,e){if(t._texture&&t._texture instanceof pe){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function PV(t,e){return e instanceof cm?(e.updateText(!0),!0):!1}function AV(t,e){if(e instanceof Qs){const r=e.toFontString();return Or.measureFont(r),!0}return!1}function RV(t,e){if(t instanceof cm){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function IV(t,e){return t instanceof Qs?(e.includes(t)||e.push(t),!0):!1}const vk=class{constructor(t){this.limiter=new SV(vk.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(RV),this.registerFindHook(IV),this.registerFindHook(EV),this.registerFindHook(TV),this.registerFindHook(CV),this.registerUploadHook(PV),this.registerUploadHook(AV)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,nr.system.addOnce(this.tick,this,qo.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)nr.system.addOnce(this.tick,this,qo.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof rn)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&nr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let y0=vk;y0.uploadsPerFrame=4;Object.defineProperties(me,{UPLOADS_PER_FRAME:{get(){return y0.uploadsPerFrame},set(t){tt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),y0.uploadsPerFrame=t}}});function yk(t,e){return e instanceof je?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function MV(t,e){if(!(e instanceof Ha))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&yk(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function kV(t,e){return t instanceof Ha?(e.push(t),!0):!1}class xk extends y0{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(kV),this.registerUploadHook(yk),this.registerUploadHook(MV)}}xk.extension={name:"prepare",type:ve.RendererSystem};Ae.add(xk);const $c=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof pe?t:null,this.baseTexture=t instanceof je?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=$o(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=$c.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=$c.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new qe(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new qe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new qe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new qe(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new pe(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor,i.borders),pe.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*$c.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*$c.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let F1=$c;F1.BATCH_SIZE=1e3;const DV=["jpg","png","jpeg","avif","webp"];function _k(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Zr.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=_k([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const OV={extension:ve.Asset,cache:{test:t=>t instanceof F1,getCacheableAssets:(t,e)=>_k(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&DV.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=me.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ve.LoadParser,priority:ws.Normal},async testParse(t,e){return Zr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var u,f;let n=Zr.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=E1(i,e.src);const o=(await r.load([i]))[i],a=new F1(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const p=[];for(const g of l){if(typeof g!="string")continue;let m=n+g;(f=e.data)!=null&&f.ignoreMultiPack||(m=E1(m,e.src),p.push(r.load({src:m,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(p);a.linkedSheets=d,d.forEach(g=>{g.linkedSheets=[a].concat(a.linkedSheets.filter(m=>m!==g))})}return a},unload(t){t.destroy(!0)}}};Ae.add(OV);const Bl=class extends Qs{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Bl(Object.keys(Bl.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Bl.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=Bl;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return me.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),a=new FileReader;a.onload=()=>i([o,a.result]),a.onerror=s,a.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:Zr.basename(t,Zr.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=S5(t)),typeof t=="number"?w5(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,Bl.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=me.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let lh=Bl;lh.availableFonts={};lh.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const Nl=class extends bs{constructor(t="",e={}){super(pe.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=pe.from(r,{scaleMode:me.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new qe,n.trim=new qe,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject"),l=document.createElementNS(s,"div"),u=document.createElementNS(s,"style");a.setAttribute("width","10000"),a.setAttribute("height","10000"),a.style.overflow="hidden",o.appendChild(a),this.maxWidth=Nl.defaultMaxWidth,this.maxHeight=Nl.defaultMaxHeight,this._domElement=l,this._styleElement=u,this._svgRoot=o,this._foreignObject=a,this._foreignObject.appendChild(u),this._foreignObject.appendChild(l),this._image=r,this._loadImage=new Image,this._autoResolution=Nl.defaultAutoResolution,this._resolution=Nl.defaultResolution??me.RESOLUTION,this.text=t,this.style=e}measureText(t){var a,l;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(a=this._style)==null?void 0:a.toCSS(n)}),this._styleElement.textContent=(l=this._style)==null?void 0:l.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const a=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(a)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Nl.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Io(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Io(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof lh?(this.ownsStyle=!1,this._style=t):t instanceof Qs?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=lh.from(t)):(this.ownsStyle=!0,this._style=new lh(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let gm=Nl;gm.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};gm.defaultMaxWidth=2024;gm.defaultMaxHeight=2024;gm.defaultAutoResolution=!0;var bk={exports:{}};function BV(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ty={exports:{}},n2;function ot(){return n2||(n2=1,function(t,e){(function(r,n){t.exports=n()})($e,function(){var r=r||function(n,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof $e<"u"&&$e.crypto&&(s=$e.crypto),!s&&typeof BV=="function")try{s=UI}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function b(){}return function(y){var x;return b.prototype=y,x=new b,b.prototype=null,x}}(),l={},u=l.lib={},f=u.Base=function(){return{extend:function(b){var y=a(this);return b&&y.mixIn(b),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var b=this.extend();return b.init.apply(b,arguments),b},init:function(){},mixIn:function(b){for(var y in b)b.hasOwnProperty(y)&&(this[y]=b[y]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=u.WordArray=f.extend({init:function(b,y){b=this.words=b||[],y!=i?this.sigBytes=y:this.sigBytes=b.length*4},toString:function(b){return(b||g).stringify(this)},concat:function(b){var y=this.words,x=b.words,C=this.sigBytes,M=b.sigBytes;if(this.clamp(),C%4)for(var I=0;I<M;I++){var A=x[I>>>2]>>>24-I%4*8&255;y[C+I>>>2]|=A<<24-(C+I)%4*8}else for(var D=0;D<M;D+=4)y[C+D>>>2]=x[D>>>2];return this.sigBytes+=M,this},clamp:function(){var b=this.words,y=this.sigBytes;b[y>>>2]&=4294967295<<32-y%4*8,b.length=n.ceil(y/4)},clone:function(){var b=f.clone.call(this);return b.words=this.words.slice(0),b},random:function(b){for(var y=[],x=0;x<b;x+=4)y.push(o());return new p.init(y,b)}}),d=l.enc={},g=d.Hex={stringify:function(b){for(var y=b.words,x=b.sigBytes,C=[],M=0;M<x;M++){var I=y[M>>>2]>>>24-M%4*8&255;C.push((I>>>4).toString(16)),C.push((I&15).toString(16))}return C.join("")},parse:function(b){for(var y=b.length,x=[],C=0;C<y;C+=2)x[C>>>3]|=parseInt(b.substr(C,2),16)<<24-C%8*4;return new p.init(x,y/2)}},m=d.Latin1={stringify:function(b){for(var y=b.words,x=b.sigBytes,C=[],M=0;M<x;M++){var I=y[M>>>2]>>>24-M%4*8&255;C.push(String.fromCharCode(I))}return C.join("")},parse:function(b){for(var y=b.length,x=[],C=0;C<y;C++)x[C>>>2]|=(b.charCodeAt(C)&255)<<24-C%4*8;return new p.init(x,y)}},_=d.Utf8={stringify:function(b){try{return decodeURIComponent(escape(m.stringify(b)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(b){return m.parse(unescape(encodeURIComponent(b)))}},S=u.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(b){typeof b=="string"&&(b=_.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},_process:function(b){var y,x=this._data,C=x.words,M=x.sigBytes,I=this.blockSize,A=I*4,D=M/A;b?D=n.ceil(D):D=n.max((D|0)-this._minBufferSize,0);var R=D*I,k=n.min(R*4,M);if(R){for(var O=0;O<R;O+=I)this._doProcessBlock(C,O);y=C.splice(0,R),x.sigBytes-=k}return new p.init(y,k)},clone:function(){var b=f.clone.call(this);return b._data=this._data.clone(),b},_minBufferSize:0});u.Hasher=S.extend({cfg:f.extend(),init:function(b){this.cfg=this.cfg.extend(b),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(b){return this._append(b),this._process(),this},finalize:function(b){b&&this._append(b);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(b){return function(y,x){return new b.init(x).finalize(y)}},_createHmacHelper:function(b){return function(y,x){return new T.HMAC.init(b,x).finalize(y)}}});var T=l.algo={};return l}(Math);return r})}(ty)),ty.exports}var ry={exports:{}},i2;function vm(){return i2||(i2=1,function(t,e){(function(r,n){t.exports=n(ot())})($e,function(r){return function(n){var i=r,s=i.lib,o=s.Base,a=s.WordArray,l=i.x64={};l.Word=o.extend({init:function(u,f){this.high=u,this.low=f}}),l.WordArray=o.extend({init:function(u,f){u=this.words=u||[],f!=n?this.sigBytes=f:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,f=u.length,p=[],d=0;d<f;d++){var g=u[d];p.push(g.high),p.push(g.low)}return a.create(p,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),f=u.words=this.words.slice(0),p=f.length,d=0;d<p;d++)f[d]=f[d].clone();return u}})}(),r})}(ry)),ry.exports}var ny={exports:{}},s2;function NV(){return s2||(s2=1,function(t,e){(function(r,n){t.exports=n(ot())})($e,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,f=[],p=0;p<u;p++)f[p>>>2]|=l[p]<<24-p%4*8;o.call(this,f,u)}else o.apply(this,arguments)};a.prototype=s}}(),r.lib.WordArray})}(ny)),ny.exports}var iy={exports:{}},o2;function FV(){return o2||(o2=1,function(t,e){(function(r,n){t.exports=n(ot())})($e,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var u=l.words,f=l.sigBytes,p=[],d=0;d<f;d+=2){var g=u[d>>>2]>>>16-d%4*8&65535;p.push(String.fromCharCode(g))}return p.join("")},parse:function(l){for(var u=l.length,f=[],p=0;p<u;p++)f[p>>>1]|=l.charCodeAt(p)<<16-p%2*16;return s.create(f,u*2)}},o.Utf16LE={stringify:function(l){for(var u=l.words,f=l.sigBytes,p=[],d=0;d<f;d+=2){var g=a(u[d>>>2]>>>16-d%4*8&65535);p.push(String.fromCharCode(g))}return p.join("")},parse:function(l){for(var u=l.length,f=[],p=0;p<u;p++)f[p>>>1]|=a(l.charCodeAt(p)<<16-p%2*16);return s.create(f,u*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),r.enc.Utf16})}(iy)),iy.exports}var sy={exports:{}},a2;function Gu(){return a2||(a2=1,function(t,e){(function(r,n){t.exports=n(ot())})($e,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=n.enc;o.Base64={stringify:function(l){var u=l.words,f=l.sigBytes,p=this._map;l.clamp();for(var d=[],g=0;g<f;g+=3)for(var m=u[g>>>2]>>>24-g%4*8&255,_=u[g+1>>>2]>>>24-(g+1)%4*8&255,S=u[g+2>>>2]>>>24-(g+2)%4*8&255,T=m<<16|_<<8|S,b=0;b<4&&g+b*.75<f;b++)d.push(p.charAt(T>>>6*(3-b)&63));var y=p.charAt(64);if(y)for(;d.length%4;)d.push(y);return d.join("")},parse:function(l){var u=l.length,f=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var d=0;d<f.length;d++)p[f.charCodeAt(d)]=d}var g=f.charAt(64);if(g){var m=l.indexOf(g);m!==-1&&(u=m)}return a(l,u,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,f){for(var p=[],d=0,g=0;g<u;g++)if(g%4){var m=f[l.charCodeAt(g-1)]<<g%4*2,_=f[l.charCodeAt(g)]>>>6-g%4*2,S=m|_;p[d>>>2]|=S<<24-d%4*8,d++}return s.create(p,d)}}(),r.enc.Base64})}(sy)),sy.exports}var oy={exports:{}},l2;function LV(){return l2||(l2=1,function(t,e){(function(r,n){t.exports=n(ot())})($e,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=n.enc;o.Base64url={stringify:function(l,u=!0){var f=l.words,p=l.sigBytes,d=u?this._safe_map:this._map;l.clamp();for(var g=[],m=0;m<p;m+=3)for(var _=f[m>>>2]>>>24-m%4*8&255,S=f[m+1>>>2]>>>24-(m+1)%4*8&255,T=f[m+2>>>2]>>>24-(m+2)%4*8&255,b=_<<16|S<<8|T,y=0;y<4&&m+y*.75<p;y++)g.push(d.charAt(b>>>6*(3-y)&63));var x=d.charAt(64);if(x)for(;g.length%4;)g.push(x);return g.join("")},parse:function(l,u=!0){var f=l.length,p=u?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var g=0;g<p.length;g++)d[p.charCodeAt(g)]=g}var m=p.charAt(64);if(m){var _=l.indexOf(m);_!==-1&&(f=_)}return a(l,f,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,u,f){for(var p=[],d=0,g=0;g<u;g++)if(g%4){var m=f[l.charCodeAt(g-1)]<<g%4*2,_=f[l.charCodeAt(g)]>>>6-g%4*2,S=m|_;p[d>>>2]|=S<<24-d%4*8,d++}return s.create(p,d)}}(),r.enc.Base64url})}(oy)),oy.exports}var ay={exports:{}},u2;function Wu(){return u2||(u2=1,function(t,e){(function(r,n){t.exports=n(ot())})($e,function(r){return function(n){var i=r,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[];(function(){for(var _=0;_<64;_++)u[_]=n.abs(n.sin(_+1))*4294967296|0})();var f=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(_,S){for(var T=0;T<16;T++){var b=S+T,y=_[b];_[b]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var x=this._hash.words,C=_[S+0],M=_[S+1],I=_[S+2],A=_[S+3],D=_[S+4],R=_[S+5],k=_[S+6],O=_[S+7],U=_[S+8],N=_[S+9],G=_[S+10],Q=_[S+11],z=_[S+12],F=_[S+13],$=_[S+14],H=_[S+15],L=x[0],j=x[1],Y=x[2],W=x[3];L=p(L,j,Y,W,C,7,u[0]),W=p(W,L,j,Y,M,12,u[1]),Y=p(Y,W,L,j,I,17,u[2]),j=p(j,Y,W,L,A,22,u[3]),L=p(L,j,Y,W,D,7,u[4]),W=p(W,L,j,Y,R,12,u[5]),Y=p(Y,W,L,j,k,17,u[6]),j=p(j,Y,W,L,O,22,u[7]),L=p(L,j,Y,W,U,7,u[8]),W=p(W,L,j,Y,N,12,u[9]),Y=p(Y,W,L,j,G,17,u[10]),j=p(j,Y,W,L,Q,22,u[11]),L=p(L,j,Y,W,z,7,u[12]),W=p(W,L,j,Y,F,12,u[13]),Y=p(Y,W,L,j,$,17,u[14]),j=p(j,Y,W,L,H,22,u[15]),L=d(L,j,Y,W,M,5,u[16]),W=d(W,L,j,Y,k,9,u[17]),Y=d(Y,W,L,j,Q,14,u[18]),j=d(j,Y,W,L,C,20,u[19]),L=d(L,j,Y,W,R,5,u[20]),W=d(W,L,j,Y,G,9,u[21]),Y=d(Y,W,L,j,H,14,u[22]),j=d(j,Y,W,L,D,20,u[23]),L=d(L,j,Y,W,N,5,u[24]),W=d(W,L,j,Y,$,9,u[25]),Y=d(Y,W,L,j,A,14,u[26]),j=d(j,Y,W,L,U,20,u[27]),L=d(L,j,Y,W,F,5,u[28]),W=d(W,L,j,Y,I,9,u[29]),Y=d(Y,W,L,j,O,14,u[30]),j=d(j,Y,W,L,z,20,u[31]),L=g(L,j,Y,W,R,4,u[32]),W=g(W,L,j,Y,U,11,u[33]),Y=g(Y,W,L,j,Q,16,u[34]),j=g(j,Y,W,L,$,23,u[35]),L=g(L,j,Y,W,M,4,u[36]),W=g(W,L,j,Y,D,11,u[37]),Y=g(Y,W,L,j,O,16,u[38]),j=g(j,Y,W,L,G,23,u[39]),L=g(L,j,Y,W,F,4,u[40]),W=g(W,L,j,Y,C,11,u[41]),Y=g(Y,W,L,j,A,16,u[42]),j=g(j,Y,W,L,k,23,u[43]),L=g(L,j,Y,W,N,4,u[44]),W=g(W,L,j,Y,z,11,u[45]),Y=g(Y,W,L,j,H,16,u[46]),j=g(j,Y,W,L,I,23,u[47]),L=m(L,j,Y,W,C,6,u[48]),W=m(W,L,j,Y,O,10,u[49]),Y=m(Y,W,L,j,$,15,u[50]),j=m(j,Y,W,L,R,21,u[51]),L=m(L,j,Y,W,z,6,u[52]),W=m(W,L,j,Y,A,10,u[53]),Y=m(Y,W,L,j,G,15,u[54]),j=m(j,Y,W,L,M,21,u[55]),L=m(L,j,Y,W,U,6,u[56]),W=m(W,L,j,Y,H,10,u[57]),Y=m(Y,W,L,j,k,15,u[58]),j=m(j,Y,W,L,F,21,u[59]),L=m(L,j,Y,W,D,6,u[60]),W=m(W,L,j,Y,Q,10,u[61]),Y=m(Y,W,L,j,I,15,u[62]),j=m(j,Y,W,L,N,21,u[63]),x[0]=x[0]+L|0,x[1]=x[1]+j|0,x[2]=x[2]+Y|0,x[3]=x[3]+W|0},_doFinalize:function(){var _=this._data,S=_.words,T=this._nDataBytes*8,b=_.sigBytes*8;S[b>>>5]|=128<<24-b%32;var y=n.floor(T/4294967296),x=T;S[(b+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S[(b+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_.sigBytes=(S.length+1)*4,this._process();for(var C=this._hash,M=C.words,I=0;I<4;I++){var A=M[I];M[I]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return C},clone:function(){var _=a.clone.call(this);return _._hash=this._hash.clone(),_}});function p(_,S,T,b,y,x,C){var M=_+(S&T|~S&b)+y+C;return(M<<x|M>>>32-x)+S}function d(_,S,T,b,y,x,C){var M=_+(S&b|T&~b)+y+C;return(M<<x|M>>>32-x)+S}function g(_,S,T,b,y,x,C){var M=_+(S^T^b)+y+C;return(M<<x|M>>>32-x)+S}function m(_,S,T,b,y,x,C){var M=_+(T^(S|~b))+y+C;return(M<<x|M>>>32-x)+S}i.MD5=a._createHelper(f),i.HmacMD5=a._createHmacHelper(f)}(Math),r.MD5})}(ay)),ay.exports}var ly={exports:{}},c2;function Pb(){return c2||(c2=1,function(t,e){(function(r,n){t.exports=n(ot())})($e,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=i.Hasher,a=n.algo,l=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,p){for(var d=this._hash.words,g=d[0],m=d[1],_=d[2],S=d[3],T=d[4],b=0;b<80;b++){if(b<16)l[b]=f[p+b]|0;else{var y=l[b-3]^l[b-8]^l[b-14]^l[b-16];l[b]=y<<1|y>>>31}var x=(g<<5|g>>>27)+T+l[b];b<20?x+=(m&_|~m&S)+1518500249:b<40?x+=(m^_^S)+1859775393:b<60?x+=(m&_|m&S|_&S)-1894007588:x+=(m^_^S)-899497514,T=S,S=_,_=m<<30|m>>>2,m=g,g=x}d[0]=d[0]+g|0,d[1]=d[1]+m|0,d[2]=d[2]+_|0,d[3]=d[3]+S|0,d[4]=d[4]+T|0},_doFinalize:function(){var f=this._data,p=f.words,d=this._nDataBytes*8,g=f.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=Math.floor(d/4294967296),p[(g+64>>>9<<4)+15]=d,f.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var f=o.clone.call(this);return f._hash=this._hash.clone(),f}});n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u)}(),r.SHA1})}(ly)),ly.exports}var uy={exports:{}},h2;function wk(){return h2||(h2=1,function(t,e){(function(r,n){t.exports=n(ot())})($e,function(r){return function(n){var i=r,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[],f=[];(function(){function g(T){for(var b=n.sqrt(T),y=2;y<=b;y++)if(!(T%y))return!1;return!0}function m(T){return(T-(T|0))*4294967296|0}for(var _=2,S=0;S<64;)g(_)&&(S<8&&(u[S]=m(n.pow(_,1/2))),f[S]=m(n.pow(_,1/3)),S++),_++})();var p=[],d=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(g,m){for(var _=this._hash.words,S=_[0],T=_[1],b=_[2],y=_[3],x=_[4],C=_[5],M=_[6],I=_[7],A=0;A<64;A++){if(A<16)p[A]=g[m+A]|0;else{var D=p[A-15],R=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,k=p[A-2],O=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;p[A]=R+p[A-7]+O+p[A-16]}var U=x&C^~x&M,N=S&T^S&b^T&b,G=(S<<30|S>>>2)^(S<<19|S>>>13)^(S<<10|S>>>22),Q=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),z=I+Q+U+f[A]+p[A],F=G+N;I=M,M=C,C=x,x=y+z|0,y=b,b=T,T=S,S=z+F|0}_[0]=_[0]+S|0,_[1]=_[1]+T|0,_[2]=_[2]+b|0,_[3]=_[3]+y|0,_[4]=_[4]+x|0,_[5]=_[5]+C|0,_[6]=_[6]+M|0,_[7]=_[7]+I|0},_doFinalize:function(){var g=this._data,m=g.words,_=this._nDataBytes*8,S=g.sigBytes*8;return m[S>>>5]|=128<<24-S%32,m[(S+64>>>9<<4)+14]=n.floor(_/4294967296),m[(S+64>>>9<<4)+15]=_,g.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var g=a.clone.call(this);return g._hash=this._hash.clone(),g}});i.SHA256=a._createHelper(d),i.HmacSHA256=a._createHmacHelper(d)}(Math),r.SHA256})}(uy)),uy.exports}var cy={exports:{}},f2;function UV(){return f2||(f2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),wk())})($e,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=n.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=a._createHelper(l),n.HmacSHA224=a._createHmacHelper(l)}(),r.SHA224})}(cy)),cy.exports}var hy={exports:{}},d2;function Sk(){return d2||(d2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),vm())})($e,function(r){return function(){var n=r,i=n.lib,s=i.Hasher,o=n.x64,a=o.Word,l=o.WordArray,u=n.algo;function f(){return a.create.apply(a,arguments)}var p=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],d=[];(function(){for(var m=0;m<80;m++)d[m]=f()})();var g=u.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(m,_){for(var S=this._hash.words,T=S[0],b=S[1],y=S[2],x=S[3],C=S[4],M=S[5],I=S[6],A=S[7],D=T.high,R=T.low,k=b.high,O=b.low,U=y.high,N=y.low,G=x.high,Q=x.low,z=C.high,F=C.low,$=M.high,H=M.low,L=I.high,j=I.low,Y=A.high,W=A.low,de=D,he=R,Pe=k,ge=O,ut=U,Ze=N,Ie=G,Xe=Q,Oe=z,it=F,St=$,ir=H,vr=L,qt=j,hi=Y,Nt=W,hr=0;hr<80;hr++){var gt,sr,Ir=d[hr];if(hr<16)sr=Ir.high=m[_+hr*2]|0,gt=Ir.low=m[_+hr*2+1]|0;else{var Ge=d[hr-15],We=Ge.high,De=Ge.low,st=(We>>>1|De<<31)^(We>>>8|De<<24)^We>>>7,sn=(De>>>1|We<<31)^(De>>>8|We<<24)^(De>>>7|We<<25),yr=d[hr-2],Ye=yr.high,Re=yr.low,zr=(Ye>>>19|Re<<13)^(Ye<<3|Re>>>29)^Ye>>>6,K=(Re>>>19|Ye<<13)^(Re<<3|Ye>>>29)^(Re>>>6|Ye<<26),Z=d[hr-7],se=Z.high,xe=Z.low,ze=d[hr-16],Fe=ze.high,Le=ze.low;gt=sn+xe,sr=st+se+(gt>>>0<sn>>>0?1:0),gt=gt+K,sr=sr+zr+(gt>>>0<K>>>0?1:0),gt=gt+Le,sr=sr+Fe+(gt>>>0<Le>>>0?1:0),Ir.high=sr,Ir.low=gt}var Me=Oe&St^~Oe&vr,Se=it&ir^~it&qt,ft=de&Pe^de&ut^Pe&ut,Kt=he&ge^he&Ze^ge&Ze,at=(de>>>28|he<<4)^(de<<30|he>>>2)^(de<<25|he>>>7),xt=(he>>>28|de<<4)^(he<<30|de>>>2)^(he<<25|de>>>7),At=(Oe>>>14|it<<18)^(Oe>>>18|it<<14)^(Oe<<23|it>>>9),Gn=(it>>>14|Oe<<18)^(it>>>18|Oe<<14)^(it<<23|Oe>>>9),Cn=p[hr],Ss=Cn.high,no=Cn.low,Et=Nt+Gn,Qt=hi+At+(Et>>>0<Nt>>>0?1:0),Et=Et+Se,Qt=Qt+Me+(Et>>>0<Se>>>0?1:0),Et=Et+no,Qt=Qt+Ss+(Et>>>0<no>>>0?1:0),Et=Et+gt,Qt=Qt+sr+(Et>>>0<gt>>>0?1:0),fi=xt+Kt,oa=at+ft+(fi>>>0<xt>>>0?1:0);hi=vr,Nt=qt,vr=St,qt=ir,St=Oe,ir=it,it=Xe+Et|0,Oe=Ie+Qt+(it>>>0<Xe>>>0?1:0)|0,Ie=ut,Xe=Ze,ut=Pe,Ze=ge,Pe=de,ge=he,he=Et+fi|0,de=Qt+oa+(he>>>0<Et>>>0?1:0)|0}R=T.low=R+he,T.high=D+de+(R>>>0<he>>>0?1:0),O=b.low=O+ge,b.high=k+Pe+(O>>>0<ge>>>0?1:0),N=y.low=N+Ze,y.high=U+ut+(N>>>0<Ze>>>0?1:0),Q=x.low=Q+Xe,x.high=G+Ie+(Q>>>0<Xe>>>0?1:0),F=C.low=F+it,C.high=z+Oe+(F>>>0<it>>>0?1:0),H=M.low=H+ir,M.high=$+St+(H>>>0<ir>>>0?1:0),j=I.low=j+qt,I.high=L+vr+(j>>>0<qt>>>0?1:0),W=A.low=W+Nt,A.high=Y+hi+(W>>>0<Nt>>>0?1:0)},_doFinalize:function(){var m=this._data,_=m.words,S=this._nDataBytes*8,T=m.sigBytes*8;_[T>>>5]|=128<<24-T%32,_[(T+128>>>10<<5)+30]=Math.floor(S/4294967296),_[(T+128>>>10<<5)+31]=S,m.sigBytes=_.length*4,this._process();var b=this._hash.toX32();return b},clone:function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});n.SHA512=s._createHelper(g),n.HmacSHA512=s._createHmacHelper(g)}(),r.SHA512})}(hy)),hy.exports}var fy={exports:{}},p2;function zV(){return p2||(p2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),vm(),Sk())})($e,function(r){return function(){var n=r,i=n.x64,s=i.Word,o=i.WordArray,a=n.algo,l=a.SHA512,u=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var f=l._doFinalize.call(this);return f.sigBytes-=16,f}});n.SHA384=l._createHelper(u),n.HmacSHA384=l._createHmacHelper(u)}(),r.SHA384})}(fy)),fy.exports}var dy={exports:{}},m2;function HV(){return m2||(m2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),vm())})($e,function(r){return function(n){var i=r,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.x64,u=l.Word,f=i.algo,p=[],d=[],g=[];(function(){for(var S=1,T=0,b=0;b<24;b++){p[S+5*T]=(b+1)*(b+2)/2%64;var y=T%5,x=(2*S+3*T)%5;S=y,T=x}for(var S=0;S<5;S++)for(var T=0;T<5;T++)d[S+5*T]=T+(2*S+3*T)%5*5;for(var C=1,M=0;M<24;M++){for(var I=0,A=0,D=0;D<7;D++){if(C&1){var R=(1<<D)-1;R<32?A^=1<<R:I^=1<<R-32}C&128?C=C<<1^113:C<<=1}g[M]=u.create(I,A)}})();var m=[];(function(){for(var S=0;S<25;S++)m[S]=u.create()})();var _=f.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var S=this._state=[],T=0;T<25;T++)S[T]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(S,T){for(var b=this._state,y=this.blockSize/2,x=0;x<y;x++){var C=S[T+2*x],M=S[T+2*x+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360;var I=b[x];I.high^=M,I.low^=C}for(var A=0;A<24;A++){for(var D=0;D<5;D++){for(var R=0,k=0,O=0;O<5;O++){var I=b[D+5*O];R^=I.high,k^=I.low}var U=m[D];U.high=R,U.low=k}for(var D=0;D<5;D++)for(var N=m[(D+4)%5],G=m[(D+1)%5],Q=G.high,z=G.low,R=N.high^(Q<<1|z>>>31),k=N.low^(z<<1|Q>>>31),O=0;O<5;O++){var I=b[D+5*O];I.high^=R,I.low^=k}for(var F=1;F<25;F++){var R,k,I=b[F],$=I.high,H=I.low,L=p[F];L<32?(R=$<<L|H>>>32-L,k=H<<L|$>>>32-L):(R=H<<L-32|$>>>64-L,k=$<<L-32|H>>>64-L);var j=m[d[F]];j.high=R,j.low=k}var Y=m[0],W=b[0];Y.high=W.high,Y.low=W.low;for(var D=0;D<5;D++)for(var O=0;O<5;O++){var F=D+5*O,I=b[F],de=m[F],he=m[(D+1)%5+5*O],Pe=m[(D+2)%5+5*O];I.high=de.high^~he.high&Pe.high,I.low=de.low^~he.low&Pe.low}var I=b[0],ge=g[A];I.high^=ge.high,I.low^=ge.low}},_doFinalize:function(){var S=this._data,T=S.words;this._nDataBytes*8;var b=S.sigBytes*8,y=this.blockSize*32;T[b>>>5]|=1<<24-b%32,T[(n.ceil((b+1)/y)*y>>>5)-1]|=128,S.sigBytes=T.length*4,this._process();for(var x=this._state,C=this.cfg.outputLength/8,M=C/8,I=[],A=0;A<M;A++){var D=x[A],R=D.high,k=D.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,I.push(k),I.push(R)}return new o.init(I,C)},clone:function(){for(var S=a.clone.call(this),T=S._state=this._state.slice(0),b=0;b<25;b++)T[b]=T[b].clone();return S}});i.SHA3=a._createHelper(_),i.HmacSHA3=a._createHmacHelper(_)}(Math),r.SHA3})}(dy)),dy.exports}var py={exports:{}},g2;function VV(){return g2||(g2=1,function(t,e){(function(r,n){t.exports=n(ot())})($e,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=o.create([0,1518500249,1859775393,2400959708,2840853838]),m=o.create([1352829926,1548603684,1836072691,2053994217,0]),_=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,I){for(var A=0;A<16;A++){var D=I+A,R=M[D];M[D]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var k=this._hash.words,O=g.words,U=m.words,N=u.words,G=f.words,Q=p.words,z=d.words,F,$,H,L,j,Y,W,de,he,Pe;Y=F=k[0],W=$=k[1],de=H=k[2],he=L=k[3],Pe=j=k[4];for(var ge,A=0;A<80;A+=1)ge=F+M[I+N[A]]|0,A<16?ge+=S($,H,L)+O[0]:A<32?ge+=T($,H,L)+O[1]:A<48?ge+=b($,H,L)+O[2]:A<64?ge+=y($,H,L)+O[3]:ge+=x($,H,L)+O[4],ge=ge|0,ge=C(ge,Q[A]),ge=ge+j|0,F=j,j=L,L=C(H,10),H=$,$=ge,ge=Y+M[I+G[A]]|0,A<16?ge+=x(W,de,he)+U[0]:A<32?ge+=y(W,de,he)+U[1]:A<48?ge+=b(W,de,he)+U[2]:A<64?ge+=T(W,de,he)+U[3]:ge+=S(W,de,he)+U[4],ge=ge|0,ge=C(ge,z[A]),ge=ge+Pe|0,Y=Pe,Pe=he,he=C(de,10),de=W,W=ge;ge=k[1]+H+he|0,k[1]=k[2]+L+Pe|0,k[2]=k[3]+j+Y|0,k[3]=k[4]+F+W|0,k[4]=k[0]+$+de|0,k[0]=ge},_doFinalize:function(){var M=this._data,I=M.words,A=this._nDataBytes*8,D=M.sigBytes*8;I[D>>>5]|=128<<24-D%32,I[(D+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,M.sigBytes=(I.length+1)*4,this._process();for(var R=this._hash,k=R.words,O=0;O<5;O++){var U=k[O];k[O]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360}return R},clone:function(){var M=a.clone.call(this);return M._hash=this._hash.clone(),M}});function S(M,I,A){return M^I^A}function T(M,I,A){return M&I|~M&A}function b(M,I,A){return(M|~I)^A}function y(M,I,A){return M&A|I&~A}function x(M,I,A){return M^(I|~A)}function C(M,I){return M<<I|M>>>32-I}i.RIPEMD160=a._createHelper(_),i.HmacRIPEMD160=a._createHmacHelper(_)}(),r.RIPEMD160})}(py)),py.exports}var my={exports:{}},v2;function Ab(){return v2||(v2=1,function(t,e){(function(r,n){t.exports=n(ot())})($e,function(r){(function(){var n=r,i=n.lib,s=i.Base,o=n.enc,a=o.Utf8,l=n.algo;l.HMAC=s.extend({init:function(u,f){u=this._hasher=new u.init,typeof f=="string"&&(f=a.parse(f));var p=u.blockSize,d=p*4;f.sigBytes>d&&(f=u.finalize(f)),f.clamp();for(var g=this._oKey=f.clone(),m=this._iKey=f.clone(),_=g.words,S=m.words,T=0;T<p;T++)_[T]^=1549556828,S[T]^=909522486;g.sigBytes=m.sigBytes=d,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var f=this._hasher,p=f.finalize(u);f.reset();var d=f.finalize(this._oKey.clone().concat(p));return d}})})()})}(my)),my.exports}var gy={exports:{}},y2;function jV(){return y2||(y2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Pb(),Ab())})($e,function(r){return function(){var n=r,i=n.lib,s=i.Base,o=i.WordArray,a=n.algo,l=a.SHA1,u=a.HMAC,f=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,d){for(var g=this.cfg,m=u.create(g.hasher,p),_=o.create(),S=o.create([1]),T=_.words,b=S.words,y=g.keySize,x=g.iterations;T.length<y;){var C=m.update(d).finalize(S);m.reset();for(var M=C.words,I=M.length,A=C,D=1;D<x;D++){A=m.finalize(A),m.reset();for(var R=A.words,k=0;k<I;k++)M[k]^=R[k]}_.concat(C),b[0]++}return _.sigBytes=y*4,_}});n.PBKDF2=function(p,d,g){return f.create(g).compute(p,d)}}(),r.PBKDF2})}(gy)),gy.exports}var vy={exports:{}},x2;function ol(){return x2||(x2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Pb(),Ab())})($e,function(r){return function(){var n=r,i=n.lib,s=i.Base,o=i.WordArray,a=n.algo,l=a.MD5,u=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,p){for(var d,g=this.cfg,m=g.hasher.create(),_=o.create(),S=_.words,T=g.keySize,b=g.iterations;S.length<T;){d&&m.update(d),d=m.update(f).finalize(p),m.reset();for(var y=1;y<b;y++)d=m.finalize(d),m.reset();_.concat(d)}return _.sigBytes=T*4,_}});n.EvpKDF=function(f,p,d){return u.create(d).compute(f,p)}}(),r.EvpKDF})}(vy)),vy.exports}var yy={exports:{}},_2;function Ur(){return _2||(_2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),ol())})($e,function(r){r.lib.Cipher||function(n){var i=r,s=i.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var f=u.Base64,p=i.algo,d=p.EvpKDF,g=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(R,k){return this.create(this._ENC_XFORM_MODE,R,k)},createDecryptor:function(R,k){return this.create(this._DEC_XFORM_MODE,R,k)},init:function(R,k,O){this.cfg=this.cfg.extend(O),this._xformMode=R,this._key=k,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(k){return typeof k=="string"?D:M}return function(k){return{encrypt:function(O,U,N){return R(U).encrypt(k,O,U,N)},decrypt:function(O,U,N){return R(U).decrypt(k,O,U,N)}}}}()});s.StreamCipher=g.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var m=i.mode={},_=s.BlockCipherMode=o.extend({createEncryptor:function(R,k){return this.Encryptor.create(R,k)},createDecryptor:function(R,k){return this.Decryptor.create(R,k)},init:function(R,k){this._cipher=R,this._iv=k}}),S=m.CBC=function(){var R=_.extend();R.Encryptor=R.extend({processBlock:function(O,U){var N=this._cipher,G=N.blockSize;k.call(this,O,U,G),N.encryptBlock(O,U),this._prevBlock=O.slice(U,U+G)}}),R.Decryptor=R.extend({processBlock:function(O,U){var N=this._cipher,G=N.blockSize,Q=O.slice(U,U+G);N.decryptBlock(O,U),k.call(this,O,U,G),this._prevBlock=Q}});function k(O,U,N){var G,Q=this._iv;Q?(G=Q,this._iv=n):G=this._prevBlock;for(var z=0;z<N;z++)O[U+z]^=G[z]}return R}(),T=i.pad={},b=T.Pkcs7={pad:function(R,k){for(var O=k*4,U=O-R.sigBytes%O,N=U<<24|U<<16|U<<8|U,G=[],Q=0;Q<U;Q+=4)G.push(N);var z=a.create(G,U);R.concat(z)},unpad:function(R){var k=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=k}};s.BlockCipher=g.extend({cfg:g.cfg.extend({mode:S,padding:b}),reset:function(){var R;g.reset.call(this);var k=this.cfg,O=k.iv,U=k.mode;this._xformMode==this._ENC_XFORM_MODE?R=U.createEncryptor:(R=U.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,O&&O.words):(this._mode=R.call(U,this,O&&O.words),this._mode.__creator=R)},_doProcessBlock:function(R,k){this._mode.processBlock(R,k)},_doFinalize:function(){var R,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),k.unpad(R)),R},blockSize:128/32});var y=s.CipherParams=o.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),x=i.format={},C=x.OpenSSL={stringify:function(R){var k,O=R.ciphertext,U=R.salt;return U?k=a.create([1398893684,1701076831]).concat(U).concat(O):k=O,k.toString(f)},parse:function(R){var k,O=f.parse(R),U=O.words;return U[0]==1398893684&&U[1]==1701076831&&(k=a.create(U.slice(2,4)),U.splice(0,4),O.sigBytes-=16),y.create({ciphertext:O,salt:k})}},M=s.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(R,k,O,U){U=this.cfg.extend(U);var N=R.createEncryptor(O,U),G=N.finalize(k),Q=N.cfg;return y.create({ciphertext:G,key:O,iv:Q.iv,algorithm:R,mode:Q.mode,padding:Q.padding,blockSize:R.blockSize,formatter:U.format})},decrypt:function(R,k,O,U){U=this.cfg.extend(U),k=this._parse(k,U.format);var N=R.createDecryptor(O,U).finalize(k.ciphertext);return N},_parse:function(R,k){return typeof R=="string"?k.parse(R,this):R}}),I=i.kdf={},A=I.OpenSSL={execute:function(R,k,O,U){U||(U=a.random(64/8));var N=d.create({keySize:k+O}).compute(R,U),G=a.create(N.words.slice(k),O*4);return N.sigBytes=k*4,y.create({key:N,iv:G,salt:U})}},D=s.PasswordBasedCipher=M.extend({cfg:M.cfg.extend({kdf:A}),encrypt:function(R,k,O,U){U=this.cfg.extend(U);var N=U.kdf.execute(O,R.keySize,R.ivSize);U.iv=N.iv;var G=M.encrypt.call(this,R,k,N.key,U);return G.mixIn(N),G},decrypt:function(R,k,O,U){U=this.cfg.extend(U),k=this._parse(k,U.format);var N=U.kdf.execute(O,R.keySize,R.ivSize,k.salt);U.iv=N.iv;var G=M.decrypt.call(this,R,k,N.key,U);return G}})}()})}(yy)),yy.exports}var xy={exports:{}},b2;function GV(){return b2||(b2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;i.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),n.Decryptor=n.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=s.slice(o,o+l);i.call(this,s,o,l,a),this._prevBlock=u}});function i(s,o,a,l){var u,f=this._iv;f?(u=f.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var p=0;p<a;p++)s[o+p]^=u[p]}return n}(),r.mode.CFB})}(xy)),xy.exports}var _y={exports:{}},w2;function WV(){return w2||(w2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0);var p=f.slice(0);a.encryptBlock(p,0),f[l-1]=f[l-1]+1|0;for(var d=0;d<l;d++)s[o+d]^=p[d]}});return n.Decryptor=i,n}(),r.mode.CTR})}(_y)),_y.exports}var by={exports:{}},S2;function $V(){return S2||(S2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,u=a>>8&255,f=a&255;l===255?(l=0,u===255?(u=0,f===255?f=0:++f):++u):++l,a=0,a+=l<<16,a+=u<<8,a+=f}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=n.Encryptor=n.extend({processBlock:function(a,l){var u=this._cipher,f=u.blockSize,p=this._iv,d=this._counter;p&&(d=this._counter=p.slice(0),this._iv=void 0),s(d);var g=d.slice(0);u.encryptBlock(g,0);for(var m=0;m<f;m++)a[l+m]^=g[m]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(by)),by.exports}var wy={exports:{}},E2;function XV(){return E2||(E2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=this._iv,f=this._keystream;u&&(f=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(f,0);for(var p=0;p<l;p++)s[o+p]^=f[p]}});return n.Decryptor=i,n}(),r.mode.OFB})}(wy)),wy.exports}var Sy={exports:{}},T2;function YV(){return T2||(T2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n}(),r.mode.ECB})}(Sy)),Sy.exports}var Ey={exports:{}},C2;function qV(){return C2||(C2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){return r.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,o=i*4,a=o-s%o,l=s+a-1;n.clamp(),n.words[l>>>2]|=a<<24-l%4*8,n.sigBytes+=a},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(Ey)),Ey.exports}var Ty={exports:{}},P2;function KV(){return P2||(P2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){return r.pad.Iso10126={pad:function(n,i){var s=i*4,o=s-n.sigBytes%s;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Ty)),Ty.exports}var Cy={exports:{}},A2;function QV(){return A2||(A2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Cy)),Cy.exports}var Py={exports:{}},R2;function ZV(){return R2||(R2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){return r.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(Py)),Py.exports}var Ay={exports:{}},I2;function JV(){return I2||(I2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Ay)),Ay.exports}var Ry={exports:{}},M2;function e7(){return M2||(M2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Ur())})($e,function(r){return function(n){var i=r,s=i.lib,o=s.CipherParams,a=i.enc,l=a.Hex,u=i.format;u.Hex={stringify:function(f){return f.ciphertext.toString(l)},parse:function(f){var p=l.parse(f);return o.create({ciphertext:p})}}}(),r.format.Hex})}(Ry)),Ry.exports}var Iy={exports:{}},k2;function t7(){return k2||(k2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Gu(),Wu(),ol(),Ur())})($e,function(r){return function(){var n=r,i=n.lib,s=i.BlockCipher,o=n.algo,a=[],l=[],u=[],f=[],p=[],d=[],g=[],m=[],_=[],S=[];(function(){for(var y=[],x=0;x<256;x++)x<128?y[x]=x<<1:y[x]=x<<1^283;for(var C=0,M=0,x=0;x<256;x++){var I=M^M<<1^M<<2^M<<3^M<<4;I=I>>>8^I&255^99,a[C]=I,l[I]=C;var A=y[C],D=y[A],R=y[D],k=y[I]*257^I*16843008;u[C]=k<<24|k>>>8,f[C]=k<<16|k>>>16,p[C]=k<<8|k>>>24,d[C]=k;var k=R*16843009^D*65537^A*257^C*16843008;g[I]=k<<24|k>>>8,m[I]=k<<16|k>>>16,_[I]=k<<8|k>>>24,S[I]=k,C?(C=A^y[y[y[R^A]]],M^=y[y[M]]):C=M=1}})();var T=[0,1,2,4,8,16,32,64,128,27,54],b=o.AES=s.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,C=x.words,M=x.sigBytes/4,I=this._nRounds=M+6,A=(I+1)*4,D=this._keySchedule=[],R=0;R<A;R++)R<M?D[R]=C[R]:(y=D[R-1],R%M?M>6&&R%M==4&&(y=a[y>>>24]<<24|a[y>>>16&255]<<16|a[y>>>8&255]<<8|a[y&255]):(y=y<<8|y>>>24,y=a[y>>>24]<<24|a[y>>>16&255]<<16|a[y>>>8&255]<<8|a[y&255],y^=T[R/M|0]<<24),D[R]=D[R-M]^y);for(var k=this._invKeySchedule=[],O=0;O<A;O++){var R=A-O;if(O%4)var y=D[R];else var y=D[R-4];O<4||R<=4?k[O]=y:k[O]=g[a[y>>>24]]^m[a[y>>>16&255]]^_[a[y>>>8&255]]^S[a[y&255]]}}},encryptBlock:function(y,x){this._doCryptBlock(y,x,this._keySchedule,u,f,p,d,a)},decryptBlock:function(y,x){var C=y[x+1];y[x+1]=y[x+3],y[x+3]=C,this._doCryptBlock(y,x,this._invKeySchedule,g,m,_,S,l);var C=y[x+1];y[x+1]=y[x+3],y[x+3]=C},_doCryptBlock:function(y,x,C,M,I,A,D,R){for(var k=this._nRounds,O=y[x]^C[0],U=y[x+1]^C[1],N=y[x+2]^C[2],G=y[x+3]^C[3],Q=4,z=1;z<k;z++){var F=M[O>>>24]^I[U>>>16&255]^A[N>>>8&255]^D[G&255]^C[Q++],$=M[U>>>24]^I[N>>>16&255]^A[G>>>8&255]^D[O&255]^C[Q++],H=M[N>>>24]^I[G>>>16&255]^A[O>>>8&255]^D[U&255]^C[Q++],L=M[G>>>24]^I[O>>>16&255]^A[U>>>8&255]^D[N&255]^C[Q++];O=F,U=$,N=H,G=L}var F=(R[O>>>24]<<24|R[U>>>16&255]<<16|R[N>>>8&255]<<8|R[G&255])^C[Q++],$=(R[U>>>24]<<24|R[N>>>16&255]<<16|R[G>>>8&255]<<8|R[O&255])^C[Q++],H=(R[N>>>24]<<24|R[G>>>16&255]<<16|R[O>>>8&255]<<8|R[U&255])^C[Q++],L=(R[G>>>24]<<24|R[O>>>16&255]<<16|R[U>>>8&255]<<8|R[N&255])^C[Q++];y[x]=F,y[x+1]=$,y[x+2]=H,y[x+3]=L},keySize:256/32});n.AES=s._createHelper(b)}(),r.AES})}(Iy)),Iy.exports}var My={exports:{}},D2;function r7(){return D2||(D2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Gu(),Wu(),ol(),Ur())})($e,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=i.BlockCipher,a=n.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=a.DES=o.extend({_doReset:function(){for(var T=this._key,b=T.words,y=[],x=0;x<56;x++){var C=l[x]-1;y[x]=b[C>>>5]>>>31-C%32&1}for(var M=this._subKeys=[],I=0;I<16;I++){for(var A=M[I]=[],D=f[I],x=0;x<24;x++)A[x/6|0]|=y[(u[x]-1+D)%28]<<31-x%6,A[4+(x/6|0)]|=y[28+(u[x+24]-1+D)%28]<<31-x%6;A[0]=A[0]<<1|A[0]>>>31;for(var x=1;x<7;x++)A[x]=A[x]>>>(x-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var R=this._invSubKeys=[],x=0;x<16;x++)R[x]=M[15-x]},encryptBlock:function(T,b){this._doCryptBlock(T,b,this._subKeys)},decryptBlock:function(T,b){this._doCryptBlock(T,b,this._invSubKeys)},_doCryptBlock:function(T,b,y){this._lBlock=T[b],this._rBlock=T[b+1],m.call(this,4,252645135),m.call(this,16,65535),_.call(this,2,858993459),_.call(this,8,16711935),m.call(this,1,1431655765);for(var x=0;x<16;x++){for(var C=y[x],M=this._lBlock,I=this._rBlock,A=0,D=0;D<8;D++)A|=p[D][((I^C[D])&d[D])>>>0];this._lBlock=I,this._rBlock=M^A}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,m.call(this,1,1431655765),_.call(this,8,16711935),_.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),T[b]=this._lBlock,T[b+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(T,b){var y=(this._lBlock>>>T^this._rBlock)&b;this._rBlock^=y,this._lBlock^=y<<T}function _(T,b){var y=(this._rBlock>>>T^this._lBlock)&b;this._lBlock^=y,this._rBlock^=y<<T}n.DES=o._createHelper(g);var S=a.TripleDES=o.extend({_doReset:function(){var T=this._key,b=T.words;if(b.length!==2&&b.length!==4&&b.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=b.slice(0,2),x=b.length<4?b.slice(0,2):b.slice(2,4),C=b.length<6?b.slice(0,2):b.slice(4,6);this._des1=g.createEncryptor(s.create(y)),this._des2=g.createEncryptor(s.create(x)),this._des3=g.createEncryptor(s.create(C))},encryptBlock:function(T,b){this._des1.encryptBlock(T,b),this._des2.decryptBlock(T,b),this._des3.encryptBlock(T,b)},decryptBlock:function(T,b){this._des3.decryptBlock(T,b),this._des2.encryptBlock(T,b),this._des1.decryptBlock(T,b)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(S)}(),r.TripleDES})}(My)),My.exports}var ky={exports:{}},O2;function n7(){return O2||(O2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Gu(),Wu(),ol(),Ur())})($e,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,o=n.algo,a=o.RC4=s.extend({_doReset:function(){for(var f=this._key,p=f.words,d=f.sigBytes,g=this._S=[],m=0;m<256;m++)g[m]=m;for(var m=0,_=0;m<256;m++){var S=m%d,T=p[S>>>2]>>>24-S%4*8&255;_=(_+g[m]+T)%256;var b=g[m];g[m]=g[_],g[_]=b}this._i=this._j=0},_doProcessBlock:function(f,p){f[p]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var f=this._S,p=this._i,d=this._j,g=0,m=0;m<4;m++){p=(p+1)%256,d=(d+f[p])%256;var _=f[p];f[p]=f[d],f[d]=_,g|=f[(f[p]+f[d])%256]<<24-m*8}return this._i=p,this._j=d,g}n.RC4=s._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)l.call(this)}});n.RC4Drop=s._createHelper(u)}(),r.RC4})}(ky)),ky.exports}var Dy={exports:{}},B2;function i7(){return B2||(B2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Gu(),Wu(),ol(),Ur())})($e,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,o=n.algo,a=[],l=[],u=[],f=o.Rabbit=s.extend({_doReset:function(){for(var d=this._key.words,g=this.cfg.iv,m=0;m<4;m++)d[m]=(d[m]<<8|d[m]>>>24)&16711935|(d[m]<<24|d[m]>>>8)&4278255360;var _=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],S=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var m=0;m<4;m++)p.call(this);for(var m=0;m<8;m++)S[m]^=_[m+4&7];if(g){var T=g.words,b=T[0],y=T[1],x=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,C=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,M=x>>>16|C&4294901760,I=C<<16|x&65535;S[0]^=x,S[1]^=M,S[2]^=C,S[3]^=I,S[4]^=x,S[5]^=M,S[6]^=C,S[7]^=I;for(var m=0;m<4;m++)p.call(this)}},_doProcessBlock:function(d,g){var m=this._X;p.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var _=0;_<4;_++)a[_]=(a[_]<<8|a[_]>>>24)&16711935|(a[_]<<24|a[_]>>>8)&4278255360,d[g+_]^=a[_]},blockSize:128/32,ivSize:64/32});function p(){for(var d=this._X,g=this._C,m=0;m<8;m++)l[m]=g[m];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<l[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<l[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<l[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<l[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<l[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<l[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<l[6]>>>0?1:0)|0,this._b=g[7]>>>0<l[7]>>>0?1:0;for(var m=0;m<8;m++){var _=d[m]+g[m],S=_&65535,T=_>>>16,b=((S*S>>>17)+S*T>>>15)+T*T,y=((_&4294901760)*_|0)+((_&65535)*_|0);u[m]=b^y}d[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,d[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,d[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,d[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,d[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,d[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,d[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,d[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=s._createHelper(f)}(),r.Rabbit})}(Dy)),Dy.exports}var Oy={exports:{}},N2;function s7(){return N2||(N2=1,function(t,e){(function(r,n,i){t.exports=n(ot(),Gu(),Wu(),ol(),Ur())})($e,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,o=n.algo,a=[],l=[],u=[],f=o.RabbitLegacy=s.extend({_doReset:function(){var d=this._key.words,g=this.cfg.iv,m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],_=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var S=0;S<4;S++)p.call(this);for(var S=0;S<8;S++)_[S]^=m[S+4&7];if(g){var T=g.words,b=T[0],y=T[1],x=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,C=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,M=x>>>16|C&4294901760,I=C<<16|x&65535;_[0]^=x,_[1]^=M,_[2]^=C,_[3]^=I,_[4]^=x,_[5]^=M,_[6]^=C,_[7]^=I;for(var S=0;S<4;S++)p.call(this)}},_doProcessBlock:function(d,g){var m=this._X;p.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var _=0;_<4;_++)a[_]=(a[_]<<8|a[_]>>>24)&16711935|(a[_]<<24|a[_]>>>8)&4278255360,d[g+_]^=a[_]},blockSize:128/32,ivSize:64/32});function p(){for(var d=this._X,g=this._C,m=0;m<8;m++)l[m]=g[m];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<l[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<l[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<l[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<l[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<l[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<l[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<l[6]>>>0?1:0)|0,this._b=g[7]>>>0<l[7]>>>0?1:0;for(var m=0;m<8;m++){var _=d[m]+g[m],S=_&65535,T=_>>>16,b=((S*S>>>17)+S*T>>>15)+T*T,y=((_&4294901760)*_|0)+((_&65535)*_|0);u[m]=b^y}d[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,d[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,d[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,d[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,d[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,d[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,d[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,d[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=s._createHelper(f)}(),r.RabbitLegacy})}(Oy)),Oy.exports}(function(t,e){(function(r,n,i){t.exports=n(ot(),vm(),NV(),FV(),Gu(),LV(),Wu(),Pb(),wk(),UV(),Sk(),zV(),HV(),VV(),Ab(),jV(),ol(),Ur(),GV(),WV(),$V(),XV(),YV(),qV(),KV(),QV(),ZV(),JV(),e7(),t7(),r7(),n7(),i7(),s7())})($e,function(r){return r})})(bk);var o7=bk.exports;const By=Ja(o7);var Ek={exports:{}},Tk=a7,F2=+(Math.pow(2,27)+1);function a7(t,e,r){var n=t*e,i=F2*t,s=i-t,o=i-s,a=t-o,l=F2*e,u=l-e,f=l-u,p=e-f,d=n-o*f,g=d-a*f,m=g-o*p,_=a*p-m;return r?(r[0]=_,r[1]=n,r):[_,n]}var l7=c7;function u7(t,e){var r=t+e,n=r-t,i=r-n,s=e-n,o=t-i,a=o+s;return a?[a,r]:[r]}function c7(t,e){var r=t.length|0,n=e.length|0;if(r===1&&n===1)return u7(t[0],e[0]);var i=r+n,s=new Array(i),o=0,a=0,l=0,u=Math.abs,f=t[a],p=u(f),d=e[l],g=u(d),m,_;p<g?(_=f,a+=1,a<r&&(f=t[a],p=u(f))):(_=d,l+=1,l<n&&(d=e[l],g=u(d))),a<r&&p<g||l>=n?(m=f,a+=1,a<r&&(f=t[a],p=u(f))):(m=d,l+=1,l<n&&(d=e[l],g=u(d)));for(var S=m+_,T=S-m,b=_-T,y=b,x=S,C,M,I,A,D;a<r&&l<n;)p<g?(m=f,a+=1,a<r&&(f=t[a],p=u(f))):(m=d,l+=1,l<n&&(d=e[l],g=u(d))),_=y,S=m+_,T=S-m,b=_-T,b&&(s[o++]=b),C=x+S,M=C-x,I=C-M,A=S-M,D=x-I,y=D+A,x=C;for(;a<r;)m=f,_=y,S=m+_,T=S-m,b=_-T,b&&(s[o++]=b),C=x+S,M=C-x,I=C-M,A=S-M,D=x-I,y=D+A,x=C,a+=1,a<r&&(f=t[a]);for(;l<n;)m=d,_=y,S=m+_,T=S-m,b=_-T,b&&(s[o++]=b),C=x+S,M=C-x,I=C-M,A=S-M,D=x-I,y=D+A,x=C,l+=1,l<n&&(d=e[l]);return y&&(s[o++]=y),x&&(s[o++]=x),o||(s[o++]=0),s.length=o,s}var h7=f7;function f7(t,e,r){var n=t+e,i=n-t,s=n-i,o=e-i,a=t-s;return r?(r[0]=a+o,r[1]=n,r):[a+o,n]}var Ny=Tk,d7=h7,p7=m7;function m7(t,e){var r=t.length;if(r===1){var n=Ny(t[0],e);return n[0]?n:[n[1]]}var i=new Array(2*r),s=[.1,.1],o=[.1,.1],a=0;Ny(t[0],e,s),s[0]&&(i[a++]=s[0]);for(var l=1;l<r;++l){Ny(t[l],e,o);var u=s[1];d7(u,o[0],s),s[0]&&(i[a++]=s[0]);var f=o[1],p=s[1],d=f+p,g=d-f,m=p-g;s[1]=d,m&&(i[a++]=m)}return s[1]&&(i[a++]=s[1]),a===0&&(i[a++]=0),i.length=a,i}var g7=y7;function v7(t,e){var r=t+e,n=r-t,i=r-n,s=e-n,o=t-i,a=o+s;return a?[a,r]:[r]}function y7(t,e){var r=t.length|0,n=e.length|0;if(r===1&&n===1)return v7(t[0],-e[0]);var i=r+n,s=new Array(i),o=0,a=0,l=0,u=Math.abs,f=t[a],p=u(f),d=-e[l],g=u(d),m,_;p<g?(_=f,a+=1,a<r&&(f=t[a],p=u(f))):(_=d,l+=1,l<n&&(d=-e[l],g=u(d))),a<r&&p<g||l>=n?(m=f,a+=1,a<r&&(f=t[a],p=u(f))):(m=d,l+=1,l<n&&(d=-e[l],g=u(d)));for(var S=m+_,T=S-m,b=_-T,y=b,x=S,C,M,I,A,D;a<r&&l<n;)p<g?(m=f,a+=1,a<r&&(f=t[a],p=u(f))):(m=d,l+=1,l<n&&(d=-e[l],g=u(d))),_=y,S=m+_,T=S-m,b=_-T,b&&(s[o++]=b),C=x+S,M=C-x,I=C-M,A=S-M,D=x-I,y=D+A,x=C;for(;a<r;)m=f,_=y,S=m+_,T=S-m,b=_-T,b&&(s[o++]=b),C=x+S,M=C-x,I=C-M,A=S-M,D=x-I,y=D+A,x=C,a+=1,a<r&&(f=t[a]);for(;l<n;)m=d,_=y,S=m+_,T=S-m,b=_-T,b&&(s[o++]=b),C=x+S,M=C-x,I=C-M,A=S-M,D=x-I,y=D+A,x=C,l+=1,l<n&&(d=-e[l]);return y&&(s[o++]=y),x&&(s[o++]=x),o||(s[o++]=0),s.length=o,s}(function(t){var e=Tk,r=l7,n=p7,i=g7,s=5,o=11102230246251565e-32,a=(3+16*o)*o,l=(7+56*o)*o;function u(y,x,C,M){return function(A,D,R){var k=y(y(x(D[1],R[0]),x(-R[1],D[0])),y(x(A[1],D[0]),x(-D[1],A[0]))),O=y(x(A[1],R[0]),x(-R[1],A[0])),U=M(k,O);return U[U.length-1]}}function f(y,x,C,M){return function(A,D,R,k){var O=y(y(C(y(x(R[1],k[0]),x(-k[1],R[0])),D[2]),y(C(y(x(D[1],k[0]),x(-k[1],D[0])),-R[2]),C(y(x(D[1],R[0]),x(-R[1],D[0])),k[2]))),y(C(y(x(D[1],k[0]),x(-k[1],D[0])),A[2]),y(C(y(x(A[1],k[0]),x(-k[1],A[0])),-D[2]),C(y(x(A[1],D[0]),x(-D[1],A[0])),k[2])))),U=y(y(C(y(x(R[1],k[0]),x(-k[1],R[0])),A[2]),y(C(y(x(A[1],k[0]),x(-k[1],A[0])),-R[2]),C(y(x(A[1],R[0]),x(-R[1],A[0])),k[2]))),y(C(y(x(D[1],R[0]),x(-R[1],D[0])),A[2]),y(C(y(x(A[1],R[0]),x(-R[1],A[0])),-D[2]),C(y(x(A[1],D[0]),x(-D[1],A[0])),R[2])))),N=M(O,U);return N[N.length-1]}}function p(y,x,C,M){return function(A,D,R,k,O){var U=y(y(y(C(y(C(y(x(k[1],O[0]),x(-O[1],k[0])),R[2]),y(C(y(x(R[1],O[0]),x(-O[1],R[0])),-k[2]),C(y(x(R[1],k[0]),x(-k[1],R[0])),O[2]))),D[3]),y(C(y(C(y(x(k[1],O[0]),x(-O[1],k[0])),D[2]),y(C(y(x(D[1],O[0]),x(-O[1],D[0])),-k[2]),C(y(x(D[1],k[0]),x(-k[1],D[0])),O[2]))),-R[3]),C(y(C(y(x(R[1],O[0]),x(-O[1],R[0])),D[2]),y(C(y(x(D[1],O[0]),x(-O[1],D[0])),-R[2]),C(y(x(D[1],R[0]),x(-R[1],D[0])),O[2]))),k[3]))),y(C(y(C(y(x(R[1],k[0]),x(-k[1],R[0])),D[2]),y(C(y(x(D[1],k[0]),x(-k[1],D[0])),-R[2]),C(y(x(D[1],R[0]),x(-R[1],D[0])),k[2]))),-O[3]),y(C(y(C(y(x(k[1],O[0]),x(-O[1],k[0])),D[2]),y(C(y(x(D[1],O[0]),x(-O[1],D[0])),-k[2]),C(y(x(D[1],k[0]),x(-k[1],D[0])),O[2]))),A[3]),C(y(C(y(x(k[1],O[0]),x(-O[1],k[0])),A[2]),y(C(y(x(A[1],O[0]),x(-O[1],A[0])),-k[2]),C(y(x(A[1],k[0]),x(-k[1],A[0])),O[2]))),-D[3])))),y(y(C(y(C(y(x(D[1],O[0]),x(-O[1],D[0])),A[2]),y(C(y(x(A[1],O[0]),x(-O[1],A[0])),-D[2]),C(y(x(A[1],D[0]),x(-D[1],A[0])),O[2]))),k[3]),y(C(y(C(y(x(D[1],k[0]),x(-k[1],D[0])),A[2]),y(C(y(x(A[1],k[0]),x(-k[1],A[0])),-D[2]),C(y(x(A[1],D[0]),x(-D[1],A[0])),k[2]))),-O[3]),C(y(C(y(x(R[1],k[0]),x(-k[1],R[0])),D[2]),y(C(y(x(D[1],k[0]),x(-k[1],D[0])),-R[2]),C(y(x(D[1],R[0]),x(-R[1],D[0])),k[2]))),A[3]))),y(C(y(C(y(x(R[1],k[0]),x(-k[1],R[0])),A[2]),y(C(y(x(A[1],k[0]),x(-k[1],A[0])),-R[2]),C(y(x(A[1],R[0]),x(-R[1],A[0])),k[2]))),-D[3]),y(C(y(C(y(x(D[1],k[0]),x(-k[1],D[0])),A[2]),y(C(y(x(A[1],k[0]),x(-k[1],A[0])),-D[2]),C(y(x(A[1],D[0]),x(-D[1],A[0])),k[2]))),R[3]),C(y(C(y(x(D[1],R[0]),x(-R[1],D[0])),A[2]),y(C(y(x(A[1],R[0]),x(-R[1],A[0])),-D[2]),C(y(x(A[1],D[0]),x(-D[1],A[0])),R[2]))),-k[3]))))),N=y(y(y(C(y(C(y(x(k[1],O[0]),x(-O[1],k[0])),R[2]),y(C(y(x(R[1],O[0]),x(-O[1],R[0])),-k[2]),C(y(x(R[1],k[0]),x(-k[1],R[0])),O[2]))),A[3]),C(y(C(y(x(k[1],O[0]),x(-O[1],k[0])),A[2]),y(C(y(x(A[1],O[0]),x(-O[1],A[0])),-k[2]),C(y(x(A[1],k[0]),x(-k[1],A[0])),O[2]))),-R[3])),y(C(y(C(y(x(R[1],O[0]),x(-O[1],R[0])),A[2]),y(C(y(x(A[1],O[0]),x(-O[1],A[0])),-R[2]),C(y(x(A[1],R[0]),x(-R[1],A[0])),O[2]))),k[3]),C(y(C(y(x(R[1],k[0]),x(-k[1],R[0])),A[2]),y(C(y(x(A[1],k[0]),x(-k[1],A[0])),-R[2]),C(y(x(A[1],R[0]),x(-R[1],A[0])),k[2]))),-O[3]))),y(y(C(y(C(y(x(R[1],O[0]),x(-O[1],R[0])),D[2]),y(C(y(x(D[1],O[0]),x(-O[1],D[0])),-R[2]),C(y(x(D[1],R[0]),x(-R[1],D[0])),O[2]))),A[3]),C(y(C(y(x(R[1],O[0]),x(-O[1],R[0])),A[2]),y(C(y(x(A[1],O[0]),x(-O[1],A[0])),-R[2]),C(y(x(A[1],R[0]),x(-R[1],A[0])),O[2]))),-D[3])),y(C(y(C(y(x(D[1],O[0]),x(-O[1],D[0])),A[2]),y(C(y(x(A[1],O[0]),x(-O[1],A[0])),-D[2]),C(y(x(A[1],D[0]),x(-D[1],A[0])),O[2]))),R[3]),C(y(C(y(x(D[1],R[0]),x(-R[1],D[0])),A[2]),y(C(y(x(A[1],R[0]),x(-R[1],A[0])),-D[2]),C(y(x(A[1],D[0]),x(-D[1],A[0])),R[2]))),-O[3])))),G=M(U,N);return G[G.length-1]}}function d(y){var x=y===3?u:y===4?f:p;return x(r,e,n,i)}var g=d(3),m=d(4),_=[function(){return 0},function(){return 0},function(x,C){return C[0]-x[0]},function(x,C,M){var I=(x[1]-M[1])*(C[0]-M[0]),A=(x[0]-M[0])*(C[1]-M[1]),D=I-A,R;if(I>0){if(A<=0)return D;R=I+A}else if(I<0){if(A>=0)return D;R=-(I+A)}else return D;var k=a*R;return D>=k||D<=-k?D:g(x,C,M)},function(x,C,M,I){var A=x[0]-I[0],D=C[0]-I[0],R=M[0]-I[0],k=x[1]-I[1],O=C[1]-I[1],U=M[1]-I[1],N=x[2]-I[2],G=C[2]-I[2],Q=M[2]-I[2],z=D*U,F=R*O,$=R*k,H=A*U,L=A*O,j=D*k,Y=N*(z-F)+G*($-H)+Q*(L-j),W=(Math.abs(z)+Math.abs(F))*Math.abs(N)+(Math.abs($)+Math.abs(H))*Math.abs(G)+(Math.abs(L)+Math.abs(j))*Math.abs(Q),de=l*W;return Y>de||-Y>de?Y:m(x,C,M,I)}];function S(y){var x=_[y.length];return x||(x=_[y.length]=d(y.length)),x.apply(void 0,y)}function T(y,x,C,M,I,A,D){return function(k,O,U,N,G){switch(arguments.length){case 0:case 1:return 0;case 2:return M(k,O);case 3:return I(k,O,U);case 4:return A(k,O,U,N);case 5:return D(k,O,U,N,G)}for(var Q=new Array(arguments.length),z=0;z<arguments.length;++z)Q[z]=arguments[z];return y(Q)}}function b(){for(;_.length<=s;)_.push(d(_.length));t.exports=T.apply(void 0,[S].concat(_));for(var y=0;y<=s;++y)t.exports[y]=_[y]}b()})(Ek);var x7=Ek.exports,_7=b7,Jd=x7;function b7(t,e){for(var r=e[0],n=e[1],i=t.length,s=1,o=i,a=0,l=i-1;a<o;l=a++){var u=t[a],f=t[l],p=u[1],d=f[1];if(d<p){if(d<n&&n<p){var g=Jd(u,f,e);if(g===0)return 0;s^=0<g|0}else if(n===p){var m=t[(a+1)%i],_=m[1];if(p<_){var g=Jd(u,f,e);if(g===0)return 0;s^=0<g|0}}}else if(p<d){if(p<n&&n<d){var g=Jd(u,f,e);if(g===0)return 0;s^=g<0|0}else if(n===p){var m=t[(a+1)%i],_=m[1];if(_<p){var g=Jd(u,f,e);if(g===0)return 0;s^=g<0|0}}}else if(n===p){var S=Math.min(u[0],f[0]),T=Math.max(u[0],f[0]);if(a===0){for(;l>0;){var b=(l+i-1)%i,y=t[b];if(y[1]!==n)break;var x=y[0];S=Math.min(S,x),T=Math.max(T,x),l=b}if(l===0)return S<=r&&r<=T?0:1;o=l+1}for(var C=t[(l+i-1)%i][1];a+1<o;){var y=t[a+1];if(y[1]!==n)break;var x=y[0];S=Math.min(S,x),T=Math.max(T,x),a+=1}if(S<=r&&r<=T)return 0;var M=t[(a+1)%i][1];r<S&&C<n!=M<n&&(s^=1)}}return 2*s-1}const w7=Ja(_7);function Ck(t,e){const r=t.map(n=>n.clone());for(let n=0;n<t.length;n++)if(t[n].x<0){r[n].x=e.x+t[n].x;const i=new Ar(t[n].x-r[n].x,t[n].y-r[n].y);for(let s=0;s<t.length;s++)r[s].x=t[s].x-i.x,r[s].y=t[s].y-i.y}else if(t[n].x>e.x){r[n].x=t[n].x-e.x;const i=new Ar(t[n].x-r[n].x,t[n].y-r[n].y);for(let s=0;s<t.length;s++)r[s].x=t[s].x-i.x,r[s].y=t[s].y-i.y}else if(t[n].y<0){r[n].y=e.y+t[n].y;const i=new Ar(t[n].x-r[n].x,t[n].y-r[n].y);for(let s=0;s<t.length;s++)r[s].x=t[s].x-i.x,r[s].y=t[s].y-i.y}else if(t[n].y>e.y){r[n].y=t[n].y-e.y;const i=new Ar(t[n].x-r[n].x,t[n].y-r[n].y);for(let s=0;s<t.length;s++)r[s].x=t[s].x-i.x,r[s].y=t[s].y-i.y}return r}function ep(t,e){if(e.length==0)return!1;let r=e[0].x,n=e[0].x,i=e[0].y,s=e[0].y;for(let o=1;o<e.length;o++){const a=e[o];r=Math.min(a.x,r),n=Math.max(a.x,n),i=Math.min(a.y,i),s=Math.max(a.y,s)}return t.x<r||t.x>n||t.y<i||t.y>s?!1:w7(e.map(o=>[o.x,o.y]),[t.x,t.y])<=0}function Pk(t,e,r=1){const n=t[0].x,i=t[0].y;e+=180;for(let s=1;s<t.length-1;s++){const o=t[s].x,a=t[s].y,l=n+(o-n)*r*Math.cos(e*Math.PI/180)-(i-a)*r*Math.sin(e*Math.PI/180),u=i+(i-a)*r*Math.cos(e*Math.PI/180)+(o-n)*r*Math.sin(e*Math.PI/180);t[s]=new ye(l,u)}return t}async function L1(t,e,r={}){const n="https://asteroids-api.notaroomba.dev",i=Date.now().toString(),s=JSON.stringify(r),o=By.enc.Hex.stringify(By.HmacSHA256(i+e+t+By.MD5(s).toString(),Math.floor(Date.now()/(30*1e3)).toString())),a=`HMAC ${i}:${o}`;return e==="POST"?await(await fetch(n+t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a},body:JSON.stringify(r)})).json():await(await fetch(n+t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a}})).json()}function U1(t,e=!0){return t.sort((r,n)=>n.score-r.score),t.length<5&&(t=t.concat(Array(5-t.length).fill({name:"Unknown",score:0,level:0}))),e?t.slice(0,5):t}class Rb{constructor(e,r,n){Sr(this,"pos");Sr(this,"vel");Sr(this,"s");Sr(this,"r");Sr(this,"points");Sr(this,"altPoints");Sr(this,"bounds");Sr(this,"altBounds");this.pos=e,this.vel=r,this.s=n,this.r=Math.random()*360,this.points=[],this.altPoints=[],this.bounds=new qe,this.altBounds=new qe}move(e,r){return this.pos.x+=this.vel.x*e,this.pos.y+=this.vel.y*e,r}addVel(e,r){this.vel.x+=e.x*r,this.vel.y+=e.y*r}addRot(e){this.r+=e}draw(e,r=1){const n=this.pos.x,i=this.pos.y,s=Pk([new ye(n,i),new ye(n+2,i-1),new ye(n+3,i+1),new ye(n+4,i+3),new ye(n+2,i+5),new ye(n+2,i+6),new ye(n+3,i+7),new ye(n-1,i+9),new ye(n-3,i+7),new ye(n-4,i+8),new ye(n-6,i+7),new ye(n-6,i+4),new ye(n-5,i+2),new ye(n-5,i-0),new ye(n-3,i+1),new ye(n-3,i-1),new ye(n,i)],this.r,this.s),o=Ck(s,e),a=u=>{u.clear(),u.lineStyle(2,"#ffffff"),u.drawPolygon(s)},l=u=>{u.clear(),u.lineStyle(2,"#ffffff"),u.drawPolygon(o)};return this.points=s,this.altPoints=o,this.pos.x=s[0].x<0||s[0].x>e.x||s[0].y<0||s[0].y>e.y?o[0].x:s[0].x,this.pos.y=s[0].x<0||s[0].x>e.x||s[0].y<0||s[0].y>e.y?o[0].y:s[0].y,[ae.jsx(_s.Graphics,{draw:a},r*Math.random()*1e3),ae.jsx(_s.Graphics,{draw:l},r*Math.random()*1e3)]}}class S7 extends Rb{constructor(){super(...arguments);Sr(this,"isMoving",!1)}super(r,n,i){this.pos=r,this.vel=n,this.s=i,this.r=0,this.points=[],this.altPoints=[]}move(r,n){return this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,this.isMoving=!0,n}draw(r,n=1){const i=this.pos.x,s=this.pos.y,o=[new ye(i,s),new ye(i-6,s-24),new ye(i,s-36),new ye(i+6,s-24),new ye(i,s)];let a=[new ye(i,s),new ye(i+8,s-32),new ye(i,s-20),new ye(i-8,s-32)];this.isMoving?a.push(...o):a.push(new ye(i,s)),a=Pk(a,this.r,this.s);const l=Ck(a,r),u=p=>{p.clear(),p.lineStyle(2,"#ffffff"),p.drawPolygon(a)},f=p=>{p.clear(),p.lineStyle(2,"#ffffff"),p.drawPolygon(l)};return this.points=a,this.altPoints=l,this.pos.x=a[0].x<0||a[0].x>r.x||a[0].y<0||a[0].y>r.y?l[0].x:a[0].x,this.pos.y=a[0].x<0||a[0].x>r.x||a[0].y<0||a[0].y>r.y?l[0].y:a[0].y,[ae.jsx(_s.Graphics,{draw:u},n*Math.random()*1e3),ae.jsx(_s.Graphics,{draw:f},n*Math.random()*1e3)]}}class Ar{constructor(e,r){Sr(this,"x");Sr(this,"y");this.x=e,this.y=r}}class L2{constructor(e){Sr(this,"asteroids");Sr(this,"ship");Sr(this,"bullets");Sr(this,"score");Sr(this,"level");Sr(this,"done");this.asteroids=[],this.ship=new S7(new Ar(e.x/2,e.y/2),new Ar(0,0),1.5),this.bullets=[],this.score=0,this.level=0,this.done=!1}}class x0 extends Rb{super(e,r,n){this.pos=e,this.vel=r,this.s=n,this.r=Math.random()*360,this.points=[],this.altPoints=[]}move(e,r){this.pos.x+=this.vel.x*e,this.pos.y+=this.vel.y*e;for(let n=0;n<r.bullets.length;n++)if(ep(r.bullets[n].pos,this.points)||ep(r.bullets[n].pos,this.altPoints)){this.s>5?(r.asteroids.push(new x0(new Ar(this.pos.x+Math.random()*10,this.pos.y+Math.random()*10),new Ar((Math.random()-.5)*.75,(Math.random()-.5)*.75),this.s/2)),r.asteroids.push(new x0(new Ar(this.pos.x+Math.random()*10,this.pos.y+Math.random()*10),new Ar((Math.random()-.5)*.75,(Math.random()-.5)*.75),this.s/2))):r.score+=0,r.score+=parseInt((5/this.s*10).toFixed(0)),r.asteroids.splice(r.asteroids.indexOf(this),1),r.bullets.splice(r.bullets.indexOf(r.bullets[n]),1);break}for(let n=0;n<r.ship.points.length;n++)(ep(r.ship.points[n],this.points)||ep(r.ship.points[n],this.altPoints))&&(r.done=!0);return r}}class E7 extends Rb{super(e,r,n){this.pos=e,this.vel=r,this.s=n,this.r=0}draw(e,r=1){const n=this.pos.x,i=this.pos.y,s=[new ye(n,i),new ye(n+2,i-2),new ye(n+2,i-2),new ye(n+2,i-2),new ye(n+2,i+2),new ye(n,i)].map(a=>new ye((a.x-n)*this.s+n,(a.y-i)*this.s+i)),o=a=>{a.clear(),a.lineStyle(2,"#ffffff"),a.drawPolygon(s)};return[ae.jsx(_s.Graphics,{draw:o},r*Math.random()*1e3)]}}const U2=.05,z2=10;let Qe;function Ib({player:t,screen:e,count:r,setLevel:n,setScore:i,gameOver:s}){const[o,a]=J.useState({forward:!1,space:!1,left:!1,right:!1});J.useEffect(()=>{const f=d=>{d.preventDefault(),d.key==" "&&a({...o,space:!0}),(d.key=="w"||d.key=="ArrowUp")&&a({...o,forward:!0}),(d.key=="a"||d.key=="ArrowLeft")&&a({...o,left:!0}),(d.key=="d"||d.key=="ArrowRight")&&a({...o,right:!0})},p=d=>{d.preventDefault(),d.key==" "&&a({...o,space:!1}),(d.key=="w"||d.key=="ArrowUp")&&a({...o,forward:!1}),(d.key=="a"||d.key=="ArrowLeft")&&a({...o,left:!1}),(d.key=="d"||d.key=="ArrowRight")&&a({...o,right:!1})};return document.onkeydown=f,document.onkeyup=p,()=>{document.onkeydown=null,document.onkeyup=null}},[o]);const[l,u]=J.useState(0);return Qe==null&&(Qe=new L2(e)),_s.useTick(f=>{if(u(l+1),!Qe.done||!t){if((Qe.score==0&&Qe.level>=1&&Qe.asteroids.length>10&&t||!t&&Qe.ship.vel.x!=0)&&(Qe=new L2(e)),Qe.asteroids.length==0){Qe.level++,n(Qe.level);for(let d=0;d<r+Qe.level*2;d++){const g=new Ar(0,0);let m=0;do g.x=Math.random()*e.x,g.y=Math.random()*e.y,m=Math.random()*12+5;while(Math.sqrt(Math.pow(g.x-Qe.ship.pos.x,2)+Math.pow(g.y-Qe.ship.pos.y,2))+m<200);Qe.asteroids.push(new x0(g,new Ar((Math.random()-.5)*.75,(Math.random()-.5)*.75),m))}}let p=!1;t&&(o.forward==!0&&(Qe.ship.addVel(new Ar(U2*Math.sin(-Qe.ship.r*Math.PI/180),U2*Math.cos(-Qe.ship.r*Math.PI/180)),f),p=p||!0),o.left&&Qe.ship.addRot(-2),o.right&&Qe.ship.addRot(2),o.space&&(Qe.bullets.push(new E7(new Ar(Qe.ship.pos.x,Qe.ship.pos.y),new Ar(z2*Math.sin(-Qe.ship.r*Math.PI/180),z2*Math.cos(-Qe.ship.r*Math.PI/180)),1)),a({...o,space:!1}))),t&&Qe.ship.move(f,Qe),p||(Qe.ship.isMoving=!1,p=!1),Qe.asteroids.forEach(d=>{d.move(f,Qe)}),i(Qe.score),Qe.bullets.forEach(d=>{if(d.pos.x>e.x||d.pos.x<0||d.pos.y>e.y||d.pos.y<0)return Qe==null?void 0:Qe.bullets.splice(Qe.bullets.indexOf(d),1);d.move(f,Qe)})}else return document.onkeydown=null,document.onkeyup=null,s()}),ae.jsxs(ae.Fragment,{children:[Qe.asteroids.map((f,p)=>f.draw(e,p+3)),Qe.bullets.map((f,p)=>f.draw(e,p+2)),t?Qe.ship.draw(e):ae.jsx(_s.Graphics,{})]})}const Ak=J.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ym=J.createContext({}),Mb=J.createContext(null),xm=typeof document<"u",H2=xm?J.useLayoutEffect:J.useEffect,Rk=J.createContext({strict:!1});function T7(t,e,r,n){const{visualElement:i}=J.useContext(ym),s=J.useContext(Rk),o=J.useContext(Mb),a=J.useContext(Ak).reducedMotion,l=J.useRef();n=n||s.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return J.useInsertionEffect(()=>{u&&u.update(r,o)}),H2(()=>{u&&u.render()}),J.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?H2:J.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function eu(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function C7(t,e,r){return J.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):eu(r)&&(r.current=n))},[e])}function Wh(t){return typeof t=="string"||Array.isArray(t)}function _m(t){return typeof t=="object"&&typeof t.start=="function"}const kb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Db=["initial",...kb];function bm(t){return _m(t.animate)||Db.some(e=>Wh(t[e]))}function Ik(t){return!!(bm(t)||t.variants)}function P7(t,e){if(bm(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Wh(r)?r:void 0,animate:Wh(n)?n:void 0}}return t.inherit!==!1?e:{}}function A7(t){const{initial:e,animate:r}=P7(t,J.useContext(ym));return J.useMemo(()=>({initial:e,animate:r}),[V2(e),V2(r)])}function V2(t){return Array.isArray(t)?t.join(" "):t}const j2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$h={};for(const t in j2)$h[t]={isEnabled:e=>j2[t].some(r=>!!e[r])};function R7(t){for(const e in t)$h[e]={...$h[e],...t[e]}}const Mk=J.createContext({}),kk=J.createContext({}),I7=Symbol.for("motionComponentSymbol");function M7({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&R7(t);function s(a,l){let u;const f={...J.useContext(Ak),...a,layoutId:k7(a)},{isStatic:p}=f,d=A7(a),g=n(a,p);if(!p&&xm){d.visualElement=T7(i,g,f,e);const m=J.useContext(kk),_=J.useContext(Rk).strict;d.visualElement&&(u=d.visualElement.loadFeatures(f,_,t,m))}return J.createElement(ym.Provider,{value:d},u&&d.visualElement?J.createElement(u,{visualElement:d.visualElement,...f}):null,r(i,a,C7(g,d.visualElement,l),g,p,d.visualElement))}const o=J.forwardRef(s);return o[I7]=i,o}function k7({layoutId:t}){const e=J.useContext(Mk).id;return e&&t!==void 0?e+"-"+t:t}function D7(t){function e(n,i={}){return M7(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const O7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ob(t){return typeof t!="string"||t.includes("-")?!1:!!(O7.indexOf(t)>-1||/[A-Z]/.test(t))}const _0={};function B7(t){Object.assign(_0,t)}const uf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(uf);function Dk(t,{layout:e,layoutId:r}){return al.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!_0[t]||t==="opacity")}const Sn=t=>!!(t&&t.getVelocity),N7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F7=uf.length;function L7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let s="";for(let o=0;o<F7;o++){const a=uf[o];if(t[a]!==void 0){const l=N7[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,n?"":s):r&&n&&(s="none"),s}const Ok=t=>e=>typeof e=="string"&&e.startsWith(t),Bk=Ok("--"),z1=Ok("var(--"),U7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,z7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ko=(t,e,r)=>Math.min(Math.max(r,t),e),ll={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uh={...ll,transform:t=>Ko(0,1,t)},tp={...ll,default:1},ch=t=>Math.round(t*1e5)/1e5,wm=/(-)?([\d]*\.?[\d])+/g,Nk=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,H7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cf(t){return typeof t=="string"}const hf=t=>({test:e=>cf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xo=hf("deg"),gs=hf("%"),Ue=hf("px"),V7=hf("vh"),j7=hf("vw"),G2={...gs,parse:t=>gs.parse(t)/100,transform:t=>gs.transform(t*100)},W2={...ll,transform:Math.round},Fk={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,size:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,rotate:xo,rotateX:xo,rotateY:xo,rotateZ:xo,scale:tp,scaleX:tp,scaleY:tp,scaleZ:tp,skew:xo,skewX:xo,skewY:xo,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:uh,originX:G2,originY:G2,originZ:Ue,zIndex:W2,fillOpacity:uh,strokeOpacity:uh,numOctaves:W2};function Bb(t,e,r,n){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,f=!0;for(const p in e){const d=e[p];if(Bk(p)){s[p]=d;continue}const g=Fk[p],m=z7(d,g);if(al.has(p)){if(l=!0,o[p]=m,!f)continue;d!==(g.default||0)&&(f=!1)}else p.startsWith("origin")?(u=!0,a[p]=m):i[p]=m}if(e.transform||(l||n?i.transform=L7(t.transform,r,f,n):i.transform&&(i.transform="none")),u){const{originX:p="50%",originY:d="50%",originZ:g=0}=a;i.transformOrigin=`${p} ${d} ${g}`}}const Nb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Lk(t,e,r){for(const n in e)!Sn(e[n])&&!Dk(n,r)&&(t[n]=e[n])}function G7({transformTemplate:t},e,r){return J.useMemo(()=>{const n=Nb();return Bb(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function W7(t,e,r){const n=t.style||{},i={};return Lk(i,n,t),Object.assign(i,G7(t,e,r)),t.transformValues?t.transformValues(i):i}function $7(t,e,r){const n={},i=W7(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const X7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function b0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||X7.has(t)}let Uk=t=>!b0(t);function Y7(t){t&&(Uk=e=>e.startsWith("on")?!b0(e):t(e))}try{Y7(require("@emotion/is-prop-valid").default)}catch{}function q7(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(Uk(i)||r===!0&&b0(i)||!e&&!b0(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function $2(t,e,r){return typeof t=="string"?t:Ue.transform(e+r*t)}function K7(t,e,r){const n=$2(e,t.x,t.width),i=$2(r,t.y,t.height);return`${n} ${i}`}const Q7={offset:"stroke-dashoffset",array:"stroke-dasharray"},Z7={offset:"strokeDashoffset",array:"strokeDasharray"};function J7(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?Q7:Z7;t[s.offset]=Ue.transform(-n);const o=Ue.transform(e),a=Ue.transform(r);t[s.array]=`${o} ${a}`}function Fb(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,p,d){if(Bb(t,u,f,d),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:m,dimensions:_}=t;g.transform&&(_&&(m.transform=g.transform),delete g.transform),_&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=K7(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&J7(g,o,a,l,!1)}const zk=()=>({...Nb(),attrs:{}}),Lb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ej(t,e,r,n){const i=J.useMemo(()=>{const s=zk();return Fb(s,e,{enableHardwareAcceleration:!1},Lb(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Lk(s,t.style,t),i.style={...s,...i.style}}return i}function tj(t=!1){return(r,n,i,{latestValues:s},o)=>{const l=(Ob(r)?ej:$7)(n,s,o,r),f={...q7(n,typeof r=="string",t),...l,ref:i},{children:p}=n,d=J.useMemo(()=>Sn(p)?p.get():p,[p]);return J.createElement(r,{...f,children:d})}}const Ub=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Hk(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const Vk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jk(t,e,r,n){Hk(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Vk.has(i)?i:Ub(i),e.attrs[i])}function zb(t,e){const{style:r}=t,n={};for(const i in r)(Sn(r[i])||e.style&&Sn(e.style[i])||Dk(i,t))&&(n[i]=r[i]);return n}function Gk(t,e){const r=zb(t,e);for(const n in t)if(Sn(t[n])||Sn(e[n])){const i=uf.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function Hb(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function rj(t){const e=J.useRef(null);return e.current===null&&(e.current=t()),e.current}const w0=t=>Array.isArray(t),nj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),ij=t=>w0(t)?t[t.length-1]||0:t;function Cp(t){const e=Sn(t)?t.get():t;return nj(e)?e.toValue():e}function sj({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){const o={latestValues:oj(n,i,s,t),renderState:e()};return r&&(o.mount=a=>r(n,a,o)),o}const Wk=t=>(e,r)=>{const n=J.useContext(ym),i=J.useContext(Mb),s=()=>sj(t,e,n,i);return r?s():rj(s)};function oj(t,e,r,n){const i={},s=n(t,{});for(const d in s)i[d]=Cp(s[d]);let{initial:o,animate:a}=t;const l=bm(t),u=Ik(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?a:o;return p&&typeof p!="boolean"&&!_m(p)&&(Array.isArray(p)?p:[p]).forEach(g=>{const m=Hb(t,g);if(!m)return;const{transitionEnd:_,transition:S,...T}=m;for(const b in T){let y=T[b];if(Array.isArray(y)){const x=f?y.length-1:0;y=y[x]}y!==null&&(i[b]=y)}for(const b in _)i[b]=_[b]}),i}const aj={useVisualState:Wk({scrapeMotionValuesFromProps:Gk,createRenderState:zk,onMount:(t,e,{renderState:r,latestValues:n})=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}Fb(r,n,{enableHardwareAcceleration:!1},Lb(e.tagName),t.transformTemplate),jk(e,r)}})},lj={useVisualState:Wk({scrapeMotionValuesFromProps:zb,createRenderState:Nb})};function uj(t,{forwardMotionProps:e=!1},r,n){return{...Ob(t)?aj:lj,preloadedFeatures:r,useRender:tj(e),createVisualElement:n,Component:t}}function zs(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const $k=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Sm(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const cj=t=>e=>$k(e)&&t(e,Sm(e));function Ws(t,e,r,n){return zs(t,e,cj(r),n)}const hj=(t,e)=>r=>e(t(r)),Ho=(...t)=>t.reduce(hj);function Xk(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const X2=Xk("dragHorizontal"),Y2=Xk("dragVertical");function Yk(t){let e=!1;if(t==="y")e=Y2();else if(t==="x")e=X2();else{const r=X2(),n=Y2();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function qk(){const t=Yk(!0);return t?(t(),!1):!0}class na{constructor(e){this.isMounted=!1,this.node=e}update(){}}const Xt=t=>t;function fj(t){let e=[],r=[],n=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,f=!1)=>{const p=f&&i,d=p?e:r;return u&&o.add(l),d.indexOf(l)===-1&&(d.push(l),p&&i&&(n=e.length)),l},cancel:l=>{const u=r.indexOf(l);u!==-1&&r.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let u=0;u<n;u++){const f=e[u];f(l),o.has(f)&&(a.schedule(f),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const rp=["prepare","read","update","preRender","render","postRender"],dj=40;function pj(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=rp.reduce((p,d)=>(p[d]=fj(()=>r=!0),p),{}),o=p=>s[p].process(i),a=()=>{const p=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(p-i.timestamp,dj),1),i.timestamp=p,i.isProcessing=!0,rp.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(a))},l=()=>{r=!0,n=!0,i.isProcessing||t(a)};return{schedule:rp.reduce((p,d)=>{const g=s[d];return p[d]=(m,_=!1,S=!1)=>(r||l(),g.schedule(m,_,S)),p},{}),cancel:p=>rp.forEach(d=>s[d].cancel(p)),state:i,steps:s}}const{schedule:Vt,cancel:Js,state:qr,steps:Fy}=pj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xt,!0);function q2(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||qk())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[n]&&Vt.update(()=>a[n](s,o))};return Ws(t.current,r,i,{passive:!t.getProps()[n]})}class mj extends na{mount(){this.unmount=Ho(q2(this.node,!0),q2(this.node,!1))}unmount(){}}class gj extends na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ho(zs(this.node.current,"focus",()=>this.onFocus()),zs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Kk=(t,e)=>e?t===e?!0:Kk(t,e.parentElement):!1;function Ly(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,Sm(r))}class vj extends na{constructor(){super(...arguments),this.removeStartListeners=Xt,this.removeEndListeners=Xt,this.removeAccessibleListeners=Xt,this.startPointerPress=(e,r)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),s=Ws(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f}=this.node.getProps();Vt.update(()=>{Kk(this.node.current,a.target)?u&&u(a,l):f&&f(a,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=Ws(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ho(s,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ly("up",(l,u)=>{const{onTap:f}=this.node.getProps();f&&Vt.update(()=>f(l,u))})};this.removeEndListeners(),this.removeEndListeners=zs(this.node.current,"keyup",o),Ly("down",(a,l)=>{this.startPress(a,l)})},r=zs(this.node.current,"keydown",e),n=()=>{this.isPressing&&Ly("cancel",(s,o)=>this.cancelPress(s,o))},i=zs(this.node.current,"blur",n);this.removeAccessibleListeners=Ho(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Vt.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!qk()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Vt.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=Ws(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=zs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ho(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const H1=new WeakMap,Uy=new WeakMap,yj=t=>{const e=H1.get(t.target);e&&e(t)},xj=t=>{t.forEach(yj)};function _j({root:t,...e}){const r=t||document;Uy.has(r)||Uy.set(r,{});const n=Uy.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(xj,{root:t,...e})),n[i]}function bj(t,e,r){const n=_j(e);return H1.set(t,r),n.observe(t),()=>{H1.delete(t),n.unobserve(t)}}const wj={some:0,all:1};class Sj extends na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:wj[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),d=u?f:p;d&&d(l)};return bj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Ej(e,r))&&this.startObserver()}unmount(){}}function Ej({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Tj={inView:{Feature:Sj},tap:{Feature:vj},focus:{Feature:gj},hover:{Feature:mj}};function Qk(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Cj(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function Pj(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function Em(t,e,r){const n=t.getProps();return Hb(n,e,r!==void 0?r:n.custom,Cj(t),Pj(t))}const Aj="framerAppearId",Rj="data-"+Ub(Aj);let Ij=Xt,Vb=Xt;const Vo=t=>t*1e3,$s=t=>t/1e3,Mj={current:!1},Zk=t=>Array.isArray(t)&&typeof t[0]=="number";function Jk(t){return!!(!t||typeof t=="string"&&e4[t]||Zk(t)||Array.isArray(t)&&t.every(Jk))}const Xc=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,e4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xc([0,.65,.55,1]),circOut:Xc([.55,0,1,.45]),backIn:Xc([.31,.01,.66,-.59]),backOut:Xc([.33,1.53,.69,.99])};function t4(t){if(t)return Zk(t)?Xc(t):Array.isArray(t)?t.map(t4):e4[t]}function kj(t,e,r,{delay:n=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:r};l&&(u.offset=l);const f=t4(a);return Array.isArray(f)&&(u.easing=f),t.animate(u,{delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Dj(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const r4=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Oj=1e-7,Bj=12;function Nj(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=r4(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>Oj&&++a<Bj);return o}function ff(t,e,r,n){if(t===e&&r===n)return Xt;const i=s=>Nj(s,0,1,t,r);return s=>s===0||s===1?s:r4(i(s),e,n)}const Fj=ff(.42,0,1,1),Lj=ff(0,0,.58,1),n4=ff(.42,0,.58,1),Uj=t=>Array.isArray(t)&&typeof t[0]!="number",i4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,s4=t=>e=>1-t(1-e),o4=t=>1-Math.sin(Math.acos(t)),jb=s4(o4),zj=i4(jb),a4=ff(.33,1.53,.69,.99),Gb=s4(a4),Hj=i4(Gb),Vj=t=>(t*=2)<1?.5*Gb(t):.5*(2-Math.pow(2,-10*(t-1))),jj={linear:Xt,easeIn:Fj,easeInOut:n4,easeOut:Lj,circIn:o4,circInOut:zj,circOut:jb,backIn:Gb,backInOut:Hj,backOut:a4,anticipate:Vj},K2=t=>{if(Array.isArray(t)){Vb(t.length===4);const[e,r,n,i]=t;return ff(e,r,n,i)}else if(typeof t=="string")return jj[t];return t},Wb=(t,e)=>r=>!!(cf(r)&&H7.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),l4=(t,e,r)=>n=>{if(!cf(n))return n;const[i,s,o,a]=n.match(wm);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Gj=t=>Ko(0,255,t),zy={...ll,transform:t=>Math.round(Gj(t))},Na={test:Wb("rgb","red"),parse:l4("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+zy.transform(t)+", "+zy.transform(e)+", "+zy.transform(r)+", "+ch(uh.transform(n))+")"};function Wj(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const V1={test:Wb("#"),parse:Wj,transform:Na.transform},tu={test:Wb("hsl","hue"),parse:l4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+gs.transform(ch(e))+", "+gs.transform(ch(r))+", "+ch(uh.transform(n))+")"},ln={test:t=>Na.test(t)||V1.test(t)||tu.test(t),parse:t=>Na.test(t)?Na.parse(t):tu.test(t)?tu.parse(t):V1.parse(t),transform:t=>cf(t)?t:t.hasOwnProperty("red")?Na.transform(t):tu.transform(t)},Ht=(t,e,r)=>-r*t+r*e+t;function Hy(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function $j({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;i=Hy(l,a,t+1/3),s=Hy(l,a,t),o=Hy(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const Vy=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},Xj=[V1,Na,tu],Yj=t=>Xj.find(e=>e.test(t));function Q2(t){const e=Yj(t);let r=e.parse(t);return e===tu&&(r=$j(r)),r}const u4=(t,e)=>{const r=Q2(t),n=Q2(e),i={...r};return s=>(i.red=Vy(r.red,n.red,s),i.green=Vy(r.green,n.green,s),i.blue=Vy(r.blue,n.blue,s),i.alpha=Ht(r.alpha,n.alpha,s),Na.transform(i))};function qj(t){var e,r;return isNaN(t)&&cf(t)&&(((e=t.match(wm))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Nk))===null||r===void 0?void 0:r.length)||0)>0}const c4={regex:U7,countKey:"Vars",token:"${v}",parse:Xt},h4={regex:Nk,countKey:"Colors",token:"${c}",parse:ln.parse},f4={regex:wm,countKey:"Numbers",token:"${n}",parse:ll.parse};function jy(t,{regex:e,countKey:r,token:n,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+r]=s.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...s.map(i)))}function S0(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&jy(r,c4),jy(r,h4),jy(r,f4),r}function d4(t){return S0(t).values}function p4(t){const{values:e,numColors:r,numVars:n,tokenised:i}=S0(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<n?a=a.replace(c4.token,o[l]):l<n+r?a=a.replace(h4.token,ln.transform(o[l])):a=a.replace(f4.token,ch(o[l]));return a}}const Kj=t=>typeof t=="number"?0:t;function Qj(t){const e=d4(t);return p4(t)(e.map(Kj))}const Qo={test:qj,parse:d4,createTransformer:p4,getAnimatableNone:Qj},m4=(t,e)=>r=>`${r>0?e:t}`;function g4(t,e){return typeof t=="number"?r=>Ht(t,e,r):ln.test(t)?u4(t,e):t.startsWith("var(")?m4(t,e):y4(t,e)}const v4=(t,e)=>{const r=[...t],n=r.length,i=t.map((s,o)=>g4(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}},Zj=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=g4(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}},y4=(t,e)=>{const r=Qo.createTransformer(e),n=S0(t),i=S0(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Ho(v4(n.values,i.values),r):m4(t,e)},Xh=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Z2=(t,e)=>r=>Ht(t,e,r);function Jj(t){return typeof t=="number"?Z2:typeof t=="string"?ln.test(t)?u4:y4:Array.isArray(t)?v4:typeof t=="object"?Zj:Z2}function e9(t,e,r){const n=[],i=r||Jj(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Xt:e;a=Ho(l,a)}n.push(a)}return n}function x4(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(Vb(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=e9(e,n,i),a=o.length,l=u=>{let f=0;if(a>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const p=Xh(t[f],t[f+1],u);return o[f](p)};return r?u=>l(Ko(t[0],t[s-1],u)):l}function t9(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Xh(0,e,n);t.push(Ht(r,1,i))}}function r9(t){const e=[0];return t9(e,t.length-1),e}function n9(t,e){return t.map(r=>r*e)}function i9(t,e){return t.map(()=>e||n4).splice(0,t.length-1)}function E0({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Uj(n)?n.map(K2):K2(n),s={done:!1,value:e[0]},o=n9(r&&r.length===e.length?r:r9(e),t),a=x4(o,e,{ease:Array.isArray(i)?i:i9(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function _4(t,e){return e?t*(1e3/e):0}const s9=5;function b4(t,e,r){const n=Math.max(e-s9,0);return _4(r-t(n),e-n)}const Gy=.001,o9=.01,J2=10,a9=.05,l9=1;function u9({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,s;Ij(t<=Vo(J2));let o=1-e;o=Ko(a9,l9,o),t=Ko(o9,J2,$s(t)),o<1?(i=u=>{const f=u*o,p=f*t,d=f-r,g=j1(u,o),m=Math.exp(-p);return Gy-d/g*m},s=u=>{const p=u*o*t,d=p*r+r,g=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-p),_=j1(Math.pow(u,2),o);return(-i(u)+Gy>0?-1:1)*((d-g)*m)/_}):(i=u=>{const f=Math.exp(-u*t),p=(u-r)*t+1;return-Gy+f*p},s=u=>{const f=Math.exp(-u*t),p=(r-u)*(t*t);return f*p});const a=5/t,l=h9(i,s,a);if(t=Vo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const c9=12;function h9(t,e,r){let n=r;for(let i=1;i<c9;i++)n=n-t(n)/e(n);return n}function j1(t,e){return t*Math.sqrt(1-e*e)}const f9=["duration","bounce"],d9=["stiffness","damping","mass"];function eP(t,e){return e.some(r=>t[r]!==void 0)}function p9(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!eP(t,d9)&&eP(t,f9)){const r=u9(t);e={...e,...r,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function w4({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:f,duration:p,isResolvedFromDuration:d}=p9(n),g=f?-$s(f):0,m=l/(2*Math.sqrt(a*u)),_=s-i,S=$s(Math.sqrt(a/u)),T=Math.abs(_)<5;r||(r=T?.01:2),e||(e=T?.005:.5);let b;if(m<1){const y=j1(S,m);b=x=>{const C=Math.exp(-m*S*x);return s-C*((g+m*S*_)/y*Math.sin(y*x)+_*Math.cos(y*x))}}else if(m===1)b=y=>s-Math.exp(-S*y)*(_+(g+S*_)*y);else{const y=S*Math.sqrt(m*m-1);b=x=>{const C=Math.exp(-m*S*x),M=Math.min(y*x,300);return s-C*((g+m*S*_)*Math.sinh(M)+y*_*Math.cosh(M))/y}}return{calculatedDuration:d&&p||null,next:y=>{const x=b(y);if(d)o.done=y>=p;else{let C=g;y!==0&&(m<1?C=b4(b,y,x):C=0);const M=Math.abs(C)<=r,I=Math.abs(s-x)<=e;o.done=M&&I}return o.value=o.done?s:x,o}}}function tP({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const p=t[0],d={done:!1,value:p},g=A=>a!==void 0&&A<a||l!==void 0&&A>l,m=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let _=r*e;const S=p+_,T=o===void 0?S:o(S);T!==S&&(_=T-p);const b=A=>-_*Math.exp(-A/n),y=A=>T+b(A),x=A=>{const D=b(A),R=y(A);d.done=Math.abs(D)<=u,d.value=d.done?T:R};let C,M;const I=A=>{g(d.value)&&(C=A,M=w4({keyframes:[d.value,m(d.value)],velocity:b4(y,A,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return I(0),{calculatedDuration:null,next:A=>{let D=!1;return!M&&C===void 0&&(D=!0,x(A),I(A)),C!==void 0&&A>C?M.next(A-C):(!D&&x(A),d)}}}const m9=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Vt.update(e,!0),stop:()=>Js(e),now:()=>qr.isProcessing?qr.timestamp:performance.now()}},rP=2e4;function nP(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<rP;)e+=r,n=t.next(e);return e>=rP?1/0:e}const g9={decay:tP,inertia:tP,tween:E0,keyframes:E0,spring:w4};function T0({autoplay:t=!0,delay:e=0,driver:r=m9,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:f,onUpdate:p,...d}){let g=1,m=!1,_,S;const T=()=>{S=new Promise(L=>{_=L})};T();let b;const y=g9[i]||E0;let x;y!==E0&&typeof n[0]!="number"&&(x=x4([0,100],n,{clamp:!1}),n=[0,100]);const C=y({...d,keyframes:n});let M;a==="mirror"&&(M=y({...d,keyframes:[...n].reverse(),velocity:-(d.velocity||0)}));let I="idle",A=null,D=null,R=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=nP(C));const{calculatedDuration:k}=C;let O=1/0,U=1/0;k!==null&&(O=k+o,U=O*(s+1)-o);let N=0;const G=L=>{if(D===null)return;g>0&&(D=Math.min(D,L)),g<0&&(D=Math.min(L-U/g,D)),A!==null?N=A:N=Math.round(L-D)*g;const j=N-e*(g>=0?1:-1),Y=g>=0?j<0:j>U;N=Math.max(j,0),I==="finished"&&A===null&&(N=U);let W=N,de=C;if(s){const ut=N/O;let Ze=Math.floor(ut),Ie=ut%1;!Ie&&ut>=1&&(Ie=1),Ie===1&&Ze--,Ze=Math.min(Ze,s+1);const Xe=!!(Ze%2);Xe&&(a==="reverse"?(Ie=1-Ie,o&&(Ie-=o/O)):a==="mirror"&&(de=M));let Oe=Ko(0,1,Ie);N>U&&(Oe=a==="reverse"&&Xe?1:0),W=Oe*O}const he=Y?{done:!1,value:n[0]}:de.next(W);x&&(he.value=x(he.value));let{done:Pe}=he;!Y&&k!==null&&(Pe=g>=0?N>=U:N<=0);const ge=A===null&&(I==="finished"||I==="running"&&Pe);return p&&p(he.value),ge&&F(),he},Q=()=>{b&&b.stop(),b=void 0},z=()=>{I="idle",Q(),_(),T(),D=R=null},F=()=>{I="finished",f&&f(),Q(),_()},$=()=>{if(m)return;b||(b=r(G));const L=b.now();l&&l(),A!==null?D=L-A:(!D||I==="finished")&&(D=L),I==="finished"&&T(),R=D,A=null,I="running",b.start()};t&&$();const H={then(L,j){return S.then(L,j)},get time(){return $s(N)},set time(L){L=Vo(L),N=L,A!==null||!b||g===0?A=L:D=b.now()-L/g},get duration(){const L=C.calculatedDuration===null?nP(C):C.calculatedDuration;return $s(L)},get speed(){return g},set speed(L){L===g||!b||(g=L,H.time=$s(N))},get state(){return I},play:$,pause:()=>{I="paused",A=N},stop:()=>{m=!0,I!=="idle"&&(I="idle",u&&u(),z())},cancel:()=>{R!==null&&G(R),z()},complete:()=>{I="finished"},sample:L=>(D=0,G(L))};return H}function v9(t){let e;return()=>(e===void 0&&(e=t()),e)}const y9=v9(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),x9=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),np=10,_9=2e4,b9=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Jk(e.ease);function w9(t,e,{onUpdate:r,onComplete:n,...i}){if(!(y9()&&x9.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:f,duration:p=300,ease:d,times:g}=i;if(b9(e,i)){const b=T0({...i,repeat:0,delay:0});let y={done:!1,value:f[0]};const x=[];let C=0;for(;!y.done&&C<_9;)y=b.sample(C),x.push(y.value),C+=np;g=void 0,f=x,p=C-np,d="linear"}const m=kj(t.owner.current,e,f,{...i,duration:p,ease:d,times:g}),_=()=>m.cancel(),S=()=>{Vt.update(_),a(),u()};return m.onfinish=()=>{t.set(Dj(f,i)),n&&n(),S()},{then(b,y){return l.then(b,y)},attachTimeline(b){return m.timeline=b,m.onfinish=null,Xt},get time(){return $s(m.currentTime||0)},set time(b){m.currentTime=Vo(b)},get speed(){return m.playbackRate},set speed(b){m.playbackRate=b},get duration(){return $s(p)},play:()=>{o||(m.play(),Js(_))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:b}=m;if(b){const y=T0({...i,autoplay:!1});t.setWithVelocity(y.sample(b-np).value,y.sample(b).value,np)}S()},complete:()=>m.finish(),cancel:S}}function S9({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Xt,pause:Xt,stop:Xt,then:s=>(s(),Promise.resolve()),cancel:Xt,complete:Xt});return e?T0({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const E9={type:"spring",stiffness:500,damping:25,restSpeed:10},T9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),C9={type:"keyframes",duration:.8},P9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A9=(t,{keyframes:e})=>e.length>2?C9:al.has(t)?t.startsWith("scale")?T9(e[1]):E9:P9,G1=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qo.test(e)||e==="0")&&!e.startsWith("url(")),R9=new Set(["brightness","contrast","saturate","opacity"]);function I9(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(wm)||[];if(!n)return t;const i=r.replace(n,"");let s=R9.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const M9=/([a-z-]*)\(.*?\)/g,W1={...Qo,getAnimatableNone:t=>{const e=t.match(M9);return e?e.map(I9).join(" "):t}},k9={...Fk,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:W1,WebkitFilter:W1},$b=t=>k9[t];function S4(t,e){let r=$b(t);return r!==W1&&(r=Qo),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const E4=t=>/^0[^.\s]+$/.test(t);function D9(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||E4(t)}function O9(t,e,r,n){const i=G1(e,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const o=n.from!==void 0?n.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),D9(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const f=l[u];s[f]=S4(e,a)}return s}function B9({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}function T4(t,e){return t[e]||t.default||t}const Xb=(t,e,r,n={})=>i=>{const s=T4(n,t)||{},o=s.delay||n.delay||0;let{elapsed:a=0}=n;a=a-Vo(o);const l=O9(e,t,r,s),u=l[0],f=l[l.length-1],p=G1(t,u),d=G1(t,f);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(B9(s)||(g={...g,...A9(t,g)}),g.duration&&(g.duration=Vo(g.duration)),g.repeatDelay&&(g.repeatDelay=Vo(g.repeatDelay)),!p||!d||Mj.current||s.type===!1)return S9(g);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=w9(e,t,g);if(m)return m}return T0(g)};function C0(t){return!!(Sn(t)&&t.add)}const N9=t=>/^\-?\d*\.?\d+$/.test(t);function Yb(t,e){t.indexOf(e)===-1&&t.push(e)}function qb(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Kb{constructor(){this.subscriptions=[]}add(e){return Yb(this.subscriptions,e),()=>qb(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const F9=t=>!isNaN(parseFloat(t));class L9{constructor(e,r={}){this.version="10.15.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=qr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Vt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Vt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=F9(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Kb);const n=this.events[e].add(r);return e==="change"?()=>{n(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?_4(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ou(t,e){return new L9(t,e)}const C4=t=>e=>e.test(t),U9={test:t=>t==="auto",parse:t=>t},P4=[ll,Ue,gs,xo,j7,V7,U9],Bc=t=>P4.find(C4(t)),z9=[...P4,ln,Qo],H9=t=>z9.find(C4(t));function V9(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ou(r))}function j9(t,e){const r=Em(t,e);let{transitionEnd:n={},transition:i={},...s}=r?t.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const o in s){const a=ij(s[o]);V9(t,o,a)}}function G9(t,e,r){var n,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(i=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&i!==void 0?i:e[l]),f!=null&&(typeof f=="string"&&(N9(f)||E4(f))?f=parseFloat(f):!H9(f)&&Qo.test(u)&&(f=S4(l,u)),t.addValue(l,Ou(f,{owner:t})),r[l]===void 0&&(r[l]=f),f!==null&&t.setBaseTarget(l,f))}}function W9(t,e){return e?(e[t]||e.default||e).from:void 0}function $9(t,e,r){const n={};for(const i in t){const s=W9(i,e);if(s!==void 0)n[i]=s;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function X9({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function A4(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(s=n);const u=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in a){const d=t.getValue(p),g=a[p];if(!d||g===void 0||f&&X9(f,p))continue;const m={delay:r,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const S=t.getProps()[Rj];S&&(m.elapsed=window.HandoffAppearAnimations(S,p,d,Vt))}d.start(Xb(p,d,g,t.shouldReduceMotion&&al.has(p)?{type:!1}:m));const _=d.animation;C0(l)&&(l.add(p),_.then(()=>l.remove(p))),u.push(_)}return o&&Promise.all(u).then(()=>{o&&j9(t,o)}),u}function $1(t,e,r={}){const n=Em(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(A4(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:p}=i;return Y9(t,e,u+l,f,p,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(r.delay)])}function Y9(t,e,r=0,n=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*n,l=i===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(t.variantChildren).sort(q9).forEach((u,f)=>{u.notify("AnimationStart",e),o.push($1(u,e,{...s,delay:r+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function q9(t,e){return t.sortNodePosition(e)}function K9(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>$1(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=$1(t,e,r);else{const i=typeof e=="function"?Em(t,e,r.custom):e;n=Promise.all(A4(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const Q9=[...kb].reverse(),Z9=kb.length;function J9(t){return e=>Promise.all(e.map(({animation:r,options:n})=>K9(t,r,n)))}function eG(t){let e=J9(t);const r=rG();let n=!0;const i=(l,u)=>{const f=Em(t,u);if(f){const{transition:p,transitionEnd:d,...g}=f;l={...l,...g,...d}}return l};function s(l){e=l(t)}function o(l,u){const f=t.getProps(),p=t.getVariantContext(!0)||{},d=[],g=new Set;let m={},_=1/0;for(let T=0;T<Z9;T++){const b=Q9[T],y=r[b],x=f[b]!==void 0?f[b]:p[b],C=Wh(x),M=b===u?y.isActive:null;M===!1&&(_=T);let I=x===p[b]&&x!==f[b]&&C;if(I&&n&&t.manuallyAnimateOnMount&&(I=!1),y.protectedKeys={...m},!y.isActive&&M===null||!x&&!y.prevProp||_m(x)||typeof x=="boolean")continue;const A=tG(y.prevProp,x);let D=A||b===u&&y.isActive&&!I&&C||T>_&&C;const R=Array.isArray(x)?x:[x];let k=R.reduce(i,{});M===!1&&(k={});const{prevResolvedValues:O={}}=y,U={...O,...k},N=G=>{D=!0,g.delete(G),y.needsAnimating[G]=!0};for(const G in U){const Q=k[G],z=O[G];m.hasOwnProperty(G)||(Q!==z?w0(Q)&&w0(z)?!Qk(Q,z)||A?N(G):y.protectedKeys[G]=!0:Q!==void 0?N(G):g.add(G):Q!==void 0&&g.has(G)?N(G):y.protectedKeys[G]=!0)}y.prevProp=x,y.prevResolvedValues=k,y.isActive&&(m={...m,...k}),n&&t.blockInitialAnimation&&(D=!1),D&&!I&&d.push(...R.map(G=>({animation:G,options:{type:b,...l}})))}if(g.size){const T={};g.forEach(b=>{const y=t.getBaseTarget(b);y!==void 0&&(T[b]=y)}),d.push({animation:T})}let S=!!d.length;return n&&f.initial===!1&&!t.manuallyAnimateOnMount&&(S=!1),n=!1,S?e(d):Promise.resolve()}function a(l,u,f){var p;if(r[l].isActive===u)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(g=>{var m;return(m=g.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),r[l].isActive=u;const d=o(f,l);for(const g in r)r[g].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r}}function tG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Qk(e,t):!1}function _a(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rG(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class nG extends na{constructor(e){super(e),e.animationState||(e.animationState=eG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),_m(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let iG=0;class sG extends na{constructor(){super(...arguments),this.id=iG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const oG={animation:{Feature:nG},exit:{Feature:sG}},iP=(t,e)=>Math.abs(t-e);function aG(t,e){const r=iP(t.x,e.x),n=iP(t.y,e.y);return Math.sqrt(r**2+n**2)}class R4{constructor(e,r,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=$y(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=aG(u.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:d}=u,{timestamp:g}=qr;this.history.push({...d,timestamp:g});const{onStart:m,onMove:_}=this.handlers;f||(m&&m(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,u)},this.handlePointerMove=(u,f)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Wy(f,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(u,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:p,onSessionEnd:d}=this.handlers,g=$y(u.type==="pointercancel"?this.lastMoveEventInfo:Wy(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(u,g),d&&d(u,g)},!$k(e))return;this.handlers=r,this.transformPagePoint=n;const i=Sm(e),s=Wy(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=qr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=r;l&&l(e,$y(s,this.history)),this.removeListeners=Ho(Ws(window,"pointermove",this.handlePointerMove),Ws(window,"pointerup",this.handlePointerUp),Ws(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function Wy(t,e){return e?{point:e(t.point)}:t}function sP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $y({point:t},e){return{point:t,delta:sP(t,I4(e)),offset:sP(t,lG(e)),velocity:uG(e,.1)}}function lG(t){return t[0]}function I4(t){return t[t.length-1]}function uG(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=I4(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Vo(e)));)r--;if(!n)return{x:0,y:0};const s=$s(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zn(t){return t.max-t.min}function X1(t,e=0,r=.01){return Math.abs(t-e)<=r}function oP(t,e,r,n=.5){t.origin=n,t.originPoint=Ht(e.min,e.max,t.origin),t.scale=zn(r)/zn(e),(X1(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ht(r.min,r.max,t.origin)-t.originPoint,(X1(t.translate)||isNaN(t.translate))&&(t.translate=0)}function hh(t,e,r,n){oP(t.x,e.x,r.x,n?n.originX:void 0),oP(t.y,e.y,r.y,n?n.originY:void 0)}function aP(t,e,r){t.min=r.min+e.min,t.max=t.min+zn(e)}function cG(t,e,r){aP(t.x,e.x,r.x),aP(t.y,e.y,r.y)}function lP(t,e,r){t.min=e.min-r.min,t.max=t.min+zn(e)}function fh(t,e,r){lP(t.x,e.x,r.x),lP(t.y,e.y,r.y)}function hG(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Ht(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Ht(r,t,n.max):Math.min(t,r)),t}function uP(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function fG(t,{top:e,left:r,bottom:n,right:i}){return{x:uP(t.x,r,i),y:uP(t.y,e,n)}}function cP(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function dG(t,e){return{x:cP(t.x,e.x),y:cP(t.y,e.y)}}function pG(t,e){let r=.5;const n=zn(t),i=zn(e);return i>n?r=Xh(e.min,e.max-n,t.min):n>i&&(r=Xh(t.min,t.max-i,e.min)),Ko(0,1,r)}function mG(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Y1=.35;function gG(t=Y1){return t===!1?t=0:t===!0&&(t=Y1),{x:hP(t,"left","right"),y:hP(t,"top","bottom")}}function hP(t,e,r){return{min:fP(t,e),max:fP(t,r)}}function fP(t,e){return typeof t=="number"?t:t[e]||0}const dP=()=>({translate:0,scale:1,origin:0,originPoint:0}),ru=()=>({x:dP(),y:dP()}),pP=()=>({min:0,max:0}),ar=()=>({x:pP(),y:pP()});function as(t){return[t("x"),t("y")]}function M4({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function vG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yG(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Xy(t){return t===void 0||t===1}function q1({scale:t,scaleX:e,scaleY:r}){return!Xy(t)||!Xy(e)||!Xy(r)}function Pa(t){return q1(t)||k4(t)||t.z||t.rotate||t.rotateX||t.rotateY}function k4(t){return mP(t.x)||mP(t.y)}function mP(t){return t&&t!=="0%"}function P0(t,e,r){const n=t-r,i=e*n;return r+i}function gP(t,e,r,n,i){return i!==void 0&&(t=P0(t,i,n)),P0(t,r,n)+e}function K1(t,e=0,r=1,n,i){t.min=gP(t.min,e,r,n,i),t.max=gP(t.max,e,r,n,i)}function D4(t,{x:e,y:r}){K1(t.x,e.translate,e.scale,e.originPoint),K1(t.y,r.translate,r.scale,r.originPoint)}function xG(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&nu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,D4(t,o)),n&&Pa(s.latestValues)&&nu(t,s.latestValues))}e.x=vP(e.x),e.y=vP(e.y)}function vP(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function So(t,e){t.min=t.min+e,t.max=t.max+e}function yP(t,e,[r,n,i]){const s=e[i]!==void 0?e[i]:.5,o=Ht(t.min,t.max,s);K1(t,e[r],e[n],o,e.scale)}const _G=["x","scaleX","originX"],bG=["y","scaleY","originY"];function nu(t,e){yP(t.x,e,_G),yP(t.y,e,bG)}function O4(t,e){return M4(yG(t.getBoundingClientRect(),e))}function wG(t,e,r){const n=O4(t,r),{scroll:i}=e;return i&&(So(n.x,i.offset.x),So(n.y,i.offset.y)),n}const SG=new WeakMap;class EG{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ar(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=l=>{this.stopAnimation(),r&&this.snapToCursor(Sm(l,"page").point)},s=(l,u)=>{const{drag:f,dragPropagation:p,onDragStart:d}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Yk(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),as(m=>{let _=this.getAxisMotionValue(m).get()||0;if(gs.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const T=S.layout.layoutBox[m];T&&(_=zn(T)*(parseFloat(_)/100))}}this.originPoint[m]=_}),d&&Vt.update(()=>d(l,u),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:d,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:m}=u;if(p&&this.currentDirection===null){this.currentDirection=TG(m),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,m),this.updateAxis("y",u.point,m),this.visualElement.render(),g&&g(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new R4(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Vt.update(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!ip(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=hG(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),{layout:n}=this.visualElement.projection||{},i=this.constraints;e&&eu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=fG(n.layoutBox,e):this.constraints=!1,this.elastic=gG(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&as(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=mG(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!eu(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=wG(n,i.root,this.visualElement.getTransformPagePoint());let o=dG(i.layout.layoutBox,s);if(r){const a=r(vG(o));this.hasMutatedConstraints=!!a,a&&(o=M4(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=as(f=>{if(!ip(f,r,this.currentDirection))return;let p=l&&l[f]||{};o&&(p={min:0,max:0});const d=i?200:1e6,g=i?40:1e7,m={type:"inertia",velocity:n?e[f]:0,bounceStiffness:d,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(Xb(e,n,0,r))}stopAnimation(){as(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){as(r=>{const{drag:n}=this.getProps();if(!ip(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-Ht(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!eu(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};as(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=pG({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),as(o=>{if(!ip(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ht(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;SG.set(this.visualElement,this);const e=this.visualElement.current,r=Ws(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();eu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=zs(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(as(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=l[f].translate,p.set(p.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Y1,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ip(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function TG(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class CG extends na{constructor(e){super(e),this.removeGroupControls=Xt,this.removeListeners=Xt,this.controls=new EG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const xP=t=>(e,r)=>{t&&Vt.update(()=>t(e,r))};class PG extends na{constructor(){super(...arguments),this.removePointerDownListener=Xt}onPointerDown(e){this.session=new R4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:xP(e),onStart:xP(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Vt.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ws(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function AG(){const t=J.useContext(Mb);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=J.useId();return J.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const Pp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _P(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const r=_P(t,e.target.x),n=_P(t,e.target.y);return`${r}% ${n}%`}},RG={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Qo.parse(t);if(i.length>5)return n;const s=Qo.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ht(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class IG extends Nn.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;B7(MG),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Pp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Vt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function B4(t){const[e,r]=AG(),n=J.useContext(Mk);return Nn.createElement(IG,{...t,layoutGroup:n,switchLayoutGroup:J.useContext(kk),isPresent:e,safeToRemove:r})}const MG={borderRadius:{...Nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nc,borderTopRightRadius:Nc,borderBottomLeftRadius:Nc,borderBottomRightRadius:Nc,boxShadow:RG},N4=["TopLeft","TopRight","BottomLeft","BottomRight"],kG=N4.length,bP=t=>typeof t=="string"?parseFloat(t):t,wP=t=>typeof t=="number"||Ue.test(t);function DG(t,e,r,n,i,s){i?(t.opacity=Ht(0,r.opacity!==void 0?r.opacity:1,OG(n)),t.opacityExit=Ht(e.opacity!==void 0?e.opacity:1,0,BG(n))):s&&(t.opacity=Ht(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<kG;o++){const a=`border${N4[o]}Radius`;let l=SP(e,a),u=SP(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||wP(l)===wP(u)?(t[a]=Math.max(Ht(bP(l),bP(u),n),0),(gs.test(u)||gs.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||r.rotate)&&(t.rotate=Ht(e.rotate||0,r.rotate||0,n))}function SP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OG=F4(0,.5,jb),BG=F4(.5,.95,Xt);function F4(t,e,r){return n=>n<t?0:n>e?1:r(Xh(t,e,n))}function EP(t,e){t.min=e.min,t.max=e.max}function Jn(t,e){EP(t.x,e.x),EP(t.y,e.y)}function TP(t,e,r,n,i){return t-=e,t=P0(t,1/r,n),i!==void 0&&(t=P0(t,1/i,n)),t}function NG(t,e=0,r=1,n=.5,i,s=t,o=t){if(gs.test(e)&&(e=parseFloat(e),e=Ht(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ht(s.min,s.max,n);t===s&&(a-=e),t.min=TP(t.min,e,r,a,i),t.max=TP(t.max,e,r,a,i)}function CP(t,e,[r,n,i],s,o){NG(t,e[r],e[n],e[i],e.scale,s,o)}const FG=["x","scaleX","originX"],LG=["y","scaleY","originY"];function PP(t,e,r,n){CP(t.x,e,FG,r?r.x:void 0,n?n.x:void 0),CP(t.y,e,LG,r?r.y:void 0,n?n.y:void 0)}function AP(t){return t.translate===0&&t.scale===1}function L4(t){return AP(t.x)&&AP(t.y)}function UG(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function U4(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function RP(t){return zn(t.x)/zn(t.y)}class zG{constructor(){this.members=[]}add(e){Yb(this.members,e),e.scheduleRender()}remove(e){if(qb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IP(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:u,rotateY:f}=r;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),f&&(n+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const HG=(t,e)=>t.depth-e.depth;class VG{constructor(){this.children=[],this.isDirty=!1}add(e){Yb(this.children,e),this.isDirty=!0}remove(e){qb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HG),this.isDirty=!1,this.children.forEach(e)}}function jG(t,e){const r=performance.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Js(n),t(s-e))};return Vt.read(n,!0),()=>Js(n)}function GG(t){window.MotionDebug&&window.MotionDebug.record(t)}function WG(t){return t instanceof SVGElement&&t.tagName!=="svg"}function $G(t,e,r){const n=Sn(t)?t:Ou(t);return n.start(Xb("",n,e,r)),n.animation}const MP=["","X","Y","Z"],kP=1e3;let XG=0;const Aa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function z4({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=XG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Aa.totalNodes=Aa.resolvedTargetDeltas=Aa.recalculatedProjection=0,this.nodes.forEach(KG),this.nodes.forEach(tW),this.nodes.forEach(rW),this.nodes.forEach(QG),GG(Aa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new VG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Kb),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=WG(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let p;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=jG(d,250),Pp.hasAnimatedSinceResize&&(Pp.hasAnimatedSinceResize=!1,this.nodes.forEach(OP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:d,hasRelativeTargetChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||aW,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=f.getProps(),b=!this.targetLayout||!U4(this.targetLayout,m)||g,y=!d&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,y);const x={...T4(_,"layout"),onPlay:S,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||OP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DP);return}this.isUpdating||this.nodes.forEach(JG),this.isUpdating=!1,this.nodes.forEach(eW),this.nodes.forEach(YG),this.nodes.forEach(qG),this.clearAllSnapshots();const a=performance.now();qr.delta=Ko(0,1e3/60,a-qr.timestamp),qr.timestamp=a,qr.isProcessing=!0,Fy.update.process(qr),Fy.preRender.process(qr),Fy.render.process(qr),qr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ZG),this.sharedNodes.forEach(iW)}scheduleUpdateProjection(){Vt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ar(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!L4(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||Pa(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),lW(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ar();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(So(a.x,l.offset.x),So(a.y,l.offset.y)),a}removeElementScroll(o){const a=ar();Jn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:f,options:p}=u;if(u!==this.root&&f&&p.layoutScroll){if(f.isRoot){Jn(a,o);const{scroll:d}=this.root;d&&(So(a.x,-d.offset.x),So(a.y,-d.offset.y))}So(a.x,f.offset.x),So(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=ar();Jn(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&nu(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Pa(f.latestValues)&&nu(l,f.latestValues)}return Pa(this.latestValues)&&nu(l,this.latestValues),l}removeTransform(o){const a=ar();Jn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Pa(u.latestValues))continue;q1(u.latestValues)&&u.updateSnapshot();const f=ar(),p=u.measurePageBox();Jn(f,p),PP(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Pa(this.latestValues)&&PP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:d}=this.options;if(!(!this.layout||!(p||d))){if(this.resolvedRelativeTargetAt=qr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ar(),this.relativeTargetOrigin=ar(),fh(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ar(),this.targetWithTransforms=ar()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),D4(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ar(),this.relativeTargetOrigin=ar(),fh(this.relativeTargetOrigin,this.target,g.target),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Aa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||q1(this.parent.latestValues)||k4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===qr.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Jn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,g=this.treeScale.y;xG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=ru(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ru(),this.projectionDeltaWithTransform=ru());const _=this.projectionTransform;hh(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=IP(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==d||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Aa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},p=ru();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=ar(),g=l?l.source:void 0,m=this.layout?this.layout.source:void 0,_=g!==m,S=this.getStack(),T=!S||S.members.length<=1,b=!!(_&&!T&&this.options.crossfade===!0&&!this.path.some(oW));this.animationProgress=0;let y;this.mixTargetDelta=x=>{const C=x/1e3;BP(p.x,o.x,C),BP(p.y,o.y,C),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fh(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sW(this.relativeTarget,this.relativeTargetOrigin,d,C),y&&UG(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ar()),Jn(y,this.relativeTarget)),_&&(this.animationValues=f,DG(f,u,this.latestValues,C,b,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{Pp.hasAnimatedSinceResize=!0,this.currentAnimation=$G(0,kP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&H4(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ar();const p=zn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const d=zn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Jn(a,l),nu(a,f),hh(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zG),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let f=0;f<MP.length;f++){const p="rotate"+MP[f];l[p]&&(u[p]=l[p],o.setStaticValue(p,0))}o.render();for(const f in u)o.setStaticValue(f,u[f]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Cp(o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Cp(o.pointerEvents)||""),this.hasProjected&&!Pa(this.latestValues)&&(_.transform=f?f({},""):"none",this.hasProjected=!1),_}const d=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=IP(this.projectionDeltaWithTransform,this.treeScale,d),f&&(u.transform=f(d,u.transform));const{x:g,y:m}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,p.animationValues?u.opacity=p===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=p===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in _0){if(d[_]===void 0)continue;const{correct:S,applyTo:T}=_0[_],b=u.transform==="none"?d[_]:S(d[_],p);if(T){const y=T.length;for(let x=0;x<y;x++)u[T[x]]=b}else u[_]=b}return this.options.layoutId&&(u.pointerEvents=p===this?Cp(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(DP),this.root.sharedNodes.clear()}}}function YG(t){t.updateLayout()}function qG(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=r.source!==t.layout.source;s==="size"?as(p=>{const d=o?r.measuredBox[p]:r.layoutBox[p],g=zn(d);d.min=n[p].min,d.max=d.min+g}):H4(s,r.layoutBox,n)&&as(p=>{const d=o?r.measuredBox[p]:r.layoutBox[p],g=zn(n[p]);d.max=d.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+g)});const a=ru();hh(a,n,r.layoutBox);const l=ru();o?hh(l,t.applyTransform(i,!0),r.measuredBox):hh(l,n,r.layoutBox);const u=!L4(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:d,layout:g}=p;if(d&&g){const m=ar();fh(m,r.layoutBox,d.layoutBox);const _=ar();fh(_,n,g.layoutBox),U4(m,_)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=m,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function KG(t){Aa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function QG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ZG(t){t.clearSnapshot()}function DP(t){t.clearMeasurements()}function JG(t){t.isLayoutDirty=!1}function eW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function OP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tW(t){t.resolveTargetDelta()}function rW(t){t.calcProjection()}function nW(t){t.resetRotation()}function iW(t){t.removeLeadSnapshot()}function BP(t,e,r){t.translate=Ht(e.translate,0,r),t.scale=Ht(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function NP(t,e,r,n){t.min=Ht(e.min,r.min,n),t.max=Ht(e.max,r.max,n)}function sW(t,e,r,n){NP(t.x,e.x,r.x,n),NP(t.y,e.y,r.y,n)}function oW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const aW={duration:.45,ease:[.4,0,.1,1]},FP=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),LP=FP("applewebkit/")&&!FP("chrome/")?Math.round:Xt;function UP(t){t.min=LP(t.min),t.max=LP(t.max)}function lW(t){UP(t.x),UP(t.y)}function H4(t,e,r){return t==="position"||t==="preserve-aspect"&&!X1(RP(e),RP(r),.2)}const uW=z4({attachResizeListener:(t,e)=>zs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yy={current:void 0},V4=z4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yy.current){const t=new uW({});t.mount(window),t.setOptions({layoutScroll:!0}),Yy.current=t}return Yy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cW={pan:{Feature:PG},drag:{Feature:CG,ProjectionNode:V4,MeasureLayout:B4}},hW=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function fW(t){const e=hW.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function Q1(t,e,r=1){const[n,i]=fW(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);return s?s.trim():z1(i)?Q1(i,e,r+1):i}function dW(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const s=i.get();if(!z1(s))return;const o=Q1(s,n);o&&i.set(o)});for(const i in e){const s=e[i];if(!z1(s))continue;const o=Q1(s,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=s))}return{target:e,transitionEnd:r}}const pW=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),j4=t=>pW.has(t),mW=t=>Object.keys(t).some(j4),zP=t=>t===ll||t===Ue,HP=(t,e)=>parseFloat(t.split(", ")[e]),VP=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return HP(i[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?HP(s[1],t):0}},gW=new Set(["x","y","z"]),vW=uf.filter(t=>!gW.has(t));function yW(t){const e=[];return vW.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Bu={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:VP(4,13),y:VP(5,14)};Bu.translateX=Bu.x;Bu.translateY=Bu.y;const xW=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{a[u]=Bu[u](n,s)}),e.render();const l=e.measureViewportBox();return r.forEach(u=>{const f=e.getValue(u);f&&f.jump(a[u]),t[u]=Bu[u](l,s)}),t},_W=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(j4);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let f=r[l],p=Bc(f);const d=e[l];let g;if(w0(d)){const m=d.length,_=d[0]===null?1:0;f=d[_],p=Bc(f);for(let S=_;S<m&&d[S]!==null;S++)g?Vb(Bc(d[S])===g):g=Bc(d[S])}else g=Bc(d);if(p!==g)if(zP(p)&&zP(g)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&g===Ue&&(e[l]=d.map(parseFloat))}else p!=null&&p.transform&&(g!=null&&g.transform)&&(f===0||d===0)?f===0?u.set(g.transform(f)):e[l]=p.transform(d):(o||(s=yW(t),o=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=xW(e,t,a);return s.length&&s.forEach(([f,p])=>{t.getValue(f).set(p)}),t.render(),xm&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function bW(t,e,r,n){return mW(e)?_W(t,e,r,n):{target:e,transitionEnd:n}}const wW=(t,e,r,n)=>{const i=dW(t,e,n);return e=i.target,n=i.transitionEnd,bW(t,e,r,n)},Z1={current:null},G4={current:!1};function SW(){if(G4.current=!0,!!xm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Z1.current=t.matches;t.addListener(e),e()}else Z1.current=!1}function EW(t,e,r){const{willChange:n}=e;for(const i in e){const s=e[i],o=r[i];if(Sn(s))t.addValue(i,s),C0(n)&&n.add(i);else if(Sn(o))t.addValue(i,Ou(s,{owner:t})),C0(n)&&n.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Ou(a!==void 0?a:s,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const jP=new WeakMap,W4=Object.keys($h),TW=W4.length,GP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],CW=Db.length;class PW{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Vt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=bm(r),this.isVariantNode=Ik(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{});for(const p in f){const d=f[p];a[p]!==void 0&&Sn(d)&&(d.set(a[p],!1),C0(u)&&u.add(p))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,jP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),G4.current||SW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Z1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jP.delete(this.current),this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=al.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Vt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,s){let o,a;for(let l=0;l<TW;l++){const u=W4[l],{isEnabled:f,Feature:p,ProjectionNode:d,MeasureLayout:g}=$h[u];d&&(o=d),f(r)&&(!this.features[u]&&p&&(this.features[u]=new p(this)),g&&(a=g))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:f,dragConstraints:p,layoutScroll:d,layoutRoot:g}=r;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!f||p&&eu(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ar()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<GP.length;n++){const i=GP[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=EW(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<CW;n++){const i=Db[n],s=this.props[i];(Wh(s)||s===!1)&&(r[i]=s)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Ou(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=Hb(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Sn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Kb),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class $4 extends PW{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},s){let o=$9(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),s){G9(this,n,o);const a=wW(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:r,...n}}}function AW(t){return window.getComputedStyle(t)}class RW extends $4{readValueFromInstance(e,r){if(al.has(r)){const n=$b(r);return n&&n.default||0}else{const n=AW(e),i=(Bk(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return O4(e,r)}build(e,r,n,i){Bb(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return zb(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){Hk(e,r,n,i)}}class IW extends $4{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(al.has(r)){const n=$b(r);return n&&n.default||0}return r=Vk.has(r)?r:Ub(r),e.getAttribute(r)}measureInstanceViewportBox(){return ar()}scrapeMotionValuesFromProps(e,r){return Gk(e,r)}build(e,r,n,i){Fb(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){jk(e,r,n,i)}mount(e){this.isSVGTag=Lb(e.tagName),super.mount(e)}}const MW=(t,e)=>Ob(t)?new IW(e,{enableHardwareAcceleration:!1}):new RW(e,{enableHardwareAcceleration:!0}),kW={layout:{ProjectionNode:V4,MeasureLayout:B4}},DW={...oG,...Tj,...cW,...kW},OW=D7((t,e)=>uj(t,e,DW,MW)),BW={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function Qb(t){return ae.jsx(OW.div,{variants:BW,initial:"initial",animate:"animate",exit:"exit",transition:{duration:5,type:"spring",stiffness:50,mass:5},children:t.children})}function NW(){return ae.jsxs("div",{className:"absolute flex justify-center align-middle bottom-0 left-1/2 -translate-x-1/2 text-neutral-200 bg-black bg-opacity-80",children:[ae.jsx(Wo,{className:"h-min max-h-fit m-2 hover:underline",to:"https://notaroomba.dev",children:"Website"}),ae.jsx("p",{className:"m-2",children:""}),ae.jsx("p",{className:"m-2",children:"NotARoomba"}),ae.jsx("p",{className:"m-2",children:""}),ae.jsx(Wo,{className:"h-min max-h-fit m-2 hover:underline",to:"https://github.com/NotARoomba/Asteroids",children:"GitHub"})]})}function FW(){const[t,e]=Cb();return ae.jsxs(Qb,{children:[ae.jsx(_s.Stage,{width:t,height:e,options:{backgroundColor:0},className:"absolute -z-50 w-screen h-screen top-0 left-1/2 right-1/2 -translate-x-1/2",children:ae.jsx(Ib,{count:25,screen:new Ar(t,e),player:!1,setScore:()=>1,setLevel:()=>1,gameOver:()=>1},Math.random())}),ae.jsxs("div",{className:"flex flex-col h-screen text-5xl md:text-8xl bg-transparent text-neutral-200 ",children:[ae.jsx("p",{className:"align-middle justify-center m-auto mb-10 bg-black rounded animate-bouncepulse bg-opacity-50",children:"Asteroids"}),ae.jsx(Wo,{to:"/play",className:"text-2xl md:text-4xl m-auto justify-center align-middle text-center mt-5 py-4 px-8 md:px-10 mb-5 outline-double outline-4 hover:animate-colorpulse bg-opacity-90 bg-black",children:"Play"}),ae.jsx(Wo,{to:"/leaderboard",className:"text-2xl md:text-4xl m-auto justify-center align-middle text-center mt-5 py-4 px-8 md:px-10 outline-double outline-4 hover:animate-colorpulse bg-opacity-90 bg-black",children:"Leaderboard"})]}),ae.jsx(NW,{})]})}var J1={exports:{}},Za={},e_={exports:{}},ji={},t_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",n="contents",i=/input|select|textarea|button|object|iframe/;function s(p,d){return d.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function o(p){var d=p.offsetWidth<=0&&p.offsetHeight<=0;if(d&&!p.innerHTML)return!0;try{var g=window.getComputedStyle(p),m=g.getPropertyValue("display");return d?m!==n&&s(p,g):m===r}catch{return console.warn("Failed to inspect element style"),!1}}function a(p){for(var d=p,g=p.getRootNode&&p.getRootNode();d&&d!==document.body;){if(g&&d===g&&(d=g.host.parentNode),o(d))return!1;d=d.parentNode}return!0}function l(p,d){var g=p.nodeName.toLowerCase(),m=i.test(g)&&!p.disabled||g==="a"&&p.href||d;return m&&a(p)}function u(p){var d=p.getAttribute("tabindex");d===null&&(d=void 0);var g=isNaN(d);return(g||d>=0)&&l(p,!g)}function f(p){var d=[].slice.call(p.querySelectorAll("*"),0).reduce(function(g,m){return g.concat(m.shadowRoot?f(m.shadowRoot):[m])},[]);return d.filter(u)}t.exports=e.default})(t_,t_.exports);var X4=t_.exports;Object.defineProperty(ji,"__esModule",{value:!0});ji.resetState=HW;ji.log=VW;ji.handleBlur=Yh;ji.handleFocus=qh;ji.markForFocusLater=jW;ji.returnFocus=GW;ji.popWithoutFocus=WW;ji.setupScopedFocus=$W;ji.teardownScopedFocus=XW;var LW=X4,UW=zW(LW);function zW(t){return t&&t.__esModule?t:{default:t}}var Nu=[],iu=null,r_=!1;function HW(){Nu=[]}function VW(){}function Yh(){r_=!0}function qh(){if(r_){if(r_=!1,!iu)return;setTimeout(function(){if(!iu.contains(document.activeElement)){var t=(0,UW.default)(iu)[0]||iu;t.focus()}},0)}}function jW(){Nu.push(document.activeElement)}function GW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Nu.length!==0&&(e=Nu.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function WW(){Nu.length>0&&Nu.pop()}function $W(t){iu=t,window.addEventListener?(window.addEventListener("blur",Yh,!1),document.addEventListener("focus",qh,!0)):(window.attachEvent("onBlur",Yh),document.attachEvent("onFocus",qh))}function XW(){iu=null,window.addEventListener?(window.removeEventListener("blur",Yh),document.removeEventListener("focus",qh)):(window.detachEvent("onBlur",Yh),document.detachEvent("onFocus",qh))}var n_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=X4,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var u=(0,n.default)(a);if(!u.length){l.preventDefault();return}var f=void 0,p=l.shiftKey,d=u[0],g=u[u.length-1],m=s();if(a===m){if(!p)return;f=g}if(g===m&&!p&&(f=d),d===m&&p&&(f=g),f){l.preventDefault(),f.focus();return}var _=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=_!=null&&_[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(S){var T=u.indexOf(m);if(T>-1&&(T+=p?-1:1),f=u[T],typeof f>"u"){l.preventDefault(),f=p?g:d,f.focus();return}l.preventDefault(),f.focus()}}t.exports=e.default})(n_,n_.exports);var YW=n_.exports,Gi={},qW=function(){},KW=qW,zi={},Y4={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=r:window.ExecutionEnvironment=r})()})(Y4);var QW=Y4.exports;Object.defineProperty(zi,"__esModule",{value:!0});zi.canUseDOM=zi.SafeNodeList=zi.SafeHTMLCollection=void 0;var ZW=QW,JW=e$(ZW);function e$(t){return t&&t.__esModule?t:{default:t}}var Tm=JW.default,t$=Tm.canUseDOM?window.HTMLElement:{};zi.SafeHTMLCollection=Tm.canUseDOM?window.HTMLCollection:{};zi.SafeNodeList=Tm.canUseDOM?window.NodeList:{};zi.canUseDOM=Tm.canUseDOM;zi.default=t$;Object.defineProperty(Gi,"__esModule",{value:!0});Gi.resetState=o$;Gi.log=a$;Gi.assertNodeList=q4;Gi.setElement=l$;Gi.validateElement=Zb;Gi.hide=u$;Gi.show=c$;Gi.documentNotReadyOrSSRTesting=h$;var r$=KW,n$=s$(r$),i$=zi;function s$(t){return t&&t.__esModule?t:{default:t}}var ti=null;function o$(){ti&&(ti.removeAttribute?ti.removeAttribute("aria-hidden"):ti.length!=null?ti.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(ti).forEach(function(t){return t.removeAttribute("aria-hidden")})),ti=null}function a$(){}function q4(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function l$(t){var e=t;if(typeof e=="string"&&i$.canUseDOM){var r=document.querySelectorAll(e);q4(r,e),e=r}return ti=e||ti,ti}function Zb(t){var e=t||ti;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,n$.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function u$(t){var e=!0,r=!1,n=void 0;try{for(var i=Zb(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){r=!0,n=a}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}}function c$(t){var e=!0,r=!1,n=void 0;try{for(var i=Zb(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){r=!0,n=a}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}}function h$(){ti=null}var $u={};Object.defineProperty($u,"__esModule",{value:!0});$u.resetState=f$;$u.log=d$;var dh={},ph={};function WP(t,e){t.classList.remove(e)}function f$(){var t=document.getElementsByTagName("html")[0];for(var e in dh)WP(t,dh[e]);var r=document.body;for(var n in ph)WP(r,ph[n]);dh={},ph={}}function d$(){}var p$=function(e,r){return e[r]||(e[r]=0),e[r]+=1,r},m$=function(e,r){return e[r]&&(e[r]-=1),r},g$=function(e,r,n){n.forEach(function(i){p$(r,i),e.add(i)})},v$=function(e,r,n){n.forEach(function(i){m$(r,i),r[i]===0&&e.remove(i)})};$u.add=function(e,r){return g$(e.classList,e.nodeName.toLowerCase()=="html"?dh:ph,r.split(" "))};$u.remove=function(e,r){return v$(e.classList,e.nodeName.toLowerCase()=="html"?dh:ph,r.split(" "))};var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.log=x$;Xu.resetState=_$;function y$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var K4=function t(){var e=this;y$(this,t),this.register=function(r){e.openInstances.indexOf(r)===-1&&(e.openInstances.push(r),e.emit("register"))},this.deregister=function(r){var n=e.openInstances.indexOf(r);n!==-1&&(e.openInstances.splice(n,1),e.emit("deregister"))},this.subscribe=function(r){e.subscribers.push(r)},this.emit=function(r){e.subscribers.forEach(function(n){return n(r,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},A0=new K4;function x$(){console.log("portalOpenInstances ----------"),console.log(A0.openInstances.length),A0.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function _$(){A0=new K4}Xu.default=A0;var Jb={};Object.defineProperty(Jb,"__esModule",{value:!0});Jb.resetState=E$;Jb.log=T$;var b$=Xu,w$=S$(b$);function S$(t){return t&&t.__esModule?t:{default:t}}var Yr=void 0,Ci=void 0,ja=[];function E$(){for(var t=[Yr,Ci],e=0;e<t.length;e++){var r=t[e];r&&r.parentNode&&r.parentNode.removeChild(r)}Yr=Ci=null,ja=[]}function T$(){console.log("bodyTrap ----------"),console.log(ja.length);for(var t=[Yr,Ci],e=0;e<t.length;e++){var r=t[e],n=r||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")}function $P(){ja.length!==0&&ja[ja.length-1].focusContent()}function C$(t,e){!Yr&&!Ci&&(Yr=document.createElement("div"),Yr.setAttribute("data-react-modal-body-trap",""),Yr.style.position="absolute",Yr.style.opacity="0",Yr.setAttribute("tabindex","0"),Yr.addEventListener("focus",$P),Ci=Yr.cloneNode(),Ci.addEventListener("focus",$P)),ja=e,ja.length>0?(document.body.firstChild!==Yr&&document.body.insertBefore(Yr,document.body.firstChild),document.body.lastChild!==Ci&&document.body.appendChild(Ci)):(Yr.parentElement&&Yr.parentElement.removeChild(Yr),Ci.parentElement&&Ci.parentElement.removeChild(Ci))}w$.default.subscribe(C$);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(N){for(var G=1;G<arguments.length;G++){var Q=arguments[G];for(var z in Q)Object.prototype.hasOwnProperty.call(Q,z)&&(N[z]=Q[z])}return N},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},i=function(){function N(G,Q){for(var z=0;z<Q.length;z++){var F=Q[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(G,F.key,F)}}return function(G,Q,z){return Q&&N(G.prototype,Q),z&&N(G,z),G}}(),s=J,o=Tb,a=C(o),l=ji,u=x(l),f=YW,p=C(f),d=Gi,g=x(d),m=$u,_=x(m),S=zi,T=C(S),b=Xu,y=C(b);function x(N){if(N&&N.__esModule)return N;var G={};if(N!=null)for(var Q in N)Object.prototype.hasOwnProperty.call(N,Q)&&(G[Q]=N[Q]);return G.default=N,G}function C(N){return N&&N.__esModule?N:{default:N}}function M(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")}function I(N,G){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:N}function A(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);N.prototype=Object.create(G&&G.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(N,G):N.__proto__=G)}var D={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},R=function(G){return G.code==="Tab"||G.keyCode===9},k=function(G){return G.code==="Escape"||G.keyCode===27},O=0,U=function(N){A(G,N);function G(Q){M(this,G);var z=I(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,Q));return z.setOverlayRef=function(F){z.overlay=F,z.props.overlayRef&&z.props.overlayRef(F)},z.setContentRef=function(F){z.content=F,z.props.contentRef&&z.props.contentRef(F)},z.afterClose=function(){var F=z.props,$=F.appElement,H=F.ariaHideApp,L=F.htmlOpenClassName,j=F.bodyOpenClassName,Y=F.parentSelector,W=Y&&Y().ownerDocument||document;j&&_.remove(W.body,j),L&&_.remove(W.getElementsByTagName("html")[0],L),H&&O>0&&(O-=1,O===0&&g.show($)),z.props.shouldFocusAfterRender&&(z.props.shouldReturnFocusAfterClose?(u.returnFocus(z.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),z.props.onAfterClose&&z.props.onAfterClose(),y.default.deregister(z)},z.open=function(){z.beforeOpen(),z.state.afterOpen&&z.state.beforeClose?(clearTimeout(z.closeTimer),z.setState({beforeClose:!1})):(z.props.shouldFocusAfterRender&&(u.setupScopedFocus(z.node),u.markForFocusLater()),z.setState({isOpen:!0},function(){z.openAnimationFrame=requestAnimationFrame(function(){z.setState({afterOpen:!0}),z.props.isOpen&&z.props.onAfterOpen&&z.props.onAfterOpen({overlayEl:z.overlay,contentEl:z.content})})}))},z.close=function(){z.props.closeTimeoutMS>0?z.closeWithTimeout():z.closeWithoutTimeout()},z.focusContent=function(){return z.content&&!z.contentHasFocus()&&z.content.focus({preventScroll:!0})},z.closeWithTimeout=function(){var F=Date.now()+z.props.closeTimeoutMS;z.setState({beforeClose:!0,closesAt:F},function(){z.closeTimer=setTimeout(z.closeWithoutTimeout,z.state.closesAt-Date.now())})},z.closeWithoutTimeout=function(){z.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},z.afterClose)},z.handleKeyDown=function(F){R(F)&&(0,p.default)(z.content,F),z.props.shouldCloseOnEsc&&k(F)&&(F.stopPropagation(),z.requestClose(F))},z.handleOverlayOnClick=function(F){z.shouldClose===null&&(z.shouldClose=!0),z.shouldClose&&z.props.shouldCloseOnOverlayClick&&(z.ownerHandlesClose()?z.requestClose(F):z.focusContent()),z.shouldClose=null},z.handleContentOnMouseUp=function(){z.shouldClose=!1},z.handleOverlayOnMouseDown=function(F){!z.props.shouldCloseOnOverlayClick&&F.target==z.overlay&&F.preventDefault()},z.handleContentOnClick=function(){z.shouldClose=!1},z.handleContentOnMouseDown=function(){z.shouldClose=!1},z.requestClose=function(F){return z.ownerHandlesClose()&&z.props.onRequestClose(F)},z.ownerHandlesClose=function(){return z.props.onRequestClose},z.shouldBeClosed=function(){return!z.state.isOpen&&!z.state.beforeClose},z.contentHasFocus=function(){return document.activeElement===z.content||z.content.contains(document.activeElement)},z.buildClassName=function(F,$){var H=(typeof $>"u"?"undefined":n($))==="object"?$:{base:D[F],afterOpen:D[F]+"--after-open",beforeClose:D[F]+"--before-close"},L=H.base;return z.state.afterOpen&&(L=L+" "+H.afterOpen),z.state.beforeClose&&(L=L+" "+H.beforeClose),typeof $=="string"&&$?L+" "+$:L},z.attributesFromObject=function(F,$){return Object.keys($).reduce(function(H,L){return H[F+"-"+L]=$[L],H},{})},z.state={afterOpen:!1,beforeClose:!1},z.shouldClose=null,z.moveFromContentToOverlay=null,z}return i(G,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(z,F){this.props.isOpen&&!z.isOpen?this.open():!this.props.isOpen&&z.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!F.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var z=this.props,F=z.appElement,$=z.ariaHideApp,H=z.htmlOpenClassName,L=z.bodyOpenClassName,j=z.parentSelector,Y=j&&j().ownerDocument||document;L&&_.add(Y.body,L),H&&_.add(Y.getElementsByTagName("html")[0],H),$&&(O+=1,g.hide(F)),y.default.register(this)}},{key:"render",value:function(){var z=this.props,F=z.id,$=z.className,H=z.overlayClassName,L=z.defaultStyles,j=z.children,Y=$?{}:L.content,W=H?{}:L.overlay;if(this.shouldBeClosed())return null;var de={ref:this.setOverlayRef,className:this.buildClassName("overlay",H),style:r({},W,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},he=r({id:F,ref:this.setContentRef,style:r({},Y,this.props.style.content),className:this.buildClassName("content",$),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Pe=this.props.contentElement(he,j);return this.props.overlayElement(de,Pe)}}]),G}(s.Component);U.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},U.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(T.default),a.default.instanceOf(S.SafeHTMLCollection),a.default.instanceOf(S.SafeNodeList),a.default.arrayOf(a.default.instanceOf(T.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=U,t.exports=e.default})(e_,e_.exports);var P$=e_.exports;function Q4(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Z4(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function J4(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Q4.__suppressDeprecationWarning=!0;Z4.__suppressDeprecationWarning=!0;J4.__suppressDeprecationWarning=!0;function A$(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=Q4,e.componentWillReceiveProps=Z4),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=J4;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,f,p){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;a.call(this,u,f,d)}}return t}const R$=Object.freeze(Object.defineProperty({__proto__:null,polyfill:A$},Symbol.toStringTag,{value:"Module"})),I$=l_(R$);Object.defineProperty(Za,"__esModule",{value:!0});Za.bodyOpenClassName=Za.portalClassName=void 0;var XP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M$=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),e3=J,R0=df(e3),k$=gI,I0=df(k$),D$=Tb,Ve=df(D$),O$=P$,YP=df(O$),B$=Gi,N$=L$(B$),Mo=zi,qP=df(Mo),F$=I$;function L$(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function df(t){return t&&t.__esModule?t:{default:t}}function U$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KP(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function z$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var H$=Za.portalClassName="ReactModalPortal",V$=Za.bodyOpenClassName="ReactModal__Body--open",Ra=Mo.canUseDOM&&I0.default.createPortal!==void 0,QP=function(e){return document.createElement(e)},ZP=function(){return Ra?I0.default.createPortal:I0.default.unstable_renderSubtreeIntoContainer};function sp(t){return t()}var pf=function(t){z$(e,t);function e(){var r,n,i,s;U$(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(n=(i=KP(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(a))),i),i.removePortal=function(){!Ra&&I0.default.unmountComponentAtNode(i.node);var u=sp(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var f=ZP(),p=f(i,R0.default.createElement(YP.default,XP({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(p)},n),KP(i,s)}return M$(e,[{key:"componentDidMount",value:function(){if(Mo.canUseDOM){Ra||(this.node=QP("div")),this.node.className=this.props.portalClassName;var n=sp(this.props.parentSelector);n.appendChild(this.node),!Ra&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(n){var i=sp(n.parentSelector),s=sp(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(n,i,s){if(Mo.canUseDOM){var o=this.props,a=o.isOpen,l=o.portalClassName;n.portalClassName!==l&&(this.node.className=l);var u=s.prevParent,f=s.nextParent;f!==u&&(u.removeChild(this.node),f.appendChild(this.node)),!(!n.isOpen&&!a)&&!Ra&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Mo.canUseDOM||!this.node||!this.portal)){var n=this.portal.state,i=Date.now(),s=n.isOpen&&this.props.closeTimeoutMS&&(n.closesAt||i+this.props.closeTimeoutMS);s?(n.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!Mo.canUseDOM||!Ra)return null;!this.node&&Ra&&(this.node=QP("div"));var n=ZP();return n(R0.default.createElement(YP.default,XP({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(n){N$.setElement(n)}}]),e}(e3.Component);pf.propTypes={isOpen:Ve.default.bool.isRequired,style:Ve.default.shape({content:Ve.default.object,overlay:Ve.default.object}),portalClassName:Ve.default.string,bodyOpenClassName:Ve.default.string,htmlOpenClassName:Ve.default.string,className:Ve.default.oneOfType([Ve.default.string,Ve.default.shape({base:Ve.default.string.isRequired,afterOpen:Ve.default.string.isRequired,beforeClose:Ve.default.string.isRequired})]),overlayClassName:Ve.default.oneOfType([Ve.default.string,Ve.default.shape({base:Ve.default.string.isRequired,afterOpen:Ve.default.string.isRequired,beforeClose:Ve.default.string.isRequired})]),appElement:Ve.default.oneOfType([Ve.default.instanceOf(qP.default),Ve.default.instanceOf(Mo.SafeHTMLCollection),Ve.default.instanceOf(Mo.SafeNodeList),Ve.default.arrayOf(Ve.default.instanceOf(qP.default))]),onAfterOpen:Ve.default.func,onRequestClose:Ve.default.func,closeTimeoutMS:Ve.default.number,ariaHideApp:Ve.default.bool,shouldFocusAfterRender:Ve.default.bool,shouldCloseOnOverlayClick:Ve.default.bool,shouldReturnFocusAfterClose:Ve.default.bool,preventScroll:Ve.default.bool,parentSelector:Ve.default.func,aria:Ve.default.object,data:Ve.default.object,role:Ve.default.string,contentLabel:Ve.default.string,shouldCloseOnEsc:Ve.default.bool,overlayRef:Ve.default.func,contentRef:Ve.default.func,id:Ve.default.string,overlayElement:Ve.default.func,contentElement:Ve.default.func};pf.defaultProps={isOpen:!1,portalClassName:H$,bodyOpenClassName:V$,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,r){return R0.default.createElement("div",e,r)},contentElement:function(e,r){return R0.default.createElement("div",e,r)}};pf.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,F$.polyfill)(pf);Za.default=pf;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Za,n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}e.default=n.default,t.exports=e.default})(J1,J1.exports);var j$=J1.exports;const G$=Ja(j$);function W$({modalOpen:t,curData:e}){const[r,n]=J.useState([]),[i,s]=J.useState(!1),[o,a]=J.useState(""),[l,u]=J.useState(!1),[f,p]=J.useState(!1),d=m=>{m.target.value.length<17&&(a(m.target.value),e.name=m.target.value)},g=()=>(setTimeout(()=>{p(!1)},1e3),e.name.length==0?p(!0):(s(!1),u(!0),L1("/scores","POST",{...e}).then(m=>{n(U1(m.scores))}),!0));return J.useEffect(()=>{L1("/scores","GET").then(m=>{const _=U1(m.scores);n(_),s(_.filter(S=>S.score<e.score).length!=0)})},[e.score]),ae.jsxs(G$,{closeTimeoutMS:250,isOpen:t,className:"flex flex-col transition-opacity m-auto bg-neutral-800 my-20 w-fit p-2 px-4 text-center outline-none text-neutral-200 opacity-100 outline-double outline-8 outline-white",overlayClassName:"fixed top-0 left-0 right-0 bottom-0 bg-black opacity-80 transition-opacity",ariaHideApp:!1,children:[ae.jsx("p",{className:"align-middle justify-center m-auto mb-5 pt-5 bg-transparent rounded animate-bouncepulse text-6xl",children:"Game Over!"}),i?ae.jsxs("div",{children:[ae.jsx("p",{className:"align-middle justify-center m-auto mb-5 bg-transparent rounded-xl animate-bouncepulse text-2xl",children:"High Score!"}),ae.jsxs("div",{className:"flex flex-col",children:[ae.jsx("input",{className:"justify-center m-auto text-neutral-200 placeholder:text-neutral-400 bg-neutral-900 outline-double rounded focus:outline-double focus:outline-white py-1 text-center w-1/2"+(f?" animate-shake":""),id:"nameText",placeholder:"Enter a username",value:o,onChange:d}),ae.jsx("button",{className:'className="text-2xl m-auto justify-center align-middle text-center my-5 py-2 px-6 outline-double outline-4 hover:animate-colorpulse bg-opacity-50 rounded hover:cursor-pointer bg-black',onClick:g,children:"Submit"})]})]}):l?ae.jsx("p",{className:"animate-colorpulse",children:"Submited!"}):ae.jsxs("p",{className:"animate-colorpulse",children:["Your Score: ",e.score]}),ae.jsxs("div",{className:"flex flex-col justify-around text-center",children:[ae.jsx("p",{className:"text-3xl text-center py-4",children:"High Scores"}),ae.jsxs("table",{className:"table-auto",children:[ae.jsx("thead",{children:ae.jsxs("tr",{children:[ae.jsx("th",{children:"Rank"}),ae.jsx("th",{children:"Score"}),ae.jsx("th",{children:"Name"})]})}),ae.jsx("tbody",{children:r==null?void 0:r.map((m,_)=>{if(!(_>4))return ae.jsxs("tr",{className:"text-center",children:[ae.jsx("td",{className:m.name==o&&m.score==e.score?"animate-bouncepulse":"",children:_+1}),ae.jsx("td",{className:m.name==o&&m.score==e.score?"animate-bouncepulse":"",children:m.score}),ae.jsx("td",{className:m.name==o&&m.score==e.score?"animate-bouncepulse":"",children:m.name})]},_)})})]})]}),i&&!l||r.length==0?ae.jsx(ae.Fragment,{}):ae.jsxs(ae.Fragment,{children:[ae.jsx("button",{onClick:()=>window.location.reload(),className:"text-4xl m-auto justify-center align-middle text-center my-5 py-3 px-10 outline-double outline-4 hover:animate-colorpulse bg-opacity-50 hover:cursor-pointer bg-black",children:"Play Again"}),ae.jsx(Wo,{to:"/leaderboard",className:"text-4xl m-auto justify-center align-middle text-center mb-2 py-3 px-10 outline-double outline-4 hover:animate-colorpulse bg-opacity-50 hover:cursor-pointer bg-black",children:"Leaderboard"})]})]})}var we={},i_={exports:{}};(function(t,e){(function(r,n){var i="1.0.35",s="",o="?",a="function",l="undefined",u="object",f="string",p="major",d="model",g="name",m="type",_="vendor",S="version",T="architecture",b="console",y="mobile",x="tablet",C="smarttv",M="wearable",I="embedded",A=350,D="Amazon",R="Apple",k="ASUS",O="BlackBerry",U="Browser",N="Chrome",G="Edge",Q="Firefox",z="Google",F="Huawei",$="LG",H="Microsoft",L="Motorola",j="Opera",Y="Samsung",W="Sharp",de="Sony",he="Xiaomi",Pe="Zebra",ge="Facebook",ut="Chromium OS",Ze="Mac OS",Ie=function(Ge,We){var De={};for(var st in Ge)We[st]&&We[st].length%2===0?De[st]=We[st].concat(Ge[st]):De[st]=Ge[st];return De},Xe=function(Ge){for(var We={},De=0;De<Ge.length;De++)We[Ge[De].toUpperCase()]=Ge[De];return We},Oe=function(Ge,We){return typeof Ge===f?it(We).indexOf(it(Ge))!==-1:!1},it=function(Ge){return Ge.toLowerCase()},St=function(Ge){return typeof Ge===f?Ge.replace(/[^\d\.]/g,s).split(".")[0]:n},ir=function(Ge,We){if(typeof Ge===f)return Ge=Ge.replace(/^\s\s*/,s),typeof We===l?Ge:Ge.substring(0,A)},vr=function(Ge,We){for(var De=0,st,sn,yr,Ye,Re,zr;De<We.length&&!Re;){var K=We[De],Z=We[De+1];for(st=sn=0;st<K.length&&!Re&&K[st];)if(Re=K[st++].exec(Ge),Re)for(yr=0;yr<Z.length;yr++)zr=Re[++sn],Ye=Z[yr],typeof Ye===u&&Ye.length>0?Ye.length===2?typeof Ye[1]==a?this[Ye[0]]=Ye[1].call(this,zr):this[Ye[0]]=Ye[1]:Ye.length===3?typeof Ye[1]===a&&!(Ye[1].exec&&Ye[1].test)?this[Ye[0]]=zr?Ye[1].call(this,zr,Ye[2]):n:this[Ye[0]]=zr?zr.replace(Ye[1],Ye[2]):n:Ye.length===4&&(this[Ye[0]]=zr?Ye[3].call(this,zr.replace(Ye[1],Ye[2])):n):this[Ye]=zr||n;De+=2}},qt=function(Ge,We){for(var De in We)if(typeof We[De]===u&&We[De].length>0){for(var st=0;st<We[De].length;st++)if(Oe(We[De][st],Ge))return De===o?n:De}else if(Oe(We[De],Ge))return De===o?n:De;return Ge},hi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Nt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},hr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[S,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[S,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,S],[/opios[\/ ]+([\w\.]+)/i],[S,[g,j+" Mini"]],[/\bopr\/([\w\.]+)/i],[S,[g,j]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,S],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[S,[g,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[S,[g,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[S,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[S,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[S,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[S,[g,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+U],S],[/\bfocus\/([\w\.]+)/i],[S,[g,Q+" Focus"]],[/\bopt\/([\w\.]+)/i],[S,[g,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[S,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[S,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[S,[g,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[S,[g,"MIUI "+U]],[/fxios\/([-\w\.]+)/i],[S,[g,Q]],[/\bqihu|(qi?ho?o?|360)browser/i],[[g,"360 "+U]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 "+U],S],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],S],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[g,S],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,ge],S],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[g,S],[/\bgsa\/([\w\.]+) .*safari\//i],[S,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[S,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[S,[g,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,N+" WebView"],S],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[S,[g,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,S],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[S,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[S,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[S,qt,hi]],[/(webkit|khtml)\/([\w\.]+)/i],[g,S],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],S],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[S,[g,Q+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[g,S],[/(cobalt)\/([\w\.]+)/i],[g,[S,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,it]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,s,it]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,it]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[_,Y],[m,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[_,Y],[m,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[_,R],[m,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[_,R],[m,x]],[/(macintosh);/i],[d,[_,R]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[_,W],[m,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[_,F],[m,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[_,F],[m,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[_,he],[m,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[_,he],[m,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[_,"OPPO"],[m,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[_,"Vivo"],[m,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[_,"Realme"],[m,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[_,L],[m,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[_,L],[m,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[_,$],[m,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[_,$],[m,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[_,"Lenovo"],[m,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[_,"Nokia"],[m,y]],[/(pixel c)\b/i],[d,[_,z],[m,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[_,z],[m,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[_,de],[m,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[_,de],[m,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[_,"OnePlus"],[m,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[_,D],[m,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[_,D],[m,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,_,[m,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[_,O],[m,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[_,k],[m,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[_,k],[m,y]],[/(nexus 9)/i],[d,[_,"HTC"],[m,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[_,[d,/_/g," "],[m,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[_,"Acer"],[m,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[_,"Meizu"],[m,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[_,d,[m,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[_,d,[m,x]],[/(surface duo)/i],[d,[_,H],[m,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[_,"Fairphone"],[m,y]],[/(u304aa)/i],[d,[_,"AT&T"],[m,y]],[/\bsie-(\w*)/i],[d,[_,"Siemens"],[m,y]],[/\b(rct\w+) b/i],[d,[_,"RCA"],[m,x]],[/\b(venue[\d ]{2,7}) b/i],[d,[_,"Dell"],[m,x]],[/\b(q(?:mv|ta)\w+) b/i],[d,[_,"Verizon"],[m,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[_,"Barnes & Noble"],[m,x]],[/\b(tm\d{3}\w+) b/i],[d,[_,"NuVision"],[m,x]],[/\b(k88) b/i],[d,[_,"ZTE"],[m,x]],[/\b(nx\d{3}j) b/i],[d,[_,"ZTE"],[m,y]],[/\b(gen\d{3}) b.+49h/i],[d,[_,"Swiss"],[m,y]],[/\b(zur\d{3}) b/i],[d,[_,"Swiss"],[m,x]],[/\b((zeki)?tb.*\b) b/i],[d,[_,"Zeki"],[m,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[_,"Dragon Touch"],d,[m,x]],[/\b(ns-?\w{0,9}) b/i],[d,[_,"Insignia"],[m,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[_,"NextBook"],[m,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[_,"Voice"],d,[m,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[_,"LvTel"],d,[m,y]],[/\b(ph-1) /i],[d,[_,"Essential"],[m,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[_,"Envizen"],[m,x]],[/\b(trio[-\w\. ]+) b/i],[d,[_,"MachSpeed"],[m,x]],[/\btu_(1491) b/i],[d,[_,"Rotor"],[m,x]],[/(shield[\w ]+) b/i],[d,[_,"Nvidia"],[m,x]],[/(sprint) (\w+)/i],[_,d,[m,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[_,H],[m,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[_,Pe],[m,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[_,Pe],[m,y]],[/smart-tv.+(samsung)/i],[_,[m,C]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[_,Y],[m,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[_,$],[m,C]],[/(apple) ?tv/i],[_,[d,R+" TV"],[m,C]],[/crkey/i],[[d,N+"cast"],[_,z],[m,C]],[/droid.+aft(\w)( bui|\))/i],[d,[_,D],[m,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[_,W],[m,C]],[/(bravia[\w ]+)( bui|\))/i],[d,[_,de],[m,C]],[/(mitv-\w{5}) bui/i],[d,[_,he],[m,C]],[/Hbbtv.*(technisat) (.*);/i],[_,d,[m,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[_,ir],[d,ir],[m,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[_,d,[m,b]],[/droid.+; (shield) bui/i],[d,[_,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[d,[_,de],[m,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[_,H],[m,b]],[/((pebble))app/i],[_,d,[m,M]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[_,R],[m,M]],[/droid.+; (glass) \d/i],[d,[_,z],[m,M]],[/droid.+; (wt63?0{2,3})\)/i],[d,[_,Pe],[m,M]],[/(quest( 2| pro)?)/i],[d,[_,ge],[m,M]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[_,[m,I]],[/(aeobc)\b/i],[d,[_,D],[m,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[m,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[m,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[_,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[S,[g,G+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[S,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,S],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[S,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,S],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[g,[S,qt,Nt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,"Windows"],[S,qt,Nt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[S,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,Ze],[S,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[S,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,S],[/\(bb(10);/i],[S,[g,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[S,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[S,[g,Q+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[S,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[S,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[S,[g,N+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,ut],S],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,S],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],S],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,S]]},gt=function(Ge,We){if(typeof Ge===u&&(We=Ge,Ge=n),!(this instanceof gt))return new gt(Ge,We).getResult();var De=typeof r!==l&&r.navigator?r.navigator:n,st=Ge||(De&&De.userAgent?De.userAgent:s),sn=De&&De.userAgentData?De.userAgentData:n,yr=We?Ie(hr,We):hr,Ye=De&&De.userAgent==st;return this.getBrowser=function(){var Re={};return Re[g]=n,Re[S]=n,vr.call(Re,st,yr.browser),Re[p]=St(Re[S]),Ye&&De&&De.brave&&typeof De.brave.isBrave==a&&(Re[g]="Brave"),Re},this.getCPU=function(){var Re={};return Re[T]=n,vr.call(Re,st,yr.cpu),Re},this.getDevice=function(){var Re={};return Re[_]=n,Re[d]=n,Re[m]=n,vr.call(Re,st,yr.device),Ye&&!Re[m]&&sn&&sn.mobile&&(Re[m]=y),Ye&&Re[d]=="Macintosh"&&De&&typeof De.standalone!==l&&De.maxTouchPoints&&De.maxTouchPoints>2&&(Re[d]="iPad",Re[m]=x),Re},this.getEngine=function(){var Re={};return Re[g]=n,Re[S]=n,vr.call(Re,st,yr.engine),Re},this.getOS=function(){var Re={};return Re[g]=n,Re[S]=n,vr.call(Re,st,yr.os),Ye&&!Re[g]&&sn&&sn.platform!="Unknown"&&(Re[g]=sn.platform.replace(/chrome os/i,ut).replace(/macos/i,Ze)),Re},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return st},this.setUA=function(Re){return st=typeof Re===f&&Re.length>A?ir(Re,A):Re,this},this.setUA(st),this};gt.VERSION=i,gt.BROWSER=Xe([g,S,p]),gt.CPU=Xe([T]),gt.DEVICE=Xe([d,_,m,b,y,C,x,M,I]),gt.ENGINE=gt.OS=Xe([g,S]),t.exports&&(e=t.exports=gt),e.UAParser=gt;var sr=typeof r!==l&&(r.jQuery||r.Zepto);if(sr&&!sr.ua){var Ir=new gt;sr.ua=Ir.getResult(),sr.ua.get=function(){return Ir.getUA()},sr.ua.set=function(Ge){Ir.setUA(Ge);var We=Ir.getResult();for(var De in We)sr.ua[De]=We[De]}}})(typeof window=="object"?window:$e)})(i_,i_.exports);var $$=i_.exports;Object.defineProperty(we,"__esModule",{value:!0});function X$(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Jr=J,wt=X$(Jr),t3=$$,ia=new t3,nn=ia.getBrowser(),Y$=ia.getCPU(),jn=ia.getDevice(),ew=ia.getEngine(),sa=ia.getOS(),mf=ia.getUA(),r3=function(e){return ia.setUA(e)},gf=function(e){if(!e){console.error("No userAgent string was provided");return}var r=new t3(e);return{UA:r,browser:r.getBrowser(),cpu:r.getCPU(),device:r.getDevice(),engine:r.getEngine(),os:r.getOS(),ua:r.getUA(),setUserAgent:function(i){return r.setUA(i)}}},n3=Object.freeze({ClientUAInstance:ia,browser:nn,cpu:Y$,device:jn,engine:ew,os:sa,ua:mf,setUa:r3,parseUserAgent:gf});function JP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(r),!0).forEach(function(n){Z$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mh(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mh=function(e){return typeof e}:mh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function K$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Q$(t,e,r){return e&&eA(t.prototype,e),r&&eA(t,r),t}function Z$(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s_(){return s_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s_.apply(this,arguments)}function J$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a_(t,e)}function o_(t){return o_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},o_(t)}function a_(t,e){return a_=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},a_(t,e)}function eX(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ci(t,e){if(t==null)return{};var r=eX(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ap(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tX(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ap(t)}function rX(t,e){return nX(t)||iX(t,e)||sX(t,e)||oX()}function nX(t){if(Array.isArray(t))return t}function iX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,o,a;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw a}}return n}}function sX(t,e){if(t){if(typeof t=="string")return tA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tA(t,e)}}function tA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kr={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},En={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},Yu={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},aX={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},lX=function(e){switch(e){case Kr.Mobile:return{isMobile:!0};case Kr.Tablet:return{isTablet:!0};case Kr.SmartTv:return{isSmartTV:!0};case Kr.Console:return{isConsole:!0};case Kr.Wearable:return{isWearable:!0};case Kr.Browser:return{isBrowser:!0};case Kr.Embedded:return{isEmbedded:!0};default:return aX}},uX=function(e){return r3(e)},He=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||r},tw=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},rw=function(e){var r=tw();return r&&r.platform&&(r.platform.indexOf(e)!==-1||r.platform==="MacIntel"&&r.maxTouchPoints>1&&!window.MSStream)},cX=function(e,r,n,i,s){return{isBrowser:e,browserMajorVersion:He(r.major),browserFullVersion:He(r.version),browserName:He(r.name),engineName:He(n.name),engineVersion:He(n.version),osName:He(i.name),osVersion:He(i.version),userAgent:He(s)}},rA=function(e,r,n,i){return q$({},e,{vendor:He(r.vendor),model:He(r.model),os:He(n.name),osVersion:He(n.version),ua:He(i)})},hX=function(e,r,n,i){return{isSmartTV:e,engineName:He(r.name),engineVersion:He(r.version),osName:He(n.name),osVersion:He(n.version),userAgent:He(i)}},fX=function(e,r,n,i){return{isConsole:e,engineName:He(r.name),engineVersion:He(r.version),osName:He(n.name),osVersion:He(n.version),userAgent:He(i)}},dX=function(e,r,n,i){return{isWearable:e,engineName:He(r.name),engineVersion:He(r.version),osName:He(n.name),osVersion:He(n.version),userAgent:He(i)}},pX=function(e,r,n,i,s){return{isEmbedded:e,vendor:He(r.vendor),model:He(r.model),engineName:He(n.name),engineVersion:He(n.version),osName:He(i.name),osVersion:He(i.version),userAgent:He(s)}};function mX(t){var e=t?gf(t):n3,r=e.device,n=e.browser,i=e.engine,s=e.os,o=e.ua,a=lX(r.type),l=a.isBrowser,u=a.isMobile,f=a.isTablet,p=a.isSmartTV,d=a.isConsole,g=a.isWearable,m=a.isEmbedded;if(l)return cX(l,n,i,s,o);if(p)return hX(p,i,s,o);if(d)return fX(d,i,s,o);if(u||f)return rA(a,r,s,o);if(g)return dX(g,i,s,o);if(m)return pX(m,r,i,s,o)}var i3=function(e){var r=e.type;return r===Kr.Mobile},s3=function(e){var r=e.type;return r===Kr.Tablet},o3=function(e){var r=e.type;return r===Kr.Mobile||r===Kr.Tablet},a3=function(e){var r=e.type;return r===Kr.SmartTv},M0=function(e){var r=e.type;return r===Kr.Browser},l3=function(e){var r=e.type;return r===Kr.Wearable},u3=function(e){var r=e.type;return r===Kr.Console},c3=function(e){var r=e.type;return r===Kr.Embedded},h3=function(e){var r=e.vendor;return He(r)},f3=function(e){var r=e.model;return He(r)},d3=function(e){var r=e.type;return He(r,"browser")},p3=function(e){var r=e.name;return r===Yu.Android},m3=function(e){var r=e.name;return r===Yu.Windows},g3=function(e){var r=e.name;return r===Yu.MAC_OS},v3=function(e){var r=e.name;return r===Yu.WindowsPhone},y3=function(e){var r=e.name;return r===Yu.IOS},x3=function(e){var r=e.version;return He(r)},_3=function(e){var r=e.name;return He(r)},b3=function(e){var r=e.name;return r===En.Chrome},w3=function(e){var r=e.name;return r===En.Firefox},S3=function(e){var r=e.name;return r===En.Chromium},k0=function(e){var r=e.name;return r===En.Edge},E3=function(e){var r=e.name;return r===En.Yandex},T3=function(e){var r=e.name;return r===En.Safari||r===En.MobileSafari},C3=function(e){var r=e.name;return r===En.MobileSafari},P3=function(e){var r=e.name;return r===En.Opera},A3=function(e){var r=e.name;return r===En.InternetExplorer||r===En.Ie},R3=function(e){var r=e.name;return r===En.MIUI},I3=function(e){var r=e.name;return r===En.SamsungBrowser},M3=function(e){var r=e.version;return He(r)},k3=function(e){var r=e.major;return He(r)},D3=function(e){var r=e.name;return He(r)},O3=function(e){var r=e.name;return He(r)},B3=function(e){var r=e.version;return He(r)},N3=function(){var e=tw(),r=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof r=="string"?/electron/.test(r):!1},xu=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},F3=function(){var e=tw();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},hs=function(){return rw("iPad")},L3=function(){return rw("iPhone")},U3=function(){return rw("iPod")},z3=function(e){return He(e)};function H3(t){var e=t||n3,r=e.device,n=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:a3(r),isConsole:u3(r),isWearable:l3(r),isEmbedded:c3(r),isMobileSafari:C3(n)||hs(),isChromium:S3(n),isMobile:o3(r)||hs(),isMobileOnly:i3(r),isTablet:s3(r)||hs(),isBrowser:M0(r),isDesktop:M0(r),isAndroid:p3(i),isWinPhone:v3(i),isIOS:y3(i)||hs(),isChrome:b3(n),isFirefox:w3(n),isSafari:T3(n),isOpera:P3(n),isIE:A3(n),osVersion:x3(i),osName:_3(i),fullBrowserVersion:M3(n),browserVersion:k3(n),browserName:D3(n),mobileVendor:h3(r),mobileModel:f3(r),engineName:O3(s),engineVersion:B3(s),getUA:z3(o),isEdge:k0(n)||xu(o),isYandex:E3(n),deviceType:d3(r),isIOS13:F3(),isIPad13:hs(),isIPhone13:L3(),isIPod13:U3(),isElectron:N3(),isEdgeChromium:xu(o),isLegacyEdge:k0(n)&&!xu(o),isWindows:m3(i),isMacOs:g3(i),isMIUI:R3(n),isSamsungBrowser:I3(n)}}var V3=a3(jn),j3=u3(jn),G3=l3(jn),gX=c3(jn),vX=C3(nn)||hs(),yX=S3(nn),Cm=o3(jn)||hs(),W3=i3(jn),$3=s3(jn)||hs(),X3=M0(jn),xX=M0(jn),Y3=p3(sa),q3=v3(sa),K3=y3(sa)||hs(),_X=b3(nn),bX=w3(nn),wX=T3(nn),SX=P3(nn),Q3=A3(nn),EX=x3(sa),TX=_3(sa),CX=M3(nn),PX=k3(nn),AX=D3(nn),RX=h3(jn),IX=f3(jn),MX=O3(ew),kX=B3(ew),DX=z3(mf),OX=k0(nn)||xu(mf),BX=E3(nn),NX=d3(jn),FX=F3(),LX=hs(),UX=L3(),zX=U3(),HX=N3(),VX=xu(mf),jX=k0(nn)&&!xu(mf),GX=m3(sa),WX=g3(sa),$X=R3(nn),XX=I3(nn),YX=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var r=gf(e),n=r.device,i=r.browser,s=r.os,o=r.engine,a=r.ua;return H3({device:n,browser:i,os:s,engine:o,ua:a})},qX=function(e){var r=e.renderWithFragment,n=e.children,i=ci(e,["renderWithFragment","children"]);return Y3?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},KX=function(e){var r=e.renderWithFragment,n=e.children,i=ci(e,["renderWithFragment","children"]);return X3?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},QX=function(e){var r=e.renderWithFragment,n=e.children,i=ci(e,["renderWithFragment","children"]);return Q3?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},ZX=function(e){var r=e.renderWithFragment,n=e.children,i=ci(e,["renderWithFragment","children"]);return K3?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},JX=function(e){var r=e.renderWithFragment,n=e.children,i=ci(e,["renderWithFragment","children"]);return Cm?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},eY=function(e){var r=e.renderWithFragment,n=e.children,i=ci(e,["renderWithFragment","children"]);return $3?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},tY=function(e){var r=e.renderWithFragment,n=e.children,i=ci(e,["renderWithFragment","children"]);return q3?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},rY=function(e){var r=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var i=ci(e,["renderWithFragment","children","viewClassName","style"]);return W3?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},nY=function(e){var r=e.renderWithFragment,n=e.children,i=ci(e,["renderWithFragment","children"]);return V3?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},iY=function(e){var r=e.renderWithFragment,n=e.children,i=ci(e,["renderWithFragment","children"]);return j3?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},sY=function(e){var r=e.renderWithFragment,n=e.children,i=ci(e,["renderWithFragment","children"]);return G3?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",i,n):null},oY=function(e){var r=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var i=e.condition,s=ci(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?r?wt.createElement(Jr.Fragment,null,n):wt.createElement("div",s,n):null};function aY(t){return function(e){J$(r,e);function r(n){var i;return K$(this,r),i=tX(this,o_(r).call(this,n)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(Ap(i)),i.onOrientationChange=i.onOrientationChange.bind(Ap(i)),i.onPageLoad=i.onPageLoad.bind(Ap(i)),i.state={isLandscape:!1,isPortrait:!1},i}return Q$(r,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":mh(window))!==void 0&&Cm&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return wt.createElement(t,s_({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),r}(wt.Component)}function lY(){var t=Jr.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=rX(t,2),r=e[0],n=e[1],i=Jr.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};r.orientation!==o.orientation&&n(o)},[r.orientation]);return Jr.useEffect(function(){return(typeof window>"u"?"undefined":mh(window))!==void 0&&Cm&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),r}function Z3(t){var e=t||window.navigator.userAgent;return gf(e)}function uY(t){var e=t||window.navigator.userAgent,r=Z3(e),n=H3(r);return[n,r]}we.AndroidView=qX;we.BrowserTypes=En;we.BrowserView=KX;we.ConsoleView=iY;we.CustomView=oY;we.IEView=QX;we.IOSView=ZX;we.MobileOnlyView=rY;we.MobileView=JX;we.OsTypes=Yu;we.SmartTVView=nY;we.TabletView=eY;we.WearableView=sY;we.WinPhoneView=tY;we.browserName=AX;we.browserVersion=PX;we.deviceDetect=mX;we.deviceType=NX;we.engineName=MX;we.engineVersion=kX;we.fullBrowserVersion=CX;we.getSelectorsByUserAgent=YX;we.getUA=DX;we.isAndroid=Y3;we.isBrowser=X3;we.isChrome=_X;we.isChromium=yX;we.isConsole=j3;we.isDesktop=xX;we.isEdge=OX;we.isEdgeChromium=VX;we.isElectron=HX;we.isEmbedded=gX;we.isFirefox=bX;we.isIE=Q3;we.isIOS=K3;we.isIOS13=FX;we.isIPad13=LX;we.isIPhone13=UX;we.isIPod13=zX;we.isLegacyEdge=jX;we.isMIUI=$X;we.isMacOs=WX;var cY=we.isMobile=Cm;we.isMobileOnly=W3;we.isMobileSafari=vX;we.isOpera=SX;we.isSafari=wX;we.isSamsungBrowser=XX;we.isSmartTV=V3;we.isTablet=$3;we.isWearable=G3;we.isWinPhone=q3;we.isWindows=GX;we.isYandex=BX;we.mobileModel=IX;we.mobileVendor=RX;we.osName=TX;we.osVersion=EX;we.parseUserAgent=gf;we.setUserAgent=uX;we.useDeviceData=Z3;we.useDeviceSelectors=uY;we.useMobileOrientation=lY;we.withOrientationChange=aY;function hY(){const[t,e]=Cb(),[r,n]=J.useState(0),[i,s]=J.useState(0),[o,a]=J.useState(!1),[l,u]=J.useState(!1),f=m=>{s(m)},p=m=>{n(m)},d=()=>{o||(u(!0),a(!0))},g=()=>{u(!1)};return cY?ae.jsxs("div",{className:"flex items-center flex-col text-neutral-200 justify-center m-auto h-screen",children:[ae.jsx("p",{className:"animate-colorpulse",children:"Mobile is not supported :("}),ae.jsx(Wo,{to:"/",className:"text-xl justify-center align-middle text-center mt-10 py-2 px-8 outline-double outline-4 hover:animate-colorpulse bg-opacity-90 bg-black",children:"Home"})]}):ae.jsxs(Qb,{children:[ae.jsxs("p",{className:"absolute top-0 left-0 p-5 text-3xl text-neutral-300 bg-transparent",children:["Score: ",r]}),ae.jsx("p",{className:"absolute top-5 left-1/2 transform -translate-x-1/2 text-sm text-center w-2/3 break-word text-neutral-300",children:"Use [W or ArrowUp] to go forward, [A or ArrowLeft, D or ArrowRight] to steer, and [Space] to shoot!"}),ae.jsxs("p",{className:"absolute top-0 right-0 p-5 text-3xl text-neutral-300 bg-transparent",children:["Level: ",i]}),i!=-1?ae.jsx(_s.Stage,{width:t,height:e,options:{backgroundColor:0,clearBeforeRender:!0},className:"absolute -z-50 w-screen h-screen top-0 left-1/2 right-1/2 -translate-x-1/2",children:ae.jsx(Ib,{count:4,screen:new Ar(t,e),player:!0,setScore:p,setLevel:f,gameOver:d})}):ae.jsx(ae.Fragment,{}),o?ae.jsx(W$,{modalOpen:l,closeModal:g,curData:{name:"",level:i,score:r}}):ae.jsx(ae.Fragment,{})]})}function op(){return ae.jsxs("div",{className:"flex flex-col h-screen text-8xl bg-black text-neutral-200",children:[ae.jsx("p",{className:"align-middle justify-center m-auto mb-10",children:"404"}),ae.jsx(Wo,{to:"/",className:"text-4xl m-auto justify-center align-middle text-center mt-5 py-4 px-10 outline-double hover:outline-neutral-400 hover:text-neutral-300",children:"Home"})]})}function fY(){const[t,e]=J.useState(),[r,n]=Cb();return J.useEffect(()=>{L1("/scores","GET").then(i=>{e(U1(i.scores,!1))})},[]),ae.jsxs(Qb,{children:[ae.jsxs("div",{className:"flex flex-col text-neutral-300 justify-center",children:[ae.jsx("p",{className:"text-2xl sm:text-4xl w-min md:w-max md:text-4xl mt-8 align-middle justify-center m-auto mb-10 py-2 px-8 bg-black rounded animate-colorpulse bg-opacity-90",children:"High Score Leaderboard"}),ae.jsx(Wo,{to:"/",className:"text-xl m-auto justify-center align-middle text-center mb-10 py-2 px-8 outline-double outline-4 hover:animate-colorpulse bg-opacity-90 bg-black",children:"Home"}),ae.jsxs("table",{className:"justify-around m-auto w-[85vw] table-fixed bg-black bg-opacity-90",children:[ae.jsx("thead",{children:ae.jsxs("tr",{className:"py-8 text-xl md:text-2xl",children:[ae.jsx("th",{children:"Rank"}),ae.jsx("th",{children:"Score"}),ae.jsx("th",{children:"Name"})]})}),ae.jsx("tbody",{children:t==null?void 0:t.map((i,s)=>ae.jsxs("tr",{className:"py-8 text-center break-words",children:[ae.jsx("td",{className:"py-2",children:s+1}),ae.jsx("td",{children:i.score}),ae.jsx("td",{children:i.name})]},s))})]})]}),ae.jsx(_s.Stage,{width:r,height:n,options:{backgroundColor:0},className:"absolute -z-50 w-screen h-screen top-0 left-1/2 right-1/2 -translate-x-1/2",children:ae.jsx(Ib,{count:25,screen:new Ar(r,n),player:!1,setScore:()=>1,setLevel:()=>1,gameOver:()=>1})})]})}const dY=CF([{path:"/",element:ae.jsx(FW,{}),errorElement:ae.jsx(op,{})},{path:"/play",element:ae.jsx(hY,{}),errorElement:ae.jsx(op,{})},{path:"/leaderboard",element:ae.jsx(fY,{}),errorElement:ae.jsx(op,{})},{path:"*",element:ae.jsx(op,{})}]);qy.createRoot(document.getElementById("root")).render(ae.jsx(Nn.StrictMode,{children:ae.jsx(yF,{router:dY})}))});export default pY();
