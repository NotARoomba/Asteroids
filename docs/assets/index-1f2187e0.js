var N2=Object.defineProperty;var O2=(t,e,r)=>e in t?N2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var B2=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var er=(t,e,r)=>(O2(t,typeof e!="symbol"?e+"":e,r),r);var pG=B2((yG,qp)=>{function U2(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var lC={exports:{}},Mp={},uC={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=Symbol.for("react.element"),z2=Symbol.for("react.portal"),V2=Symbol.for("react.fragment"),j2=Symbol.for("react.strict_mode"),G2=Symbol.for("react.profiler"),H2=Symbol.for("react.provider"),$2=Symbol.for("react.context"),W2=Symbol.for("react.forward_ref"),X2=Symbol.for("react.suspense"),Y2=Symbol.for("react.memo"),K2=Symbol.for("react.lazy"),Bw=Symbol.iterator;function Q2(t){return t===null||typeof t!="object"?null:(t=Bw&&t[Bw]||t["@@iterator"],typeof t=="function"?t:null)}var cC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hC=Object.assign,fC={};function $l(t,e,r){this.props=t,this.context=e,this.refs=fC,this.updater=r||cC}$l.prototype.isReactComponent={};$l.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$l.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dC(){}dC.prototype=$l.prototype;function yx(t,e,r){this.props=t,this.context=e,this.refs=fC,this.updater=r||cC}var vx=yx.prototype=new dC;vx.constructor=yx;hC(vx,$l.prototype);vx.isPureReactComponent=!0;var Uw=Array.isArray,pC=Object.prototype.hasOwnProperty,xx={current:null},mC={key:!0,ref:!0,__self:!0,__source:!0};function gC(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pC.call(e,n)&&!mC.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),h=0;h<a;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Jc,type:t,key:s,ref:o,props:i,_owner:xx.current}}function q2(t,e){return{$$typeof:Jc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _x(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jc}function Z2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var zw=/\/+/g;function Ug(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Z2(""+t.key):e.toString(36)}function hd(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jc:case z2:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Ug(o,0):n,Uw(i)?(r="",t!=null&&(r=t.replace(zw,"$&/")+"/"),hd(i,e,r,"",function(h){return h})):i!=null&&(_x(i)&&(i=q2(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Uw(t))for(var a=0;a<t.length;a++){s=t[a];var u=n+Ug(s,a);o+=hd(s,e,r,u,i)}else if(u=Q2(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=n+Ug(s,a++),o+=hd(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ff(t,e,r){if(t==null)return t;var n=[],i=0;return hd(t,n,"","",function(s){return e.call(r,s,i++)}),n}function J2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dr={current:null},fd={transition:null},ek={ReactCurrentDispatcher:Dr,ReactCurrentBatchConfig:fd,ReactCurrentOwner:xx};Ge.Children={map:ff,forEach:function(t,e,r){ff(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ff(t,function(){e++}),e},toArray:function(t){return ff(t,function(e){return e})||[]},only:function(t){if(!_x(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=$l;Ge.Fragment=V2;Ge.Profiler=G2;Ge.PureComponent=yx;Ge.StrictMode=j2;Ge.Suspense=X2;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ek;Ge.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=hC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)pC.call(e,u)&&!mC.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var h=0;h<u;h++)a[h]=arguments[h+2];n.children=a}return{$$typeof:Jc,type:t.type,key:i,ref:s,props:n,_owner:o}};Ge.createContext=function(t){return t={$$typeof:$2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:H2,_context:t},t.Consumer=t};Ge.createElement=gC;Ge.createFactory=function(t){var e=gC.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:W2,render:t}};Ge.isValidElement=_x;Ge.lazy=function(t){return{$$typeof:K2,_payload:{_status:-1,_result:t},_init:J2}};Ge.memo=function(t,e){return{$$typeof:Y2,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=fd.transition;fd.transition={};try{t()}finally{fd.transition=e}};Ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ge.useCallback=function(t,e){return Dr.current.useCallback(t,e)};Ge.useContext=function(t){return Dr.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return Dr.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return Dr.current.useEffect(t,e)};Ge.useId=function(){return Dr.current.useId()};Ge.useImperativeHandle=function(t,e,r){return Dr.current.useImperativeHandle(t,e,r)};Ge.useInsertionEffect=function(t,e){return Dr.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return Dr.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return Dr.current.useMemo(t,e)};Ge.useReducer=function(t,e,r){return Dr.current.useReducer(t,e,r)};Ge.useRef=function(t){return Dr.current.useRef(t)};Ge.useState=function(t){return Dr.current.useState(t)};Ge.useSyncExternalStore=function(t,e,r){return Dr.current.useSyncExternalStore(t,e,r)};Ge.useTransition=function(){return Dr.current.useTransition()};Ge.version="18.2.0";uC.exports=Ge;var K=uC.exports;const sn=Zc(K),tk=U2({__proto__:null,default:sn},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk=K,nk=Symbol.for("react.element"),ik=Symbol.for("react.fragment"),sk=Object.prototype.hasOwnProperty,ok=rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ak={key:!0,ref:!0,__self:!0,__source:!0};function yC(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)sk.call(e,n)&&!ak.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:nk,type:t,key:s,ref:o,props:i,_owner:ok.current}}Mp.Fragment=ik;Mp.jsx=yC;Mp.jsxs=yC;lC.exports=Mp;var je=lC.exports,pv={},vC={exports:{}},cn={},xC={exports:{}},_C={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,X){var O=B.length;B.push(X);e:for(;0<O;){var Y=O-1>>>1,se=B[Y];if(0<i(se,X))B[Y]=X,B[O]=se,O=Y;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var X=B[0],O=B.pop();if(O!==X){B[0]=O;e:for(var Y=0,se=B.length,Ce=se>>>1;Y<Ce;){var fe=2*(Y+1)-1,Le=B[fe],Re=fe+1,Ue=B[Re];if(0>i(Le,O))Re<se&&0>i(Ue,Le)?(B[Y]=Ue,B[Re]=O,Y=Re):(B[Y]=Le,B[fe]=O,Y=fe);else if(Re<se&&0>i(Ue,O))B[Y]=Ue,B[Re]=O,Y=Re;else break e}}return X}function i(B,X){var O=B.sortIndex-X.sortIndex;return O!==0?O:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],h=[],f=1,d=null,p=3,g=!1,v=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var X=r(h);X!==null;){if(X.callback===null)n(h);else if(X.startTime<=B)n(h),X.sortIndex=X.expirationTime,e(u,X);else break;X=r(h)}}function _(B){if(b=!1,x(B),!v)if(r(u)!==null)v=!0,ae(P);else{var X=r(h);X!==null&&ee(_,X.startTime-B)}}function P(B,X){v=!1,b&&(b=!1,E(A),A=-1),g=!0;var O=p;try{for(x(X),d=r(u);d!==null&&(!(d.expirationTime>X)||B&&!L());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,p=d.priorityLevel;var se=Y(d.expirationTime<=X);X=t.unstable_now(),typeof se=="function"?d.callback=se:d===r(u)&&n(u),x(X)}else n(u);d=r(u)}if(d!==null)var Ce=!0;else{var fe=r(h);fe!==null&&ee(_,fe.startTime-X),Ce=!1}return Ce}finally{d=null,p=O,g=!1}}var k=!1,M=null,A=-1,I=5,D=-1;function L(){return!(t.unstable_now()-D<I)}function N(){if(M!==null){var B=t.unstable_now();D=B;var X=!0;try{X=M(!0,B)}finally{X?G():(k=!1,M=null)}}else k=!1}var G;if(typeof S=="function")G=function(){S(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ie=z.port2;z.port1.onmessage=N,G=function(){ie.postMessage(null)}}else G=function(){C(N,0)};function ae(B){M=B,k||(k=!0,G())}function ee(B,X){A=C(function(){B(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,ae(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var O=p;p=X;try{return B()}finally{p=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var O=p;p=B;try{return X()}finally{p=O}},t.unstable_scheduleCallback=function(B,X,O){var Y=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Y+O:Y):O=Y,B){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=O+se,B={id:f++,callback:X,priorityLevel:B,startTime:O,expirationTime:se,sortIndex:-1},O>Y?(B.sortIndex=O,e(h,B),r(u)===null&&B===r(h)&&(b?(E(A),A=-1):b=!0,ee(_,O-Y))):(B.sortIndex=se,e(u,B),v||g||(v=!0,ae(P))),B},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(B){var X=p;return function(){var O=p;p=X;try{return B.apply(this,arguments)}finally{p=O}}}})(_C);xC.exports=_C;var lk=xC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC=K,ln=lk;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bC=new Set,_c={};function ha(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for(_c[t]=e,t=0;t<e.length;t++)bC.add(e[t])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mv=Object.prototype.hasOwnProperty,uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vw={},jw={};function ck(t){return mv.call(jw,t)?!0:mv.call(Vw,t)?!1:uk.test(t)?jw[t]=!0:(Vw[t]=!0,!1)}function hk(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fk(t,e,r,n){if(e===null||typeof e>"u"||hk(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pr[t]=new Lr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pr[e]=new Lr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pr[t]=new Lr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pr[t]=new Lr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pr[t]=new Lr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pr[t]=new Lr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pr[t]=new Lr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pr[t]=new Lr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pr[t]=new Lr(t,5,!1,t.toLowerCase(),null,!1,!1)});var wx=/[\-:]([a-z])/g;function bx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wx,bx);pr[e]=new Lr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wx,bx);pr[e]=new Lr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wx,bx);pr[e]=new Lr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pr[t]=new Lr(t,1,!1,t.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pr[t]=new Lr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sx(t,e,r,n){var i=pr.hasOwnProperty(e)?pr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fk(e,r,i,n)&&(r=null),n||i===null?ck(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ys=wC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,df=Symbol.for("react.element"),Ya=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),Ex=Symbol.for("react.strict_mode"),gv=Symbol.for("react.profiler"),SC=Symbol.for("react.provider"),EC=Symbol.for("react.context"),Tx=Symbol.for("react.forward_ref"),yv=Symbol.for("react.suspense"),vv=Symbol.for("react.suspense_list"),Cx=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),TC=Symbol.for("react.offscreen"),Gw=Symbol.iterator;function Su(t){return t===null||typeof t!="object"?null:(t=Gw&&t[Gw]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Object.assign,zg;function Hu(t){if(zg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);zg=e&&e[1]||""}return`
`+zg+t}var Vg=!1;function jg(t,e){if(!t||Vg)return"";Vg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Vg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Hu(t):""}function dk(t){switch(t.tag){case 5:return Hu(t.type);case 16:return Hu("Lazy");case 13:return Hu("Suspense");case 19:return Hu("SuspenseList");case 0:case 2:case 15:return t=jg(t.type,!1),t;case 11:return t=jg(t.type.render,!1),t;case 1:return t=jg(t.type,!0),t;default:return""}}function xv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ka:return"Fragment";case Ya:return"Portal";case gv:return"Profiler";case Ex:return"StrictMode";case yv:return"Suspense";case vv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EC:return(t.displayName||"Context")+".Consumer";case SC:return(t._context.displayName||"Context")+".Provider";case Tx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cx:return e=t.displayName||null,e!==null?e:xv(t.type)||"Memo";case Ns:e=t._payload,t=t._init;try{return xv(t(e))}catch{}}return null}function pk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xv(e);case 8:return e===Ex?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function io(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mk(t){var e=CC(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pf(t){t._valueTracker||(t._valueTracker=mk(t))}function PC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=CC(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _v(t,e){var r=e.checked;return Ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Hw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=io(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AC(t,e){e=e.checked,e!=null&&Sx(t,"checked",e,!1)}function wv(t,e){AC(t,e);var r=io(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bv(t,e.type,r):e.hasOwnProperty("defaultValue")&&bv(t,e.type,io(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $w(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function bv(t,e,r){(e!=="number"||kd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $u=Array.isArray;function ml(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+io(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ww(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if($u(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:io(r)}}function RC(t,e){var r=io(e.value),n=io(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Xw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ev(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mf,MC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mf=mf||document.createElement("div"),mf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gk=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(t){gk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tc[e]=tc[t]})});function kC(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||tc.hasOwnProperty(t)&&tc[t]?(""+e).trim():e+"px"}function DC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=kC(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var yk=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tv(t,e){if(e){if(yk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Cv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pv=null;function Px(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Av=null,gl=null,yl=null;function Yw(t){if(t=rh(t)){if(typeof Av!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Np(e),Av(t.stateNode,t.type,e))}}function LC(t){gl?yl?yl.push(t):yl=[t]:gl=t}function FC(){if(gl){var t=gl,e=yl;if(yl=gl=null,Yw(t),e)for(t=0;t<e.length;t++)Yw(e[t])}}function NC(t,e){return t(e)}function OC(){}var Gg=!1;function BC(t,e,r){if(Gg)return t(e,r);Gg=!0;try{return NC(t,e,r)}finally{Gg=!1,(gl!==null||yl!==null)&&(OC(),FC())}}function bc(t,e){var r=t.stateNode;if(r===null)return null;var n=Np(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var Rv=!1;if(us)try{var Eu={};Object.defineProperty(Eu,"passive",{get:function(){Rv=!0}}),window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,Eu)}catch{Rv=!1}function vk(t,e,r,n,i,s,o,a,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(f){this.onError(f)}}var rc=!1,Dd=null,Ld=!1,Iv=null,xk={onError:function(t){rc=!0,Dd=t}};function _k(t,e,r,n,i,s,o,a,u){rc=!1,Dd=null,vk.apply(xk,arguments)}function wk(t,e,r,n,i,s,o,a,u){if(_k.apply(this,arguments),rc){if(rc){var h=Dd;rc=!1,Dd=null}else throw Error(re(198));Ld||(Ld=!0,Iv=h)}}function fa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function UC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kw(t){if(fa(t)!==t)throw Error(re(188))}function bk(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Kw(i),t;if(s===n)return Kw(i),e;s=s.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function zC(t){return t=bk(t),t!==null?VC(t):null}function VC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VC(t);if(e!==null)return e;t=t.sibling}return null}var jC=ln.unstable_scheduleCallback,Qw=ln.unstable_cancelCallback,Sk=ln.unstable_shouldYield,Ek=ln.unstable_requestPaint,Nt=ln.unstable_now,Tk=ln.unstable_getCurrentPriorityLevel,Ax=ln.unstable_ImmediatePriority,GC=ln.unstable_UserBlockingPriority,Fd=ln.unstable_NormalPriority,Ck=ln.unstable_LowPriority,HC=ln.unstable_IdlePriority,kp=null,Ii=null;function Pk(t){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(kp,t,void 0,(t.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:Ik,Ak=Math.log,Rk=Math.LN2;function Ik(t){return t>>>=0,t===0?32:31-(Ak(t)/Rk|0)|0}var gf=64,yf=4194304;function Wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Wu(a):(s&=o,s!==0&&(n=Wu(s)))}else o=r&~i,o!==0?n=Wu(o):s!==0&&(n=Wu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ei(e),i=1<<r,n|=t[r],e&=~i;return n}function Mk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kk(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ei(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=Mk(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Mv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $C(){var t=gf;return gf<<=1,!(gf&4194240)&&(gf=64),t}function Hg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function eh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ei(e),t[e]=r}function Dk(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ei(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Rx(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ei(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var nt=0;function WC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XC,Ix,YC,KC,QC,kv=!1,vf=[],Xs=null,Ys=null,Ks=null,Sc=new Map,Ec=new Map,zs=[],Lk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qw(t,e){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(e.pointerId)}}function Tu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rh(e),e!==null&&Ix(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Fk(t,e,r,n,i){switch(e){case"focusin":return Xs=Tu(Xs,t,e,r,n,i),!0;case"dragenter":return Ys=Tu(Ys,t,e,r,n,i),!0;case"mouseover":return Ks=Tu(Ks,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Sc.set(s,Tu(Sc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ec.set(s,Tu(Ec.get(s)||null,t,e,r,n,i)),!0}return!1}function qC(t){var e=$o(t.target);if(e!==null){var r=fa(e);if(r!==null){if(e=r.tag,e===13){if(e=UC(r),e!==null){t.blockedOn=e,QC(t.priority,function(){YC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Dv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Pv=n,r.target.dispatchEvent(n),Pv=null}else return e=rh(r),e!==null&&Ix(e),t.blockedOn=r,!1;e.shift()}return!0}function Zw(t,e,r){dd(t)&&r.delete(e)}function Nk(){kv=!1,Xs!==null&&dd(Xs)&&(Xs=null),Ys!==null&&dd(Ys)&&(Ys=null),Ks!==null&&dd(Ks)&&(Ks=null),Sc.forEach(Zw),Ec.forEach(Zw)}function Cu(t,e){t.blockedOn===e&&(t.blockedOn=null,kv||(kv=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,Nk)))}function Tc(t){function e(i){return Cu(i,t)}if(0<vf.length){Cu(vf[0],t);for(var r=1;r<vf.length;r++){var n=vf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Xs!==null&&Cu(Xs,t),Ys!==null&&Cu(Ys,t),Ks!==null&&Cu(Ks,t),Sc.forEach(e),Ec.forEach(e),r=0;r<zs.length;r++)n=zs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<zs.length&&(r=zs[0],r.blockedOn===null);)qC(r),r.blockedOn===null&&zs.shift()}var vl=ys.ReactCurrentBatchConfig,Od=!0;function Ok(t,e,r,n){var i=nt,s=vl.transition;vl.transition=null;try{nt=1,Mx(t,e,r,n)}finally{nt=i,vl.transition=s}}function Bk(t,e,r,n){var i=nt,s=vl.transition;vl.transition=null;try{nt=4,Mx(t,e,r,n)}finally{nt=i,vl.transition=s}}function Mx(t,e,r,n){if(Od){var i=Dv(t,e,r,n);if(i===null)ey(t,e,n,Bd,r),qw(t,n);else if(Fk(i,t,e,r,n))n.stopPropagation();else if(qw(t,n),e&4&&-1<Lk.indexOf(t)){for(;i!==null;){var s=rh(i);if(s!==null&&XC(s),s=Dv(t,e,r,n),s===null&&ey(t,e,n,Bd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else ey(t,e,n,null,r)}}var Bd=null;function Dv(t,e,r,n){if(Bd=null,t=Px(n),t=$o(t),t!==null)if(e=fa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=UC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bd=t,null}function ZC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tk()){case Ax:return 1;case GC:return 4;case Fd:case Ck:return 16;case HC:return 536870912;default:return 16}default:return 16}}var Gs=null,kx=null,pd=null;function JC(){if(pd)return pd;var t,e=kx,r=e.length,n,i="value"in Gs?Gs.value:Gs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return pd=i.slice(t,1<n?1-n:void 0)}function md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xf(){return!0}function Jw(){return!1}function hn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xf:Jw,this.isPropagationStopped=Jw,this}return Ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xf)},persist:function(){},isPersistent:xf}),e}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dx=hn(Wl),th=Ct({},Wl,{view:0,detail:0}),Uk=hn(th),$g,Wg,Pu,Dp=Ct({},th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pu&&(Pu&&t.type==="mousemove"?($g=t.screenX-Pu.screenX,Wg=t.screenY-Pu.screenY):Wg=$g=0,Pu=t),$g)},movementY:function(t){return"movementY"in t?t.movementY:Wg}}),eb=hn(Dp),zk=Ct({},Dp,{dataTransfer:0}),Vk=hn(zk),jk=Ct({},th,{relatedTarget:0}),Xg=hn(jk),Gk=Ct({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),Hk=hn(Gk),$k=Ct({},Wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wk=hn($k),Xk=Ct({},Wl,{data:0}),tb=hn(Xk),Yk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qk[t])?!!e[t]:!1}function Lx(){return qk}var Zk=Ct({},th,{key:function(t){if(t.key){var e=Yk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lx,charCode:function(t){return t.type==="keypress"?md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jk=hn(Zk),eD=Ct({},Dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rb=hn(eD),tD=Ct({},th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lx}),rD=hn(tD),nD=Ct({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),iD=hn(nD),sD=Ct({},Dp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oD=hn(sD),aD=[9,13,27,32],Fx=us&&"CompositionEvent"in window,nc=null;us&&"documentMode"in document&&(nc=document.documentMode);var lD=us&&"TextEvent"in window&&!nc,eP=us&&(!Fx||nc&&8<nc&&11>=nc),nb=String.fromCharCode(32),ib=!1;function tP(t,e){switch(t){case"keyup":return aD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function uD(t,e){switch(t){case"compositionend":return rP(e);case"keypress":return e.which!==32?null:(ib=!0,nb);case"textInput":return t=e.data,t===nb&&ib?null:t;default:return null}}function cD(t,e){if(Qa)return t==="compositionend"||!Fx&&tP(t,e)?(t=JC(),pd=kx=Gs=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eP&&e.locale!=="ko"?null:e.data;default:return null}}var hD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hD[t.type]:e==="textarea"}function nP(t,e,r,n){LC(n),e=Ud(e,"onChange"),0<e.length&&(r=new Dx("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ic=null,Cc=null;function fD(t){pP(t,0)}function Lp(t){var e=Ja(t);if(PC(e))return t}function dD(t,e){if(t==="change")return e}var iP=!1;if(us){var Yg;if(us){var Kg="oninput"in document;if(!Kg){var ob=document.createElement("div");ob.setAttribute("oninput","return;"),Kg=typeof ob.oninput=="function"}Yg=Kg}else Yg=!1;iP=Yg&&(!document.documentMode||9<document.documentMode)}function ab(){ic&&(ic.detachEvent("onpropertychange",sP),Cc=ic=null)}function sP(t){if(t.propertyName==="value"&&Lp(Cc)){var e=[];nP(e,Cc,t,Px(t)),BC(fD,e)}}function pD(t,e,r){t==="focusin"?(ab(),ic=e,Cc=r,ic.attachEvent("onpropertychange",sP)):t==="focusout"&&ab()}function mD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lp(Cc)}function gD(t,e){if(t==="click")return Lp(e)}function yD(t,e){if(t==="input"||t==="change")return Lp(e)}function vD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var si=typeof Object.is=="function"?Object.is:vD;function Pc(t,e){if(si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!mv.call(e,i)||!si(t[i],e[i]))return!1}return!0}function lb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ub(t,e){var r=lb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lb(r)}}function oP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aP(){for(var t=window,e=kd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=kd(t.document)}return e}function Nx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xD(t){var e=aP(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&oP(r.ownerDocument.documentElement,r)){if(n!==null&&Nx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=ub(r,s);var o=ub(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _D=us&&"documentMode"in document&&11>=document.documentMode,qa=null,Lv=null,sc=null,Fv=!1;function cb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fv||qa==null||qa!==kd(n)||(n=qa,"selectionStart"in n&&Nx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sc&&Pc(sc,n)||(sc=n,n=Ud(Lv,"onSelect"),0<n.length&&(e=new Dx("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qa)))}function _f(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Za={animationend:_f("Animation","AnimationEnd"),animationiteration:_f("Animation","AnimationIteration"),animationstart:_f("Animation","AnimationStart"),transitionend:_f("Transition","TransitionEnd")},Qg={},lP={};us&&(lP=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Fp(t){if(Qg[t])return Qg[t];if(!Za[t])return t;var e=Za[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in lP)return Qg[t]=e[r];return t}var uP=Fp("animationend"),cP=Fp("animationiteration"),hP=Fp("animationstart"),fP=Fp("transitionend"),dP=new Map,hb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fo(t,e){dP.set(t,e),ha(e,[t])}for(var qg=0;qg<hb.length;qg++){var Zg=hb[qg],wD=Zg.toLowerCase(),bD=Zg[0].toUpperCase()+Zg.slice(1);fo(wD,"on"+bD)}fo(uP,"onAnimationEnd");fo(cP,"onAnimationIteration");fo(hP,"onAnimationStart");fo("dblclick","onDoubleClick");fo("focusin","onFocus");fo("focusout","onBlur");fo(fP,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function fb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,wk(n,e,void 0,t),t.currentTarget=null}function pP(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,h=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;fb(i,a,h),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,h=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;fb(i,a,h),s=u}}}if(Ld)throw t=Iv,Ld=!1,Iv=null,t}function at(t,e){var r=e[zv];r===void 0&&(r=e[zv]=new Set);var n=t+"__bubble";r.has(n)||(mP(e,t,2,!1),r.add(n))}function Jg(t,e,r){var n=0;e&&(n|=4),mP(r,t,n,e)}var wf="_reactListening"+Math.random().toString(36).slice(2);function Ac(t){if(!t[wf]){t[wf]=!0,bC.forEach(function(r){r!=="selectionchange"&&(SD.has(r)||Jg(r,!1,t),Jg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wf]||(e[wf]=!0,Jg("selectionchange",!1,e))}}function mP(t,e,r,n){switch(ZC(e)){case 1:var i=Ok;break;case 4:i=Bk;break;default:i=Mx}r=i.bind(null,e,r,t),i=void 0,!Rv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function ey(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$o(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}BC(function(){var h=s,f=Px(r),d=[];e:{var p=dP.get(t);if(p!==void 0){var g=Dx,v=t;switch(t){case"keypress":if(md(r)===0)break e;case"keydown":case"keyup":g=Jk;break;case"focusin":v="focus",g=Xg;break;case"focusout":v="blur",g=Xg;break;case"beforeblur":case"afterblur":g=Xg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=eb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=rD;break;case uP:case cP:case hP:g=Hk;break;case fP:g=iD;break;case"scroll":g=Uk;break;case"wheel":g=oD;break;case"copy":case"cut":case"paste":g=Wk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=rb}var b=(e&4)!==0,C=!b&&t==="scroll",E=b?p!==null?p+"Capture":null:p;b=[];for(var S=h,x;S!==null;){x=S;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,E!==null&&(_=bc(S,E),_!=null&&b.push(Rc(S,_,x)))),C)break;S=S.return}0<b.length&&(p=new g(p,v,null,r,f),d.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==Pv&&(v=r.relatedTarget||r.fromElement)&&($o(v)||v[cs]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=h,v=v?$o(v):null,v!==null&&(C=fa(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=h),g!==v)){if(b=eb,_="onMouseLeave",E="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=rb,_="onPointerLeave",E="onPointerEnter",S="pointer"),C=g==null?p:Ja(g),x=v==null?p:Ja(v),p=new b(_,S+"leave",g,r,f),p.target=C,p.relatedTarget=x,_=null,$o(f)===h&&(b=new b(E,S+"enter",v,r,f),b.target=x,b.relatedTarget=C,_=b),C=_,g&&v)t:{for(b=g,E=v,S=0,x=b;x;x=Fa(x))S++;for(x=0,_=E;_;_=Fa(_))x++;for(;0<S-x;)b=Fa(b),S--;for(;0<x-S;)E=Fa(E),x--;for(;S--;){if(b===E||E!==null&&b===E.alternate)break t;b=Fa(b),E=Fa(E)}b=null}else b=null;g!==null&&db(d,p,g,b,!1),v!==null&&C!==null&&db(d,C,v,b,!0)}}e:{if(p=h?Ja(h):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=dD;else if(sb(p))if(iP)P=yD;else{P=mD;var k=pD}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=gD);if(P&&(P=P(t,h))){nP(d,P,r,f);break e}k&&k(t,p,h),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&bv(p,"number",p.value)}switch(k=h?Ja(h):window,t){case"focusin":(sb(k)||k.contentEditable==="true")&&(qa=k,Lv=h,sc=null);break;case"focusout":sc=Lv=qa=null;break;case"mousedown":Fv=!0;break;case"contextmenu":case"mouseup":case"dragend":Fv=!1,cb(d,r,f);break;case"selectionchange":if(_D)break;case"keydown":case"keyup":cb(d,r,f)}var M;if(Fx)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Qa?tP(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(eP&&r.locale!=="ko"&&(Qa||A!=="onCompositionStart"?A==="onCompositionEnd"&&Qa&&(M=JC()):(Gs=f,kx="value"in Gs?Gs.value:Gs.textContent,Qa=!0)),k=Ud(h,A),0<k.length&&(A=new tb(A,t,null,r,f),d.push({event:A,listeners:k}),M?A.data=M:(M=rP(r),M!==null&&(A.data=M)))),(M=lD?uD(t,r):cD(t,r))&&(h=Ud(h,"onBeforeInput"),0<h.length&&(f=new tb("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:h}),f.data=M))}pP(d,e)})}function Rc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ud(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bc(t,r),s!=null&&n.unshift(Rc(t,s,i)),s=bc(t,e),s!=null&&n.push(Rc(t,s,i))),t=t.return}return n}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function db(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,h=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&h!==null&&(a=h,i?(u=bc(r,s),u!=null&&o.unshift(Rc(r,u,a))):i||(u=bc(r,s),u!=null&&o.push(Rc(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var ED=/\r\n?/g,TD=/\u0000|\uFFFD/g;function pb(t){return(typeof t=="string"?t:""+t).replace(ED,`
`).replace(TD,"")}function bf(t,e,r){if(e=pb(e),pb(t)!==e&&r)throw Error(re(425))}function zd(){}var Nv=null,Ov=null;function Bv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uv=typeof setTimeout=="function"?setTimeout:void 0,CD=typeof clearTimeout=="function"?clearTimeout:void 0,mb=typeof Promise=="function"?Promise:void 0,PD=typeof queueMicrotask=="function"?queueMicrotask:typeof mb<"u"?function(t){return mb.resolve(null).then(t).catch(AD)}:Uv;function AD(t){setTimeout(function(){throw t})}function ty(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Tc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Tc(e)}function Qs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Xl=Math.random().toString(36).slice(2),Ri="__reactFiber$"+Xl,Ic="__reactProps$"+Xl,cs="__reactContainer$"+Xl,zv="__reactEvents$"+Xl,RD="__reactListeners$"+Xl,ID="__reactHandles$"+Xl;function $o(t){var e=t[Ri];if(e)return e;for(var r=t.parentNode;r;){if(e=r[cs]||r[Ri]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=gb(t);t!==null;){if(r=t[Ri])return r;t=gb(t)}return e}t=r,r=t.parentNode}return null}function rh(t){return t=t[Ri]||t[cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Np(t){return t[Ic]||null}var Vv=[],el=-1;function po(t){return{current:t}}function ut(t){0>el||(t.current=Vv[el],Vv[el]=null,el--)}function ot(t,e){el++,Vv[el]=t.current,t.current=e}var so={},Tr=po(so),Hr=po(!1),na=so;function Il(t,e){var r=t.type.contextTypes;if(!r)return so;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $r(t){return t=t.childContextTypes,t!=null}function Vd(){ut(Hr),ut(Tr)}function yb(t,e,r){if(Tr.current!==so)throw Error(re(168));ot(Tr,e),ot(Hr,r)}function gP(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,pk(t)||"Unknown",i));return Ct({},r,n)}function jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||so,na=Tr.current,ot(Tr,t),ot(Hr,Hr.current),!0}function vb(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=gP(t,e,na),n.__reactInternalMemoizedMergedChildContext=t,ut(Hr),ut(Tr),ot(Tr,t)):ut(Hr),ot(Hr,r)}var Ki=null,Op=!1,ry=!1;function yP(t){Ki===null?Ki=[t]:Ki.push(t)}function MD(t){Op=!0,yP(t)}function mo(){if(!ry&&Ki!==null){ry=!0;var t=0,e=nt;try{var r=Ki;for(nt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ki=null,Op=!1}catch(i){throw Ki!==null&&(Ki=Ki.slice(t+1)),jC(Ax,mo),i}finally{nt=e,ry=!1}}return null}var tl=[],rl=0,Gd=null,Hd=0,Sn=[],En=0,ia=null,qi=1,Zi="";function No(t,e){tl[rl++]=Hd,tl[rl++]=Gd,Gd=t,Hd=e}function vP(t,e,r){Sn[En++]=qi,Sn[En++]=Zi,Sn[En++]=ia,ia=t;var n=qi;t=Zi;var i=32-ei(n)-1;n&=~(1<<i),r+=1;var s=32-ei(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,qi=1<<32-ei(e)+i|r<<i|n,Zi=s+t}else qi=1<<s|r<<i|n,Zi=t}function Ox(t){t.return!==null&&(No(t,1),vP(t,1,0))}function Bx(t){for(;t===Gd;)Gd=tl[--rl],tl[rl]=null,Hd=tl[--rl],tl[rl]=null;for(;t===ia;)ia=Sn[--En],Sn[En]=null,Zi=Sn[--En],Sn[En]=null,qi=Sn[--En],Sn[En]=null}var on=null,nn=null,pt=!1,Yn=null;function xP(t,e){var r=Tn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function xb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,nn=Qs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ia!==null?{id:qi,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Tn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,on=t,nn=null,!0):!1;default:return!1}}function jv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gv(t){if(pt){var e=nn;if(e){var r=e;if(!xb(t,e)){if(jv(t))throw Error(re(418));e=Qs(r.nextSibling);var n=on;e&&xb(t,e)?xP(n,r):(t.flags=t.flags&-4097|2,pt=!1,on=t)}}else{if(jv(t))throw Error(re(418));t.flags=t.flags&-4097|2,pt=!1,on=t}}}function _b(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function Sf(t){if(t!==on)return!1;if(!pt)return _b(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bv(t.type,t.memoizedProps)),e&&(e=nn)){if(jv(t))throw _P(),Error(re(418));for(;e;)xP(t,e),e=Qs(e.nextSibling)}if(_b(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){nn=Qs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=on?Qs(t.stateNode.nextSibling):null;return!0}function _P(){for(var t=nn;t;)t=Qs(t.nextSibling)}function Ml(){nn=on=null,pt=!1}function Ux(t){Yn===null?Yn=[t]:Yn.push(t)}var kD=ys.ReactCurrentBatchConfig;function Hn(t,e){if(t&&t.defaultProps){e=Ct({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var $d=po(null),Wd=null,nl=null,zx=null;function Vx(){zx=nl=Wd=null}function jx(t){var e=$d.current;ut($d),t._currentValue=e}function Hv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function xl(t,e){Wd=t,zx=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gr=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(zx!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Wd===null)throw Error(re(308));nl=t,Wd.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Wo=null;function Gx(t){Wo===null?Wo=[t]:Wo.push(t)}function wP(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Gx(e)):(r.next=i.next,i.next=r),e.interleaved=r,hs(t,n)}function hs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Os=!1;function Hx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,We&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,hs(t,r)}return i=n.interleaved,i===null?(e.next=e,Gx(n)):(e.next=i.next,i.next=e),n.interleaved=e,hs(t,r)}function gd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Rx(t,r)}}function wb(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xd(t,e,r,n){var i=t.updateQueue;Os=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=h:a.next=h,f.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,f=h=u=null,a=s;do{var p=a.lane,g=a.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(p=e,g=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){d=v.call(g,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(g,d,p):v,p==null)break e;d=Ct({},d,p);break e;case 2:Os=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(h=f=g,u=d):f=f.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(f===null&&(u=d),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oa|=o,t.lanes=o,t.memoizedState=d}}function bb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var SP=new wC.Component().refs;function $v(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ct({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bp={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=kr(),i=Js(t),s=ns(n,i);s.payload=e,r!=null&&(s.callback=r),e=qs(t,s,i),e!==null&&(ti(e,t,i,n),gd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=kr(),i=Js(t),s=ns(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=qs(t,s,i),e!==null&&(ti(e,t,i,n),gd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=kr(),n=Js(t),i=ns(r,n);i.tag=2,e!=null&&(i.callback=e),e=qs(t,i,n),e!==null&&(ti(e,t,n,r),gd(e,t,n))}};function Sb(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pc(r,n)||!Pc(i,s):!0}function EP(t,e,r){var n=!1,i=so,s=e.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(i=$r(e)?na:Tr.current,n=e.contextTypes,s=(n=n!=null)?Il(t,i):so),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Eb(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Bp.enqueueReplaceState(e,e.state,null)}function Wv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=SP,Hx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rn(s):(s=$r(e)?na:Tr.current,i.context=Il(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($v(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bp.enqueueReplaceState(i,i.state,null),Xd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Au(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===SP&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function Ef(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tb(t){var e=t._init;return e(t._payload)}function TP(t){function e(E,S){if(t){var x=E.deletions;x===null?(E.deletions=[S],E.flags|=16):x.push(S)}}function r(E,S){if(!t)return null;for(;S!==null;)e(E,S),S=S.sibling;return null}function n(E,S){for(E=new Map;S!==null;)S.key!==null?E.set(S.key,S):E.set(S.index,S),S=S.sibling;return E}function i(E,S){return E=eo(E,S),E.index=0,E.sibling=null,E}function s(E,S,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<S?(E.flags|=2,S):x):(E.flags|=2,S)):(E.flags|=1048576,S)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,S,x,_){return S===null||S.tag!==6?(S=uy(x,E.mode,_),S.return=E,S):(S=i(S,x),S.return=E,S)}function u(E,S,x,_){var P=x.type;return P===Ka?f(E,S,x.props.children,_,x.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ns&&Tb(P)===S.type)?(_=i(S,x.props),_.ref=Au(E,S,x),_.return=E,_):(_=bd(x.type,x.key,x.props,null,E.mode,_),_.ref=Au(E,S,x),_.return=E,_)}function h(E,S,x,_){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=cy(x,E.mode,_),S.return=E,S):(S=i(S,x.children||[]),S.return=E,S)}function f(E,S,x,_,P){return S===null||S.tag!==7?(S=Zo(x,E.mode,_,P),S.return=E,S):(S=i(S,x),S.return=E,S)}function d(E,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return S=uy(""+S,E.mode,x),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case df:return x=bd(S.type,S.key,S.props,null,E.mode,x),x.ref=Au(E,null,S),x.return=E,x;case Ya:return S=cy(S,E.mode,x),S.return=E,S;case Ns:var _=S._init;return d(E,_(S._payload),x)}if($u(S)||Su(S))return S=Zo(S,E.mode,x,null),S.return=E,S;Ef(E,S)}return null}function p(E,S,x,_){var P=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:a(E,S,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case df:return x.key===P?u(E,S,x,_):null;case Ya:return x.key===P?h(E,S,x,_):null;case Ns:return P=x._init,p(E,S,P(x._payload),_)}if($u(x)||Su(x))return P!==null?null:f(E,S,x,_,null);Ef(E,x)}return null}function g(E,S,x,_,P){if(typeof _=="string"&&_!==""||typeof _=="number")return E=E.get(x)||null,a(S,E,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case df:return E=E.get(_.key===null?x:_.key)||null,u(S,E,_,P);case Ya:return E=E.get(_.key===null?x:_.key)||null,h(S,E,_,P);case Ns:var k=_._init;return g(E,S,x,k(_._payload),P)}if($u(_)||Su(_))return E=E.get(x)||null,f(S,E,_,P,null);Ef(S,_)}return null}function v(E,S,x,_){for(var P=null,k=null,M=S,A=S=0,I=null;M!==null&&A<x.length;A++){M.index>A?(I=M,M=null):I=M.sibling;var D=p(E,M,x[A],_);if(D===null){M===null&&(M=I);break}t&&M&&D.alternate===null&&e(E,M),S=s(D,S,A),k===null?P=D:k.sibling=D,k=D,M=I}if(A===x.length)return r(E,M),pt&&No(E,A),P;if(M===null){for(;A<x.length;A++)M=d(E,x[A],_),M!==null&&(S=s(M,S,A),k===null?P=M:k.sibling=M,k=M);return pt&&No(E,A),P}for(M=n(E,M);A<x.length;A++)I=g(M,E,A,x[A],_),I!==null&&(t&&I.alternate!==null&&M.delete(I.key===null?A:I.key),S=s(I,S,A),k===null?P=I:k.sibling=I,k=I);return t&&M.forEach(function(L){return e(E,L)}),pt&&No(E,A),P}function b(E,S,x,_){var P=Su(x);if(typeof P!="function")throw Error(re(150));if(x=P.call(x),x==null)throw Error(re(151));for(var k=P=null,M=S,A=S=0,I=null,D=x.next();M!==null&&!D.done;A++,D=x.next()){M.index>A?(I=M,M=null):I=M.sibling;var L=p(E,M,D.value,_);if(L===null){M===null&&(M=I);break}t&&M&&L.alternate===null&&e(E,M),S=s(L,S,A),k===null?P=L:k.sibling=L,k=L,M=I}if(D.done)return r(E,M),pt&&No(E,A),P;if(M===null){for(;!D.done;A++,D=x.next())D=d(E,D.value,_),D!==null&&(S=s(D,S,A),k===null?P=D:k.sibling=D,k=D);return pt&&No(E,A),P}for(M=n(E,M);!D.done;A++,D=x.next())D=g(M,E,A,D.value,_),D!==null&&(t&&D.alternate!==null&&M.delete(D.key===null?A:D.key),S=s(D,S,A),k===null?P=D:k.sibling=D,k=D);return t&&M.forEach(function(N){return e(E,N)}),pt&&No(E,A),P}function C(E,S,x,_){if(typeof x=="object"&&x!==null&&x.type===Ka&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case df:e:{for(var P=x.key,k=S;k!==null;){if(k.key===P){if(P=x.type,P===Ka){if(k.tag===7){r(E,k.sibling),S=i(k,x.props.children),S.return=E,E=S;break e}}else if(k.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ns&&Tb(P)===k.type){r(E,k.sibling),S=i(k,x.props),S.ref=Au(E,k,x),S.return=E,E=S;break e}r(E,k);break}else e(E,k);k=k.sibling}x.type===Ka?(S=Zo(x.props.children,E.mode,_,x.key),S.return=E,E=S):(_=bd(x.type,x.key,x.props,null,E.mode,_),_.ref=Au(E,S,x),_.return=E,E=_)}return o(E);case Ya:e:{for(k=x.key;S!==null;){if(S.key===k)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){r(E,S.sibling),S=i(S,x.children||[]),S.return=E,E=S;break e}else{r(E,S);break}else e(E,S);S=S.sibling}S=cy(x,E.mode,_),S.return=E,E=S}return o(E);case Ns:return k=x._init,C(E,S,k(x._payload),_)}if($u(x))return v(E,S,x,_);if(Su(x))return b(E,S,x,_);Ef(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,S!==null&&S.tag===6?(r(E,S.sibling),S=i(S,x),S.return=E,E=S):(r(E,S),S=uy(x,E.mode,_),S.return=E,E=S),o(E)):r(E,S)}return C}var kl=TP(!0),CP=TP(!1),nh={},Mi=po(nh),Mc=po(nh),kc=po(nh);function Xo(t){if(t===nh)throw Error(re(174));return t}function $x(t,e){switch(ot(kc,e),ot(Mc,t),ot(Mi,nh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ev(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ev(e,t)}ut(Mi),ot(Mi,e)}function Dl(){ut(Mi),ut(Mc),ut(kc)}function PP(t){Xo(kc.current);var e=Xo(Mi.current),r=Ev(e,t.type);e!==r&&(ot(Mc,t),ot(Mi,r))}function Wx(t){Mc.current===t&&(ut(Mi),ut(Mc))}var wt=po(0);function Yd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ny=[];function Xx(){for(var t=0;t<ny.length;t++)ny[t]._workInProgressVersionPrimary=null;ny.length=0}var yd=ys.ReactCurrentDispatcher,iy=ys.ReactCurrentBatchConfig,sa=0,Tt=null,Xt=null,nr=null,Kd=!1,oc=!1,Dc=0,DD=0;function xr(){throw Error(re(321))}function Yx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!si(t[r],e[r]))return!1;return!0}function Kx(t,e,r,n,i,s){if(sa=s,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yd.current=t===null||t.memoizedState===null?OD:BD,t=r(n,i),oc){s=0;do{if(oc=!1,Dc=0,25<=s)throw Error(re(301));s+=1,nr=Xt=null,e.updateQueue=null,yd.current=UD,t=r(n,i)}while(oc)}if(yd.current=Qd,e=Xt!==null&&Xt.next!==null,sa=0,nr=Xt=Tt=null,Kd=!1,e)throw Error(re(300));return t}function Qx(){var t=Dc!==0;return Dc=0,t}function Ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Tt.memoizedState=nr=t:nr=nr.next=t,nr}function In(){if(Xt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=nr===null?Tt.memoizedState:nr.next;if(e!==null)nr=e,Xt=t;else{if(t===null)throw Error(re(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},nr===null?Tt.memoizedState=nr=t:nr=nr.next=t}return nr}function Lc(t,e){return typeof e=="function"?e(t):e}function sy(t){var e=In(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=Xt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,h=s;do{var f=h.lane;if((sa&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var d={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(a=u=d,o=n):u=u.next=d,Tt.lanes|=f,oa|=f}h=h.next}while(h!==null&&h!==s);u===null?o=n:u.next=a,si(n,e.memoizedState)||(Gr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Tt.lanes|=s,oa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function oy(t){var e=In(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);si(s,e.memoizedState)||(Gr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function AP(){}function RP(t,e){var r=Tt,n=In(),i=e(),s=!si(n.memoizedState,i);if(s&&(n.memoizedState=i,Gr=!0),n=n.queue,qx(kP.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||nr!==null&&nr.memoizedState.tag&1){if(r.flags|=2048,Fc(9,MP.bind(null,r,n,i,e),void 0,null),sr===null)throw Error(re(349));sa&30||IP(r,e,i)}return i}function IP(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function MP(t,e,r,n){e.value=r,e.getSnapshot=n,DP(e)&&LP(t)}function kP(t,e,r){return r(function(){DP(e)&&LP(t)})}function DP(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!si(t,r)}catch{return!0}}function LP(t){var e=hs(t,1);e!==null&&ti(e,t,1,-1)}function Cb(t){var e=Ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:t},e.queue=t,t=t.dispatch=ND.bind(null,Tt,t),[e.memoizedState,t]}function Fc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function FP(){return In().memoizedState}function vd(t,e,r,n){var i=Ti();Tt.flags|=t,i.memoizedState=Fc(1|e,r,void 0,n===void 0?null:n)}function Up(t,e,r,n){var i=In();n=n===void 0?null:n;var s=void 0;if(Xt!==null){var o=Xt.memoizedState;if(s=o.destroy,n!==null&&Yx(n,o.deps)){i.memoizedState=Fc(e,r,s,n);return}}Tt.flags|=t,i.memoizedState=Fc(1|e,r,s,n)}function Pb(t,e){return vd(8390656,8,t,e)}function qx(t,e){return Up(2048,8,t,e)}function NP(t,e){return Up(4,2,t,e)}function OP(t,e){return Up(4,4,t,e)}function BP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UP(t,e,r){return r=r!=null?r.concat([t]):null,Up(4,4,BP.bind(null,e,t),r)}function Zx(){}function zP(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function VP(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function jP(t,e,r){return sa&21?(si(r,e)||(r=$C(),Tt.lanes|=r,oa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gr=!0),t.memoizedState=r)}function LD(t,e){var r=nt;nt=r!==0&&4>r?r:4,t(!0);var n=iy.transition;iy.transition={};try{t(!1),e()}finally{nt=r,iy.transition=n}}function GP(){return In().memoizedState}function FD(t,e,r){var n=Js(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},HP(t))$P(e,r);else if(r=wP(t,e,r,n),r!==null){var i=kr();ti(r,t,n,i),WP(r,e,n)}}function ND(t,e,r){var n=Js(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(HP(t))$P(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,si(a,o)){var u=e.interleaved;u===null?(i.next=i,Gx(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=wP(t,e,i,n),r!==null&&(i=kr(),ti(r,t,n,i),WP(r,e,n))}}function HP(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function $P(t,e){oc=Kd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function WP(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Rx(t,r)}}var Qd={readContext:Rn,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},OD={readContext:Rn,useCallback:function(t,e){return Ti().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:Pb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,vd(4194308,4,BP.bind(null,e,t),r)},useLayoutEffect:function(t,e){return vd(4194308,4,t,e)},useInsertionEffect:function(t,e){return vd(4,2,t,e)},useMemo:function(t,e){var r=Ti();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ti();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=FD.bind(null,Tt,t),[n.memoizedState,t]},useRef:function(t){var e=Ti();return t={current:t},e.memoizedState=t},useState:Cb,useDebugValue:Zx,useDeferredValue:function(t){return Ti().memoizedState=t},useTransition:function(){var t=Cb(!1),e=t[0];return t=LD.bind(null,t[1]),Ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Tt,i=Ti();if(pt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),sr===null)throw Error(re(349));sa&30||IP(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Pb(kP.bind(null,n,s,t),[t]),n.flags|=2048,Fc(9,MP.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ti(),e=sr.identifierPrefix;if(pt){var r=Zi,n=qi;r=(n&~(1<<32-ei(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Dc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=DD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BD={readContext:Rn,useCallback:zP,useContext:Rn,useEffect:qx,useImperativeHandle:UP,useInsertionEffect:NP,useLayoutEffect:OP,useMemo:VP,useReducer:sy,useRef:FP,useState:function(){return sy(Lc)},useDebugValue:Zx,useDeferredValue:function(t){var e=In();return jP(e,Xt.memoizedState,t)},useTransition:function(){var t=sy(Lc)[0],e=In().memoizedState;return[t,e]},useMutableSource:AP,useSyncExternalStore:RP,useId:GP,unstable_isNewReconciler:!1},UD={readContext:Rn,useCallback:zP,useContext:Rn,useEffect:qx,useImperativeHandle:UP,useInsertionEffect:NP,useLayoutEffect:OP,useMemo:VP,useReducer:oy,useRef:FP,useState:function(){return oy(Lc)},useDebugValue:Zx,useDeferredValue:function(t){var e=In();return Xt===null?e.memoizedState=t:jP(e,Xt.memoizedState,t)},useTransition:function(){var t=oy(Lc)[0],e=In().memoizedState;return[t,e]},useMutableSource:AP,useSyncExternalStore:RP,useId:GP,unstable_isNewReconciler:!1};function Ll(t,e){try{var r="",n=e;do r+=dk(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ay(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var zD=typeof WeakMap=="function"?WeakMap:Map;function XP(t,e,r){r=ns(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Zd||(Zd=!0,n0=n),Xv(t,e)},r}function YP(t,e,r){r=ns(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Xv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Xv(t,e),typeof n!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ab(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new zD;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=eL.bind(null,t,e,r),e.then(t,t))}function Rb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ib(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ns(-1,1),e.tag=2,qs(r,e,1))),r.lanes|=1),t)}var VD=ys.ReactCurrentOwner,Gr=!1;function Mr(t,e,r,n){e.child=t===null?CP(e,null,r,n):kl(e,t.child,r,n)}function Mb(t,e,r,n,i){r=r.render;var s=e.ref;return xl(e,i),n=Kx(t,e,r,n,s,i),r=Qx(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fs(t,e,i)):(pt&&r&&Ox(e),e.flags|=1,Mr(t,e,n,i),e.child)}function kb(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!o_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,KP(t,e,s,n,i)):(t=bd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Pc,r(o,n)&&t.ref===e.ref)return fs(t,e,i)}return e.flags|=1,t=eo(s,n),t.ref=e.ref,t.return=e,e.child=t}function KP(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Pc(s,n)&&t.ref===e.ref)if(Gr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Gr=!0);else return e.lanes=t.lanes,fs(t,e,i)}return Yv(t,e,r,n,i)}function QP(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(sl,rn),rn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(sl,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ot(sl,rn),rn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ot(sl,rn),rn|=n;return Mr(t,e,i,r),e.child}function qP(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Yv(t,e,r,n,i){var s=$r(r)?na:Tr.current;return s=Il(e,s),xl(e,i),r=Kx(t,e,r,n,s,i),n=Qx(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fs(t,e,i)):(pt&&n&&Ox(e),e.flags|=1,Mr(t,e,r,i),e.child)}function Db(t,e,r,n,i){if($r(r)){var s=!0;jd(e)}else s=!1;if(xl(e,i),e.stateNode===null)xd(t,e),EP(e,r,n),Wv(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=Rn(h):(h=$r(r)?na:Tr.current,h=Il(e,h));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==h)&&Eb(e,o,n,h),Os=!1;var p=e.memoizedState;o.state=p,Xd(e,n,o,i),u=e.memoizedState,a!==n||p!==u||Hr.current||Os?(typeof f=="function"&&($v(e,r,f,n),u=e.memoizedState),(a=Os||Sb(e,r,a,n,p,u,h))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=h,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,bP(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Hn(e.type,a),o.props=h,d=e.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Rn(u):(u=$r(r)?na:Tr.current,u=Il(e,u));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==u)&&Eb(e,o,n,u),Os=!1,p=e.memoizedState,o.state=p,Xd(e,n,o,i);var v=e.memoizedState;a!==d||p!==v||Hr.current||Os?(typeof g=="function"&&($v(e,r,g,n),v=e.memoizedState),(h=Os||Sb(e,r,h,n,p,v,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=u,n=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Kv(t,e,r,n,s,i)}function Kv(t,e,r,n,i,s){qP(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&vb(e,r,!1),fs(t,e,s);n=e.stateNode,VD.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=kl(e,t.child,null,s),e.child=kl(e,null,a,s)):Mr(t,e,a,s),e.memoizedState=n.state,i&&vb(e,r,!0),e.child}function ZP(t){var e=t.stateNode;e.pendingContext?yb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yb(t,e.context,!1),$x(t,e.containerInfo)}function Lb(t,e,r,n,i){return Ml(),Ux(i),e.flags|=256,Mr(t,e,r,n),e.child}var Qv={dehydrated:null,treeContext:null,retryLane:0};function qv(t){return{baseLanes:t,cachePool:null,transitions:null}}function JP(t,e,r){var n=e.pendingProps,i=wt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ot(wt,i&1),t===null)return Gv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jp(o,n,0,null),t=Zo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qv(r),e.memoizedState=Qv,t):Jx(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jD(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=eo(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=eo(a,s):(s=Zo(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?qv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Qv,n}return s=t.child,t=s.sibling,n=eo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Jx(t,e){return e=jp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tf(t,e,r,n){return n!==null&&Ux(n),kl(e,t.child,null,r),t=Jx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jD(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=ay(Error(re(422))),Tf(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=jp({mode:"visible",children:n.children},i,0,null),s=Zo(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&kl(e,t.child,null,o),e.child.memoizedState=qv(o),e.memoizedState=Qv,s);if(!(e.mode&1))return Tf(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(re(419)),n=ay(s,n,void 0),Tf(t,e,o,n)}if(a=(o&t.childLanes)!==0,Gr||a){if(n=sr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hs(t,i),ti(n,t,i,-1))}return s_(),n=ay(Error(re(421))),Tf(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nn=Qs(i.nextSibling),on=e,pt=!0,Yn=null,t!==null&&(Sn[En++]=qi,Sn[En++]=Zi,Sn[En++]=ia,qi=t.id,Zi=t.overflow,ia=e),e=Jx(e,n.children),e.flags|=4096,e)}function Fb(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Hv(t.return,e,r)}function ly(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function eA(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Mr(t,e,n.children,r),n=wt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fb(t,r,e);else if(t.tag===19)Fb(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ot(wt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Yd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ly(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ly(e,!0,r,null,s);break;case"together":ly(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),oa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=eo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=eo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function GD(t,e,r){switch(e.tag){case 3:ZP(e),Ml();break;case 5:PP(e);break;case 1:$r(e.type)&&jd(e);break;case 4:$x(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ot($d,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ot(wt,wt.current&1),e.flags|=128,null):r&e.child.childLanes?JP(t,e,r):(ot(wt,wt.current&1),t=fs(t,e,r),t!==null?t.sibling:null);ot(wt,wt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return eA(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(wt,wt.current),n)break;return null;case 22:case 23:return e.lanes=0,QP(t,e,r)}return fs(t,e,r)}var tA,Zv,rA,nA;tA=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zv=function(){};rA=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Xo(Mi.current);var s=null;switch(r){case"input":i=_v(t,i),n=_v(t,n),s=[];break;case"select":i=Ct({},i,{value:void 0}),n=Ct({},n,{value:void 0}),s=[];break;case"textarea":i=Sv(t,i),n=Sv(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=zd)}Tv(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(_c.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var u=n[h];if(a=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&u!==a&&(u!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(h,r)),r=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(_c.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&at("scroll",t),s||a===u||(s=[])):(s=s||[]).push(h,u))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};nA=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ru(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function HD(t,e,r){var n=e.pendingProps;switch(Bx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return $r(e.type)&&Vd(),_r(e),null;case 3:return n=e.stateNode,Dl(),ut(Hr),ut(Tr),Xx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Sf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(o0(Yn),Yn=null))),Zv(t,e),_r(e),null;case 5:Wx(e);var i=Xo(kc.current);if(r=e.type,t!==null&&e.stateNode!=null)rA(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return _r(e),null}if(t=Xo(Mi.current),Sf(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ri]=e,n[Ic]=s,t=(e.mode&1)!==0,r){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(i=0;i<Xu.length;i++)at(Xu[i],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":Hw(n,s),at("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},at("invalid",n);break;case"textarea":Ww(n,s),at("invalid",n)}Tv(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&bf(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&bf(n.textContent,a,t),i=["children",""+a]):_c.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&at("scroll",n)}switch(r){case"input":pf(n),$w(n,s,!0);break;case"textarea":pf(n),Xw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=zd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ri]=e,t[Ic]=n,tA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cv(r,n),r){case"dialog":at("cancel",t),at("close",t),i=n;break;case"iframe":case"object":case"embed":at("load",t),i=n;break;case"video":case"audio":for(i=0;i<Xu.length;i++)at(Xu[i],t);i=n;break;case"source":at("error",t),i=n;break;case"img":case"image":case"link":at("error",t),at("load",t),i=n;break;case"details":at("toggle",t),i=n;break;case"input":Hw(t,n),i=_v(t,n),at("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ct({},n,{value:void 0}),at("invalid",t);break;case"textarea":Ww(t,n),i=Sv(t,n),at("invalid",t);break;default:i=n}Tv(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?DC(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&MC(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&wc(t,u):typeof u=="number"&&wc(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_c.hasOwnProperty(s)?u!=null&&s==="onScroll"&&at("scroll",t):u!=null&&Sx(t,s,u,o))}switch(r){case"input":pf(t),$w(t,n,!1);break;case"textarea":pf(t),Xw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+io(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ml(t,!!n.multiple,s,!1):n.defaultValue!=null&&ml(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)nA(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=Xo(kc.current),Xo(Mi.current),Sf(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ri]=e,(s=n.nodeValue!==r)&&(t=on,t!==null))switch(t.tag){case 3:bf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bf(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ri]=e,e.stateNode=n}return _r(e),null;case 13:if(ut(wt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&nn!==null&&e.mode&1&&!(e.flags&128))_P(),Ml(),e.flags|=98560,s=!1;else if(s=Sf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Ri]=e}else Ml(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),s=!1}else Yn!==null&&(o0(Yn),Yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?Yt===0&&(Yt=3):s_())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return Dl(),Zv(t,e),t===null&&Ac(e.stateNode.containerInfo),_r(e),null;case 10:return jx(e.type._context),_r(e),null;case 17:return $r(e.type)&&Vd(),_r(e),null;case 19:if(ut(wt),s=e.memoizedState,s===null)return _r(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Ru(s,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yd(t),o!==null){for(e.flags|=128,Ru(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ot(wt,wt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Nt()>Fl&&(e.flags|=128,n=!0,Ru(s,!1),e.lanes=4194304)}else{if(!n)if(t=Yd(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ru(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return _r(e),null}else 2*Nt()-s.renderingStartTime>Fl&&r!==1073741824&&(e.flags|=128,n=!0,Ru(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nt(),e.sibling=null,r=wt.current,ot(wt,n?r&1|2:r&1),e):(_r(e),null);case 22:case 23:return i_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?rn&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function $D(t,e){switch(Bx(e),e.tag){case 1:return $r(e.type)&&Vd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dl(),ut(Hr),ut(Tr),Xx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wx(e),null;case 13:if(ut(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Ml()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(wt),null;case 4:return Dl(),null;case 10:return jx(e.type._context),null;case 22:case 23:return i_(),null;case 24:return null;default:return null}}var Cf=!1,Sr=!1,WD=typeof WeakSet=="function"?WeakSet:Set,ge=null;function il(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rt(t,e,n)}else r.current=null}function Jv(t,e,r){try{r()}catch(n){Rt(t,e,n)}}var Nb=!1;function XD(t,e){if(Nv=Od,t=aP(),Nx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,h=0,f=0,d=t,p=null;t:for(;;){for(var g;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(u=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===r&&++h===i&&(a=o),p===s&&++f===n&&(u=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ov={focusedElem:t,selectionRange:r},Od=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,C=v.memoizedState,E=e.stateNode,S=E.getSnapshotBeforeUpdate(e.elementType===e.type?b:Hn(e.type,b),C);E.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(_){Rt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return v=Nb,Nb=!1,v}function ac(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jv(e,r,s)}i=i.next}while(i!==n)}}function zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function e0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function iA(t){var e=t.alternate;e!==null&&(t.alternate=null,iA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ri],delete e[Ic],delete e[zv],delete e[RD],delete e[ID])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sA(t){return t.tag===5||t.tag===3||t.tag===4}function Ob(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function t0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=zd));else if(n!==4&&(t=t.child,t!==null))for(t0(t,e,r),t=t.sibling;t!==null;)t0(t,e,r),t=t.sibling}function r0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(r0(t,e,r),t=t.sibling;t!==null;)r0(t,e,r),t=t.sibling}var lr=null,Wn=!1;function Ds(t,e,r){for(r=r.child;r!==null;)oA(t,e,r),r=r.sibling}function oA(t,e,r){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(kp,r)}catch{}switch(r.tag){case 5:Sr||il(r,e);case 6:var n=lr,i=Wn;lr=null,Ds(t,e,r),lr=n,Wn=i,lr!==null&&(Wn?(t=lr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):lr.removeChild(r.stateNode));break;case 18:lr!==null&&(Wn?(t=lr,r=r.stateNode,t.nodeType===8?ty(t.parentNode,r):t.nodeType===1&&ty(t,r),Tc(t)):ty(lr,r.stateNode));break;case 4:n=lr,i=Wn,lr=r.stateNode.containerInfo,Wn=!0,Ds(t,e,r),lr=n,Wn=i;break;case 0:case 11:case 14:case 15:if(!Sr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jv(r,e,o),i=i.next}while(i!==n)}Ds(t,e,r);break;case 1:if(!Sr&&(il(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Rt(r,e,a)}Ds(t,e,r);break;case 21:Ds(t,e,r);break;case 22:r.mode&1?(Sr=(n=Sr)||r.memoizedState!==null,Ds(t,e,r),Sr=n):Ds(t,e,r);break;default:Ds(t,e,r)}}function Bb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new WD),e.forEach(function(n){var i=rL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Bn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:lr=a.stateNode,Wn=!1;break e;case 3:lr=a.stateNode.containerInfo,Wn=!0;break e;case 4:lr=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(lr===null)throw Error(re(160));oA(s,o,i),lr=null,Wn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Rt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aA(e,t),e=e.sibling}function aA(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),wi(t),n&4){try{ac(3,t,t.return),zp(3,t)}catch(b){Rt(t,t.return,b)}try{ac(5,t,t.return)}catch(b){Rt(t,t.return,b)}}break;case 1:Bn(e,t),wi(t),n&512&&r!==null&&il(r,r.return);break;case 5:if(Bn(e,t),wi(t),n&512&&r!==null&&il(r,r.return),t.flags&32){var i=t.stateNode;try{wc(i,"")}catch(b){Rt(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&AC(i,s),Cv(a,o);var h=Cv(a,s);for(o=0;o<u.length;o+=2){var f=u[o],d=u[o+1];f==="style"?DC(i,d):f==="dangerouslySetInnerHTML"?MC(i,d):f==="children"?wc(i,d):Sx(i,f,d,h)}switch(a){case"input":wv(i,s);break;case"textarea":RC(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ml(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?ml(i,!!s.multiple,s.defaultValue,!0):ml(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ic]=s}catch(b){Rt(t,t.return,b)}}break;case 6:if(Bn(e,t),wi(t),n&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Rt(t,t.return,b)}}break;case 3:if(Bn(e,t),wi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tc(e.containerInfo)}catch(b){Rt(t,t.return,b)}break;case 4:Bn(e,t),wi(t);break;case 13:Bn(e,t),wi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(r_=Nt())),n&4&&Bb(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Sr=(h=Sr)||f,Bn(e,t),Sr=h):Bn(e,t),wi(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(ge=t,f=t.child;f!==null;){for(d=ge=f;ge!==null;){switch(p=ge,g=p.child,p.tag){case 0:case 11:case 14:case 15:ac(4,p,p.return);break;case 1:il(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Rt(n,r,b)}}break;case 5:il(p,p.return);break;case 22:if(p.memoizedState!==null){zb(d);continue}}g!==null?(g.return=p,ge=g):zb(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=kC("display",o))}catch(b){Rt(t,t.return,b)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(b){Rt(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bn(e,t),wi(t),n&4&&Bb(t);break;case 21:break;default:Bn(e,t),wi(t)}}function wi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sA(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wc(i,""),n.flags&=-33);var s=Ob(t);r0(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Ob(t);t0(t,a,o);break;default:throw Error(re(161))}}catch(u){Rt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YD(t,e,r){ge=t,lA(t)}function lA(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Cf;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Sr;a=Cf;var h=Sr;if(Cf=o,(Sr=u)&&!h)for(ge=i;ge!==null;)o=ge,u=o.child,o.tag===22&&o.memoizedState!==null?Vb(i):u!==null?(u.return=o,ge=u):Vb(i);for(;s!==null;)ge=s,lA(s),s=s.sibling;ge=i,Cf=a,Sr=h}Ub(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):Ub(t)}}function Ub(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sr||zp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Sr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Hn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bb(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}bb(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Tc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Sr||e.flags&512&&e0(e)}catch(p){Rt(e,e.return,p)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function zb(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function Vb(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{zp(4,e)}catch(u){Rt(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){Rt(e,i,u)}}var s=e.return;try{e0(e)}catch(u){Rt(e,s,u)}break;case 5:var o=e.return;try{e0(e)}catch(u){Rt(e,o,u)}}}catch(u){Rt(e,e.return,u)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var KD=Math.ceil,qd=ys.ReactCurrentDispatcher,e_=ys.ReactCurrentOwner,An=ys.ReactCurrentBatchConfig,We=0,sr=null,jt=null,dr=0,rn=0,sl=po(0),Yt=0,Nc=null,oa=0,Vp=0,t_=0,lc=null,jr=null,r_=0,Fl=1/0,Yi=null,Zd=!1,n0=null,Zs=null,Pf=!1,Hs=null,Jd=0,uc=0,i0=null,_d=-1,wd=0;function kr(){return We&6?Nt():_d!==-1?_d:_d=Nt()}function Js(t){return t.mode&1?We&2&&dr!==0?dr&-dr:kD.transition!==null?(wd===0&&(wd=$C()),wd):(t=nt,t!==0||(t=window.event,t=t===void 0?16:ZC(t.type)),t):1}function ti(t,e,r,n){if(50<uc)throw uc=0,i0=null,Error(re(185));eh(t,r,n),(!(We&2)||t!==sr)&&(t===sr&&(!(We&2)&&(Vp|=r),Yt===4&&Vs(t,dr)),Wr(t,n),r===1&&We===0&&!(e.mode&1)&&(Fl=Nt()+500,Op&&mo()))}function Wr(t,e){var r=t.callbackNode;kk(t,e);var n=Nd(t,t===sr?dr:0);if(n===0)r!==null&&Qw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Qw(r),e===1)t.tag===0?MD(jb.bind(null,t)):yP(jb.bind(null,t)),PD(function(){!(We&6)&&mo()}),r=null;else{switch(WC(n)){case 1:r=Ax;break;case 4:r=GC;break;case 16:r=Fd;break;case 536870912:r=HC;break;default:r=Fd}r=gA(r,uA.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function uA(t,e){if(_d=-1,wd=0,We&6)throw Error(re(327));var r=t.callbackNode;if(_l()&&t.callbackNode!==r)return null;var n=Nd(t,t===sr?dr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ep(t,n);else{e=n;var i=We;We|=2;var s=hA();(sr!==t||dr!==e)&&(Yi=null,Fl=Nt()+500,qo(t,e));do try{ZD();break}catch(a){cA(t,a)}while(1);Vx(),qd.current=s,We=i,jt!==null?e=0:(sr=null,dr=0,e=Yt)}if(e!==0){if(e===2&&(i=Mv(t),i!==0&&(n=i,e=s0(t,i))),e===1)throw r=Nc,qo(t,0),Vs(t,n),Wr(t,Nt()),r;if(e===6)Vs(t,n);else{if(i=t.current.alternate,!(n&30)&&!QD(i)&&(e=ep(t,n),e===2&&(s=Mv(t),s!==0&&(n=s,e=s0(t,s))),e===1))throw r=Nc,qo(t,0),Vs(t,n),Wr(t,Nt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:Oo(t,jr,Yi);break;case 3:if(Vs(t,n),(n&130023424)===n&&(e=r_+500-Nt(),10<e)){if(Nd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){kr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Uv(Oo.bind(null,t,jr,Yi),e);break}Oo(t,jr,Yi);break;case 4:if(Vs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-ei(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*KD(n/1960))-n,10<n){t.timeoutHandle=Uv(Oo.bind(null,t,jr,Yi),n);break}Oo(t,jr,Yi);break;case 5:Oo(t,jr,Yi);break;default:throw Error(re(329))}}}return Wr(t,Nt()),t.callbackNode===r?uA.bind(null,t):null}function s0(t,e){var r=lc;return t.current.memoizedState.isDehydrated&&(qo(t,e).flags|=256),t=ep(t,e),t!==2&&(e=jr,jr=r,e!==null&&o0(e)),t}function o0(t){jr===null?jr=t:jr.push.apply(jr,t)}function QD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!si(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~t_,e&=~Vp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ei(e),n=1<<r;t[r]=-1,e&=~n}}function jb(t){if(We&6)throw Error(re(327));_l();var e=Nd(t,0);if(!(e&1))return Wr(t,Nt()),null;var r=ep(t,e);if(t.tag!==0&&r===2){var n=Mv(t);n!==0&&(e=n,r=s0(t,n))}if(r===1)throw r=Nc,qo(t,0),Vs(t,e),Wr(t,Nt()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oo(t,jr,Yi),Wr(t,Nt()),null}function n_(t,e){var r=We;We|=1;try{return t(e)}finally{We=r,We===0&&(Fl=Nt()+500,Op&&mo())}}function aa(t){Hs!==null&&Hs.tag===0&&!(We&6)&&_l();var e=We;We|=1;var r=An.transition,n=nt;try{if(An.transition=null,nt=1,t)return t()}finally{nt=n,An.transition=r,We=e,!(We&6)&&mo()}}function i_(){rn=sl.current,ut(sl)}function qo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,CD(r)),jt!==null)for(r=jt.return;r!==null;){var n=r;switch(Bx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vd();break;case 3:Dl(),ut(Hr),ut(Tr),Xx();break;case 5:Wx(n);break;case 4:Dl();break;case 13:ut(wt);break;case 19:ut(wt);break;case 10:jx(n.type._context);break;case 22:case 23:i_()}r=r.return}if(sr=t,jt=t=eo(t.current,null),dr=rn=e,Yt=0,Nc=null,t_=Vp=oa=0,jr=lc=null,Wo!==null){for(e=0;e<Wo.length;e++)if(r=Wo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Wo=null}return t}function cA(t,e){do{var r=jt;try{if(Vx(),yd.current=Qd,Kd){for(var n=Tt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Kd=!1}if(sa=0,nr=Xt=Tt=null,oc=!1,Dc=0,e_.current=null,r===null||r.return===null){Yt=1,Nc=e,jt=null;break}e:{var s=t,o=r.return,a=r,u=e;if(e=dr,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Rb(o);if(g!==null){g.flags&=-257,Ib(g,o,a,s,e),g.mode&1&&Ab(s,h,e),e=g,u=h;var v=e.updateQueue;if(v===null){var b=new Set;b.add(u),e.updateQueue=b}else v.add(u);break e}else{if(!(e&1)){Ab(s,h,e),s_();break e}u=Error(re(426))}}else if(pt&&a.mode&1){var C=Rb(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Ib(C,o,a,s,e),Ux(Ll(u,a));break e}}s=u=Ll(u,a),Yt!==4&&(Yt=2),lc===null?lc=[s]:lc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=XP(s,u,e);wb(s,E);break e;case 1:a=u;var S=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Zs===null||!Zs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=YP(s,a,e);wb(s,_);break e}}s=s.return}while(s!==null)}dA(r)}catch(P){e=P,jt===r&&r!==null&&(jt=r=r.return);continue}break}while(1)}function hA(){var t=qd.current;return qd.current=Qd,t===null?Qd:t}function s_(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),sr===null||!(oa&268435455)&&!(Vp&268435455)||Vs(sr,dr)}function ep(t,e){var r=We;We|=2;var n=hA();(sr!==t||dr!==e)&&(Yi=null,qo(t,e));do try{qD();break}catch(i){cA(t,i)}while(1);if(Vx(),We=r,qd.current=n,jt!==null)throw Error(re(261));return sr=null,dr=0,Yt}function qD(){for(;jt!==null;)fA(jt)}function ZD(){for(;jt!==null&&!Sk();)fA(jt)}function fA(t){var e=mA(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?dA(t):jt=e,e_.current=null}function dA(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$D(r,e),r!==null){r.flags&=32767,jt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,jt=null;return}}else if(r=HD(r,e,rn),r!==null){jt=r;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);Yt===0&&(Yt=5)}function Oo(t,e,r){var n=nt,i=An.transition;try{An.transition=null,nt=1,JD(t,e,r,n)}finally{An.transition=i,nt=n}return null}function JD(t,e,r,n){do _l();while(Hs!==null);if(We&6)throw Error(re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Dk(t,s),t===sr&&(jt=sr=null,dr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pf||(Pf=!0,gA(Fd,function(){return _l(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=nt;nt=1;var a=We;We|=4,e_.current=null,XD(t,r),aA(r,t),xD(Ov),Od=!!Nv,Ov=Nv=null,t.current=r,YD(r),Ek(),We=a,nt=o,An.transition=s}else t.current=r;if(Pf&&(Pf=!1,Hs=t,Jd=i),s=t.pendingLanes,s===0&&(Zs=null),Pk(r.stateNode),Wr(t,Nt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Zd)throw Zd=!1,t=n0,n0=null,t;return Jd&1&&t.tag!==0&&_l(),s=t.pendingLanes,s&1?t===i0?uc++:(uc=0,i0=t):uc=0,mo(),null}function _l(){if(Hs!==null){var t=WC(Jd),e=An.transition,r=nt;try{if(An.transition=null,nt=16>t?16:t,Hs===null)var n=!1;else{if(t=Hs,Hs=null,Jd=0,We&6)throw Error(re(331));var i=We;for(We|=4,ge=t.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var h=a[u];for(ge=h;ge!==null;){var f=ge;switch(f.tag){case 0:case 11:case 15:ac(8,f,s)}var d=f.child;if(d!==null)d.return=f,ge=d;else for(;ge!==null;){f=ge;var p=f.sibling,g=f.return;if(iA(f),f===h){ge=null;break}if(p!==null){p.return=g,ge=p;break}ge=g}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ac(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,ge=E;break e}ge=s.return}}var S=t.current;for(ge=S;ge!==null;){o=ge;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ge=x;else e:for(o=S;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zp(9,a)}}catch(P){Rt(a,a.return,P)}if(a===o){ge=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ge=_;break e}ge=a.return}}if(We=i,mo(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(kp,t)}catch{}n=!0}return n}finally{nt=r,An.transition=e}}return!1}function Gb(t,e,r){e=Ll(r,e),e=XP(t,e,1),t=qs(t,e,1),e=kr(),t!==null&&(eh(t,1,e),Wr(t,e))}function Rt(t,e,r){if(t.tag===3)Gb(t,t,r);else for(;e!==null;){if(e.tag===3){Gb(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zs===null||!Zs.has(n))){t=Ll(r,t),t=YP(e,t,1),e=qs(e,t,1),t=kr(),e!==null&&(eh(e,1,t),Wr(e,t));break}}e=e.return}}function eL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=kr(),t.pingedLanes|=t.suspendedLanes&r,sr===t&&(dr&r)===r&&(Yt===4||Yt===3&&(dr&130023424)===dr&&500>Nt()-r_?qo(t,0):t_|=r),Wr(t,e)}function pA(t,e){e===0&&(t.mode&1?(e=yf,yf<<=1,!(yf&130023424)&&(yf=4194304)):e=1);var r=kr();t=hs(t,e),t!==null&&(eh(t,e,r),Wr(t,r))}function tL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),pA(t,r)}function rL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),pA(t,r)}var mA;mA=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hr.current)Gr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gr=!1,GD(t,e,r);Gr=!!(t.flags&131072)}else Gr=!1,pt&&e.flags&1048576&&vP(e,Hd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;xd(t,e),t=e.pendingProps;var i=Il(e,Tr.current);xl(e,r),i=Kx(null,e,n,t,i,r);var s=Qx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$r(n)?(s=!0,jd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hx(e),i.updater=Bp,e.stateNode=i,i._reactInternals=e,Wv(e,n,t,r),e=Kv(null,e,n,!0,s,r)):(e.tag=0,pt&&s&&Ox(e),Mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(xd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=iL(n),t=Hn(n,t),i){case 0:e=Yv(null,e,n,t,r);break e;case 1:e=Db(null,e,n,t,r);break e;case 11:e=Mb(null,e,n,t,r);break e;case 14:e=kb(null,e,n,Hn(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),Yv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),Db(t,e,n,i,r);case 3:e:{if(ZP(e),t===null)throw Error(re(387));n=e.pendingProps,s=e.memoizedState,i=s.element,bP(t,e),Xd(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ll(Error(re(423)),e),e=Lb(t,e,n,r,i);break e}else if(n!==i){i=Ll(Error(re(424)),e),e=Lb(t,e,n,r,i);break e}else for(nn=Qs(e.stateNode.containerInfo.firstChild),on=e,pt=!0,Yn=null,r=CP(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ml(),n===i){e=fs(t,e,r);break e}Mr(t,e,n,r)}e=e.child}return e;case 5:return PP(e),t===null&&Gv(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Bv(n,i)?o=null:s!==null&&Bv(n,s)&&(e.flags|=32),qP(t,e),Mr(t,e,o,r),e.child;case 6:return t===null&&Gv(e),null;case 13:return JP(t,e,r);case 4:return $x(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=kl(e,null,n,r):Mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),Mb(t,e,n,i,r);case 7:return Mr(t,e,e.pendingProps,r),e.child;case 8:return Mr(t,e,e.pendingProps.children,r),e.child;case 12:return Mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ot($d,n._currentValue),n._currentValue=o,s!==null)if(si(s.value,o)){if(s.children===i.children&&!Hr.current){e=fs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=ns(-1,r&-r),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),Hv(s.return,r,e),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(re(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Hv(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,xl(e,r),i=Rn(i),n=n(i),e.flags|=1,Mr(t,e,n,r),e.child;case 14:return n=e.type,i=Hn(n,e.pendingProps),i=Hn(n.type,i),kb(t,e,n,i,r);case 15:return KP(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),xd(t,e),e.tag=1,$r(n)?(t=!0,jd(e)):t=!1,xl(e,r),EP(e,n,i),Wv(e,n,i,r),Kv(null,e,n,!0,t,r);case 19:return eA(t,e,r);case 22:return QP(t,e,r)}throw Error(re(156,e.tag))};function gA(t,e){return jC(t,e)}function nL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,r,n){return new nL(t,e,r,n)}function o_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iL(t){if(typeof t=="function")return o_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tx)return 11;if(t===Cx)return 14}return 2}function eo(t,e){var r=t.alternate;return r===null?(r=Tn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function bd(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")o_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ka:return Zo(r.children,i,s,e);case Ex:o=8,i|=8;break;case gv:return t=Tn(12,r,e,i|2),t.elementType=gv,t.lanes=s,t;case yv:return t=Tn(13,r,e,i),t.elementType=yv,t.lanes=s,t;case vv:return t=Tn(19,r,e,i),t.elementType=vv,t.lanes=s,t;case TC:return jp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SC:o=10;break e;case EC:o=9;break e;case Tx:o=11;break e;case Cx:o=14;break e;case Ns:o=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Tn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Zo(t,e,r,n){return t=Tn(7,t,n,e),t.lanes=r,t}function jp(t,e,r,n){return t=Tn(22,t,n,e),t.elementType=TC,t.lanes=r,t.stateNode={isHidden:!1},t}function uy(t,e,r){return t=Tn(6,t,null,e),t.lanes=r,t}function cy(t,e,r){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hg(0),this.expirationTimes=Hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a_(t,e,r,n,i,s,o,a,u){return t=new sL(t,e,r,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hx(s),t}function oL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ya,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function yA(t){if(!t)return so;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if($r(r))return gP(t,r,e)}return e}function vA(t,e,r,n,i,s,o,a,u){return t=a_(r,n,!0,t,i,s,o,a,u),t.context=yA(null),r=t.current,n=kr(),i=Js(r),s=ns(n,i),s.callback=e??null,qs(r,s,i),t.current.lanes=i,eh(t,i,n),Wr(t,n),t}function Gp(t,e,r,n){var i=e.current,s=kr(),o=Js(i);return r=yA(r),e.context===null?e.context=r:e.pendingContext=r,e=ns(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qs(i,e,o),t!==null&&(ti(t,i,o,s),gd(t,i,o)),o}function tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function l_(t,e){Hb(t,e),(t=t.alternate)&&Hb(t,e)}function aL(){return null}var xA=typeof reportError=="function"?reportError:function(t){console.error(t)};function u_(t){this._internalRoot=t}Hp.prototype.render=u_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Gp(t,e,null,null)};Hp.prototype.unmount=u_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;aa(function(){Gp(null,t,null,null)}),e[cs]=null}};function Hp(t){this._internalRoot=t}Hp.prototype.unstable_scheduleHydration=function(t){if(t){var e=KC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<zs.length&&e!==0&&e<zs[r].priority;r++);zs.splice(r,0,t),r===0&&qC(t)}};function c_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $b(){}function lL(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=tp(o);s.call(h)}}var o=vA(e,n,t,0,null,!1,!1,"",$b);return t._reactRootContainer=o,t[cs]=o.current,Ac(t.nodeType===8?t.parentNode:t),aa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var h=tp(u);a.call(h)}}var u=a_(t,0,!1,null,null,!1,!1,"",$b);return t._reactRootContainer=u,t[cs]=u.current,Ac(t.nodeType===8?t.parentNode:t),aa(function(){Gp(e,u,r,n)}),u}function Wp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=tp(o);a.call(u)}}Gp(e,o,t,i)}else o=lL(r,e,t,i,n);return tp(o)}XC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Wu(e.pendingLanes);r!==0&&(Rx(e,r|1),Wr(e,Nt()),!(We&6)&&(Fl=Nt()+500,mo()))}break;case 13:aa(function(){var n=hs(t,1);if(n!==null){var i=kr();ti(n,t,1,i)}}),l_(t,1)}};Ix=function(t){if(t.tag===13){var e=hs(t,134217728);if(e!==null){var r=kr();ti(e,t,134217728,r)}l_(t,134217728)}};YC=function(t){if(t.tag===13){var e=Js(t),r=hs(t,e);if(r!==null){var n=kr();ti(r,t,e,n)}l_(t,e)}};KC=function(){return nt};QC=function(t,e){var r=nt;try{return nt=t,e()}finally{nt=r}};Av=function(t,e,r){switch(e){case"input":if(wv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Np(n);if(!i)throw Error(re(90));PC(n),wv(n,i)}}}break;case"textarea":RC(t,r);break;case"select":e=r.value,e!=null&&ml(t,!!r.multiple,e,!1)}};NC=n_;OC=aa;var uL={usingClientEntryPoint:!1,Events:[rh,Ja,Np,LC,FC,n_]},Iu={findFiberByHostInstance:$o,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cL={bundleType:Iu.bundleType,version:Iu.version,rendererPackageName:Iu.rendererPackageName,rendererConfig:Iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zC(t),t===null?null:t.stateNode},findFiberByHostInstance:Iu.findFiberByHostInstance||aL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{kp=Af.inject(cL),Ii=Af}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uL;cn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c_(e))throw Error(re(200));return oL(t,e,null,r)};cn.createRoot=function(t,e){if(!c_(t))throw Error(re(299));var r=!1,n="",i=xA;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=a_(t,1,!1,null,null,r,!1,n,i),t[cs]=e.current,Ac(t.nodeType===8?t.parentNode:t),new u_(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=zC(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return aa(t)};cn.hydrate=function(t,e,r){if(!$p(e))throw Error(re(200));return Wp(null,t,e,!0,r)};cn.hydrateRoot=function(t,e,r){if(!c_(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=xA;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=vA(e,null,t,1,r??null,i,!1,s,o),t[cs]=e.current,Ac(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Hp(e)};cn.render=function(t,e,r){if(!$p(e))throw Error(re(200));return Wp(null,t,e,!1,r)};cn.unmountComponentAtNode=function(t){if(!$p(t))throw Error(re(40));return t._reactRootContainer?(aa(function(){Wp(null,null,t,!1,function(){t._reactRootContainer=null,t[cs]=null})}),!0):!1};cn.unstable_batchedUpdates=n_;cn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!$p(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Wp(t,e,r,!1,n)};cn.version="18.2.0-next-9e3b772b8-20220608";function _A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_A)}catch(t){console.error(t)}}_A(),vC.exports=cn;var hL=vC.exports,Wb=hL;pv.createRoot=Wb.createRoot,pv.hydrateRoot=Wb.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dt(){return dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dt.apply(this,arguments)}var zt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zt||(zt={}));const Xb="popstate";function fL(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Oc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:la(i)}return pL(e,r,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dL(){return Math.random().toString(36).substr(2,8)}function Yb(t,e){return{usr:t.state,key:t.key,idx:e}}function Oc(t,e,r,n){return r===void 0&&(r=null),dt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vs(e):e,{state:r,key:e&&e.key||n||dL()})}function la(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function pL(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=zt.Pop,u=null,h=f();h==null&&(h=0,o.replaceState(dt({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function d(){a=zt.Pop;let C=f(),E=C==null?null:C-h;h=C,u&&u({action:a,location:b.location,delta:E})}function p(C,E){a=zt.Push;let S=Oc(b.location,C,E);r&&r(S,C),h=f()+1;let x=Yb(S,h),_=b.createHref(S);try{o.pushState(x,"",_)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(_)}s&&u&&u({action:a,location:b.location,delta:1})}function g(C,E){a=zt.Replace;let S=Oc(b.location,C,E);r&&r(S,C),h=f();let x=Yb(S,h),_=b.createHref(S);o.replaceState(x,"",_),s&&u&&u({action:a,location:b.location,delta:0})}function v(C){let E=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof C=="string"?C:la(C);return Be(E,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,E)}let b={get action(){return a},get location(){return t(i,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Xb,d),u=C,()=>{i.removeEventListener(Xb,d),u=null}},createHref(C){return e(i,C)},createURL:v,encodeLocation(C){let E=v(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(C){return o.go(C)}};return b}var Wt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wt||(Wt={}));const mL=new Set(["lazy","caseSensitive","path","id","index","children"]);function gL(t){return t.index===!0}function a0(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,s],a=typeof i.id=="string"?i.id:o.join("-");if(Be(i.index!==!0||!i.children,"Cannot specify children on an index route"),Be(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),gL(i)){let u=dt({},i,e(i),{id:a});return n[a]=u,u}else{let u=dt({},i,e(i),{id:a,children:void 0});return n[a]=u,i.children&&(u.children=a0(i.children,e,o,n)),u}})}function ol(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?vs(e):e,i=Yl(n.pathname||"/",r);if(i==null)return null;let s=wA(t);yL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=CL(s[a],RL(i));return o}function wA(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Be(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let h=is([n,u.relativePath]),f=r.concat(u);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),wA(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:EL(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of bA(s.path))i(s,o,u)}),e}function bA(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=bA(n.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function yL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:TL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vL=/^:\w+$/,xL=3,_L=2,wL=1,bL=10,SL=-2,Kb=t=>t==="*";function EL(t,e){let r=t.split("/"),n=r.length;return r.some(Kb)&&(n+=SL),e&&(n+=_L),r.filter(i=>!Kb(i)).reduce((i,s)=>i+(vL.test(s)?xL:s===""?wL:bL),n)}function TL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function CL(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],u=o===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=PL({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},h);if(!f)return null;Object.assign(n,f.params);let d=a.route;s.push({params:n,pathname:is([i,f.pathname]),pathnameBase:DL(is([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=is([i,f.pathnameBase]))}return s}function PL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=AL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((h,f,d)=>{if(f==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return h[f]=IL(a[d]||"",f),h},{}),pathname:s,pathnameBase:o,pattern:t}}function AL(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Nl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(n.push(a),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function RL(t){try{return decodeURI(t)}catch(e){return Nl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IL(t,e){try{return decodeURIComponent(t)}catch(r){return Nl(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Yl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ML(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?vs(t):t;return{pathname:r?r.startsWith("/")?r:kL(r,e):e,search:LL(n),hash:FL(i)}}function kL(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function hy(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xp(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function h_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=vs(t):(i=dt({},t),Be(!i.pathname||!i.pathname.includes("?"),hy("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),hy("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),hy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(n||o==null)a=r;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let u=ML(i,a),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const is=t=>t.join("/").replace(/\/\/+/g,"/"),DL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class f_{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function SA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EA=["post","put","patch","delete"],NL=new Set(EA),OL=["get",...EA],BL=new Set(OL),UL=new Set([301,302,303,307,308]),zL=new Set([307,308]),fy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},VL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},TA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jL=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function GL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Be(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;i=H=>({hasErrorBoundary:j(H)})}else i=jL;let s={},o=a0(t.routes,i,void 0,s),a,u=t.basename||"/",h=dt({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),f=null,d=new Set,p=null,g=null,v=null,b=t.hydrationData!=null,C=ol(o,t.history.location,u),E=null;if(C==null){let j=bn(404,{pathname:t.history.location.pathname}),{matches:H,route:J}=nS(o);C=H,E={[J.id]:j}}let S=!C.some(j=>j.route.lazy)&&(!C.some(j=>j.route.loader)||t.hydrationData!=null),x,_={historyAction:t.history.action,location:t.history.location,matches:C,initialized:S,navigation:fy,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},P=zt.Pop,k=!1,M,A=!1,I=!1,D=[],L=[],N=new Map,G=0,z=-1,ie=new Map,ae=new Set,ee=new Map,B=new Map,X=new Map,O=!1;function Y(){return f=t.history.listen(j=>{let{action:H,location:J,delta:pe}=j;if(O){O=!1;return}Nl(X.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ke=xh({currentLocation:_.location,nextLocation:J,historyAction:H});if(ke&&pe!=null){O=!0,t.history.go(pe*-1),xa(ke,{state:"blocked",location:J,proceed(){xa(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),t.history.go(pe)},reset(){let Ie=new Map(_.blockers);Ie.set(ke,Mu),fe({blockers:Ie})}});return}return et(H,J)}),_.initialized||et(zt.Pop,_.location),x}function se(){f&&f(),d.clear(),M&&M.abort(),_.fetchers.forEach((j,H)=>Zl(H)),_.blockers.forEach((j,H)=>vh(H))}function Ce(j){return d.add(j),()=>d.delete(j)}function fe(j){_=dt({},_,j),d.forEach(H=>H(_))}function Le(j,H){var J,pe;let ke=_.actionData!=null&&_.navigation.formMethod!=null&&Xn(_.navigation.formMethod)&&_.navigation.state==="loading"&&((J=j.state)==null?void 0:J._isRedirect)!==!0,Ie;H.actionData?Object.keys(H.actionData).length>0?Ie=H.actionData:Ie=null:ke?Ie=_.actionData:Ie=null;let Me=H.loaderData?rS(_.loaderData,H.loaderData,H.matches||[],H.errors):_.loaderData,Se=_.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((it,Gt)=>Se.set(Gt,Mu)));let _e=k===!0||_.navigation.formMethod!=null&&Xn(_.navigation.formMethod)&&((pe=j.state)==null?void 0:pe._isRedirect)!==!0;a&&(o=a,a=void 0),A||P===zt.Pop||(P===zt.Push?t.history.push(j,j.state):P===zt.Replace&&t.history.replace(j,j.state)),fe(dt({},H,{actionData:Ie,loaderData:Me,historyAction:P,location:j,initialized:!0,navigation:fy,revalidation:"idle",restoreScrollPosition:wh(j,H.matches||_.matches),preventScrollReset:_e,blockers:Se})),P=zt.Pop,k=!1,A=!1,I=!1,D=[],L=[]}async function Re(j,H){if(typeof j=="number"){t.history.go(j);return}let J=l0(_.location,_.matches,u,h.v7_prependBasename,j,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:pe,submission:ke,error:Ie}=Qb(h.v7_normalizeFormMethod,!1,J,H),Me=_.location,Se=Oc(_.location,pe,H&&H.state);Se=dt({},Se,t.history.encodeLocation(Se));let _e=H&&H.replace!=null?H.replace:void 0,it=zt.Push;_e===!0?it=zt.Replace:_e===!1||ke!=null&&Xn(ke.formMethod)&&ke.formAction===_.location.pathname+_.location.search&&(it=zt.Replace);let Gt=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Ke=xh({currentLocation:Me,nextLocation:Se,historyAction:it});if(Ke){xa(Ke,{state:"blocked",location:Se,proceed(){xa(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),Re(j,H)},reset(){let vt=new Map(_.blockers);vt.set(Ke,Mu),fe({blockers:vt})}});return}return await et(it,Se,{submission:ke,pendingError:Ie,preventScrollReset:Gt,replace:H&&H.replace})}function Ue(){if(xo(),fe({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){et(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}et(P||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function et(j,H,J){M&&M.abort(),M=null,P=j,A=(J&&J.startUninterruptedRevalidation)===!0,Sm(_.location,_.matches),k=(J&&J.preventScrollReset)===!0;let pe=a||o,ke=J&&J.overrideNavigation,Ie=ol(pe,H,u);if(!Ie){let vt=bn(404,{pathname:H.pathname}),{matches:Pt,route:li}=nS(pe);Jl(),Le(H,{matches:Pt,loaderData:{},errors:{[li.id]:vt}});return}if(_.initialized&&!I&&YL(_.location,H)&&!(J&&J.submission&&Xn(J.submission.formMethod))){Le(H,{matches:Ie});return}M=new AbortController;let Me=Du(t.history,H,M.signal,J&&J.submission),Se,_e;if(J&&J.pendingError)_e={[al(Ie).route.id]:J.pendingError};else if(J&&J.submission&&Xn(J.submission.formMethod)){let vt=await yt(Me,H,J.submission,Ie,{replace:J.replace});if(vt.shortCircuited)return;Se=vt.pendingActionData,_e=vt.pendingActionError,ke=Rf(H,J.submission),Me=new Request(Me.url,{signal:Me.signal})}let{shortCircuited:it,loaderData:Gt,errors:Ke}=await tt(Me,H,Ie,ke,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,Se,_e);it||(M=null,Le(H,dt({matches:Ie},Se?{actionData:Se}:{},{loaderData:Gt,errors:Ke})))}async function yt(j,H,J,pe,ke){ke===void 0&&(ke={}),xo();let Ie=JL(H,J);fe({navigation:Ie});let Me,Se=c0(pe,H);if(!Se.route.action&&!Se.route.lazy)Me={type:Wt.error,error:bn(405,{method:j.method,pathname:H.pathname,routeId:Se.route.id})};else if(Me=await ku("action",j,Se,pe,s,i,u),j.signal.aborted)return{shortCircuited:!0};if(wl(Me)){let _e;return ke&&ke.replace!=null?_e=ke.replace:_e=Me.location===_.location.pathname+_.location.search,await Kt(_,Me,{submission:J,replace:_e}),{shortCircuited:!0}}if(cc(Me)){let _e=al(pe,Se.route.id);return(ke&&ke.replace)!==!0&&(P=zt.Push),{pendingActionData:{},pendingActionError:{[_e.route.id]:Me.error}}}if(Yo(Me))throw bn(400,{type:"defer-action"});return{pendingActionData:{[Se.route.id]:Me.data}}}async function tt(j,H,J,pe,ke,Ie,Me,Se,_e){let it=pe||Rf(H,ke),Gt=ke||Ie||oS(it),Ke=a||o,[vt,Pt]=qb(t.history,_,J,Gt,H,I,D,L,ee,ae,Ke,u,Se,_e);if(Jl(qe=>!(J&&J.some(Kr=>Kr.route.id===qe))||vt&&vt.some(Kr=>Kr.route.id===qe)),z=++G,vt.length===0&&Pt.length===0){let qe=gh();return Le(H,dt({matches:J,loaderData:{},errors:_e||null},Se?{actionData:Se}:{},qe?{fetchers:new Map(_.fetchers)}:{})),{shortCircuited:!0}}if(!A){Pt.forEach(Kr=>{let ci=_.fetchers.get(Kr.key),nu=Lu(void 0,ci?ci.data:void 0);_.fetchers.set(Kr.key,nu)});let qe=Se||_.actionData;fe(dt({navigation:it},qe?Object.keys(qe).length===0?{actionData:null}:{actionData:qe}:{},Pt.length>0?{fetchers:new Map(_.fetchers)}:{}))}Pt.forEach(qe=>{N.has(qe.key)&&Nr(qe.key),qe.controller&&N.set(qe.key,qe.controller)});let li=()=>Pt.forEach(qe=>Nr(qe.key));M&&M.signal.addEventListener("abort",li);let{results:ui,loaderResults:wo,fetcherResults:eu}=await ai(_.matches,J,vt,Pt,j);if(j.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",li),Pt.forEach(qe=>N.delete(qe.key));let kn=iS(ui);if(kn){if(kn.idx>=vt.length){let qe=Pt[kn.idx-vt.length].key;ae.add(qe)}return await Kt(_,kn.result,{replace:Me}),{shortCircuited:!0}}let{loaderData:fn,errors:_s}=tS(_,J,vt,wo,_e,Pt,eu,B);B.forEach((qe,Kr)=>{qe.subscribe(ci=>{(ci||qe.done)&&B.delete(Kr)})});let tu=gh(),ru=yh(z),ws=tu||ru||Pt.length>0;return dt({loaderData:fn,errors:_s},ws?{fetchers:new Map(_.fetchers)}:{})}function Pe(j){return _.fetchers.get(j)||VL}function Qe(j,H,J,pe){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");N.has(j)&&Nr(j);let ke=a||o,Ie=l0(_.location,_.matches,u,h.v7_prependBasename,J,H,pe==null?void 0:pe.relative),Me=ol(ke,Ie,u);if(!Me){Mn(j,H,bn(404,{pathname:Ie}));return}let{path:Se,submission:_e,error:it}=Qb(h.v7_normalizeFormMethod,!0,Ie,pe);if(it){Mn(j,H,it);return}let Gt=c0(Me,Se);if(k=(pe&&pe.preventScrollReset)===!0,_e&&Xn(_e.formMethod)){Oe(j,H,Se,Gt,Me,_e);return}ee.set(j,{routeId:H,path:Se}),Fr(j,H,Se,Gt,Me,_e)}async function Oe(j,H,J,pe,ke,Ie){if(xo(),ee.delete(j),!pe.route.action&&!pe.route.lazy){let kt=bn(405,{method:Ie.formMethod,pathname:J,routeId:H});Mn(j,H,kt);return}let Me=_.fetchers.get(j),Se=eF(Ie,Me);_.fetchers.set(j,Se),fe({fetchers:new Map(_.fetchers)});let _e=new AbortController,it=Du(t.history,J,_e.signal,Ie);N.set(j,_e);let Gt=G,Ke=await ku("action",it,pe,ke,s,i,u);if(it.signal.aborted){N.get(j)===_e&&N.delete(j);return}if(wl(Ke))if(N.delete(j),z>Gt){let kt=Va(void 0);_.fetchers.set(j,kt),fe({fetchers:new Map(_.fetchers)});return}else{ae.add(j);let kt=Lu(Ie);return _.fetchers.set(j,kt),fe({fetchers:new Map(_.fetchers)}),Kt(_,Ke,{submission:Ie,isFetchActionRedirect:!0})}if(cc(Ke)){Mn(j,H,Ke.error);return}if(Yo(Ke))throw bn(400,{type:"defer-action"});let vt=_.navigation.location||_.location,Pt=Du(t.history,vt,_e.signal),li=a||o,ui=_.navigation.state!=="idle"?ol(li,_.navigation.location,u):_.matches;Be(ui,"Didn't find any matches after fetcher action");let wo=++G;ie.set(j,wo);let eu=Lu(Ie,Ke.data);_.fetchers.set(j,eu);let[kn,fn]=qb(t.history,_,ui,Ie,vt,I,D,L,ee,ae,li,u,{[pe.route.id]:Ke.data},void 0);fn.filter(kt=>kt.key!==j).forEach(kt=>{let bo=kt.key,bh=_.fetchers.get(bo),Tm=Lu(void 0,bh?bh.data:void 0);_.fetchers.set(bo,Tm),N.has(bo)&&Nr(bo),kt.controller&&N.set(bo,kt.controller)}),fe({fetchers:new Map(_.fetchers)});let _s=()=>fn.forEach(kt=>Nr(kt.key));_e.signal.addEventListener("abort",_s);let{results:tu,loaderResults:ru,fetcherResults:ws}=await ai(_.matches,ui,kn,fn,Pt);if(_e.signal.aborted)return;_e.signal.removeEventListener("abort",_s),ie.delete(j),N.delete(j),fn.forEach(kt=>N.delete(kt.key));let qe=iS(tu);if(qe){if(qe.idx>=kn.length){let kt=fn[qe.idx-kn.length].key;ae.add(kt)}return Kt(_,qe.result)}let{loaderData:Kr,errors:ci}=tS(_,_.matches,kn,ru,void 0,fn,ws,B);if(_.fetchers.has(j)){let kt=Va(Ke.data);_.fetchers.set(j,kt)}let nu=yh(wo);_.navigation.state==="loading"&&wo>z?(Be(P,"Expected pending action"),M&&M.abort(),Le(_.navigation.location,{matches:ui,loaderData:Kr,errors:ci,fetchers:new Map(_.fetchers)})):(fe(dt({errors:ci,loaderData:rS(_.loaderData,Kr,ui,ci)},nu||fn.length>0?{fetchers:new Map(_.fetchers)}:{})),I=!1)}async function Fr(j,H,J,pe,ke,Ie){let Me=_.fetchers.get(j),Se=Lu(Ie,Me?Me.data:void 0);_.fetchers.set(j,Se),fe({fetchers:new Map(_.fetchers)});let _e=new AbortController,it=Du(t.history,J,_e.signal);N.set(j,_e);let Gt=G,Ke=await ku("loader",it,pe,ke,s,i,u);if(Yo(Ke)&&(Ke=await AA(Ke,it.signal,!0)||Ke),N.get(j)===_e&&N.delete(j),it.signal.aborted)return;if(wl(Ke))if(z>Gt){let Pt=Va(void 0);_.fetchers.set(j,Pt),fe({fetchers:new Map(_.fetchers)});return}else{ae.add(j),await Kt(_,Ke);return}if(cc(Ke)){let Pt=al(_.matches,H);_.fetchers.delete(j),fe({fetchers:new Map(_.fetchers),errors:{[Pt.route.id]:Ke.error}});return}Be(!Yo(Ke),"Unhandled fetcher deferred data");let vt=Va(Ke.data);_.fetchers.set(j,vt),fe({fetchers:new Map(_.fetchers)})}async function Kt(j,H,J){let{submission:pe,replace:ke,isFetchActionRedirect:Ie}=J===void 0?{}:J;H.revalidate&&(I=!0);let Me=Oc(j.location,H.location,dt({_isRedirect:!0},Ie?{_isFetchActionRedirect:!0}:{}));if(Be(Me,"Expected a location on the redirect navigation"),TA.test(H.location)&&r){let it=t.history.createURL(H.location),Gt=Yl(it.pathname,u)==null;if(e.location.origin!==it.origin||Gt){ke?e.location.replace(H.location):e.location.assign(H.location);return}}M=null;let Se=ke===!0?zt.Replace:zt.Push,_e=pe||oS(j.navigation);if(zL.has(H.status)&&_e&&Xn(_e.formMethod))await et(Se,Me,{submission:dt({},_e,{formAction:H.location}),preventScrollReset:k});else if(Ie)await et(Se,Me,{overrideNavigation:Rf(Me),fetcherSubmission:_e,preventScrollReset:k});else{let it=Rf(Me,_e);await et(Se,Me,{overrideNavigation:it,preventScrollReset:k})}}async function ai(j,H,J,pe,ke){let Ie=await Promise.all([...J.map(_e=>ku("loader",ke,_e,H,s,i,u)),...pe.map(_e=>_e.matches&&_e.match&&_e.controller?ku("loader",Du(t.history,_e.path,_e.controller.signal),_e.match,_e.matches,s,i,u):{type:Wt.error,error:bn(404,{pathname:_e.path})})]),Me=Ie.slice(0,J.length),Se=Ie.slice(J.length);return await Promise.all([sS(j,J,Me,Me.map(()=>ke.signal),!1,_.loaderData),sS(j,pe.map(_e=>_e.match),Se,pe.map(_e=>_e.controller?_e.controller.signal:null),!0)]),{results:Ie,loaderResults:Me,fetcherResults:Se}}function xo(){I=!0,D.push(...Jl()),ee.forEach((j,H)=>{N.has(H)&&(L.push(H),Nr(H))})}function Mn(j,H,J){let pe=al(_.matches,H);Zl(j),fe({errors:{[pe.route.id]:J},fetchers:new Map(_.fetchers)})}function Zl(j){let H=_.fetchers.get(j);N.has(j)&&!(H&&H.state==="loading"&&ie.has(j))&&Nr(j),ee.delete(j),ie.delete(j),ae.delete(j),_.fetchers.delete(j)}function Nr(j){let H=N.get(j);Be(H,"Expected fetch controller: "+j),H.abort(),N.delete(j)}function mh(j){for(let H of j){let J=Pe(H),pe=Va(J.data);_.fetchers.set(H,pe)}}function gh(){let j=[],H=!1;for(let J of ae){let pe=_.fetchers.get(J);Be(pe,"Expected fetcher: "+J),pe.state==="loading"&&(ae.delete(J),j.push(J),H=!0)}return mh(j),H}function yh(j){let H=[];for(let[J,pe]of ie)if(pe<j){let ke=_.fetchers.get(J);Be(ke,"Expected fetcher: "+J),ke.state==="loading"&&(Nr(J),ie.delete(J),H.push(J))}return mh(H),H.length>0}function _o(j,H){let J=_.blockers.get(j)||Mu;return X.get(j)!==H&&X.set(j,H),J}function vh(j){_.blockers.delete(j),X.delete(j)}function xa(j,H){let J=_.blockers.get(j)||Mu;Be(J.state==="unblocked"&&H.state==="blocked"||J.state==="blocked"&&H.state==="blocked"||J.state==="blocked"&&H.state==="proceeding"||J.state==="blocked"&&H.state==="unblocked"||J.state==="proceeding"&&H.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+H.state);let pe=new Map(_.blockers);pe.set(j,H),fe({blockers:pe})}function xh(j){let{currentLocation:H,nextLocation:J,historyAction:pe}=j;if(X.size===0)return;X.size>1&&Nl(!1,"A router only supports one blocker at a time");let ke=Array.from(X.entries()),[Ie,Me]=ke[ke.length-1],Se=_.blockers.get(Ie);if(!(Se&&Se.state==="proceeding")&&Me({currentLocation:H,nextLocation:J,historyAction:pe}))return Ie}function Jl(j){let H=[];return B.forEach((J,pe)=>{(!j||j(pe))&&(J.cancel(),H.push(pe),B.delete(pe))}),H}function bm(j,H,J){if(p=j,v=H,g=J||null,!b&&_.navigation===fy){b=!0;let pe=wh(_.location,_.matches);pe!=null&&fe({restoreScrollPosition:pe})}return()=>{p=null,v=null,g=null}}function _h(j,H){return g&&g(j,H.map(pe=>ZL(pe,_.loaderData)))||j.key}function Sm(j,H){if(p&&v){let J=_h(j,H);p[J]=v()}}function wh(j,H){if(p){let J=_h(j,H),pe=p[J];if(typeof pe=="number")return pe}return null}function Em(j){s={},a=a0(j,i,void 0,s)}return x={get basename(){return u},get state(){return _},get routes(){return o},initialize:Y,subscribe:Ce,enableScrollRestoration:bm,navigate:Re,fetch:Qe,revalidate:Ue,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:Pe,deleteFetcher:Zl,dispose:se,getBlocker:_o,deleteBlocker:vh,_internalFetchControllers:N,_internalActiveDeferreds:B,_internalSetRoutes:Em},x}function HL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function l0(t,e,r,n,i,s,o){let a,u;if(s!=null&&o!=="path"){a=[];for(let f of e)if(a.push(f),f.route.id===s){u=f;break}}else a=e,u=e[e.length-1];let h=h_(i||".",Xp(a).map(f=>f.pathnameBase),Yl(t.pathname,r)||t.pathname,o==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!d_(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(h.pathname=h.pathname==="/"?r:is([r,h.pathname])),la(h)}function Qb(t,e,r,n){if(!n||!HL(n))return{path:r};if(n.formMethod&&!qL(n.formMethod))return{path:r,error:bn(405,{method:n.formMethod})};let i=()=>({path:r,error:bn(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=PA(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Xn(o))return i();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,v)=>{let[b,C]=v;return""+g+b+"="+C+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Xn(o))return i();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Be(typeof FormData=="function","FormData is not available in this environment");let u,h;if(n.formData)u=u0(n.formData),h=n.formData;else if(n.body instanceof FormData)u=u0(n.body),h=n.body;else if(n.body instanceof URLSearchParams)u=n.body,h=eS(u);else if(n.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(n.body),h=eS(u)}catch{return i()}let f={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Xn(f.formMethod))return{path:r,submission:f};let d=vs(r);return e&&d.search&&d_(d.search)&&u.append("index",""),d.search="?"+u,{path:la(d),submission:f}}function $L(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function qb(t,e,r,n,i,s,o,a,u,h,f,d,p,g){let v=g?Object.values(g)[0]:p?Object.values(p)[0]:void 0,b=t.createURL(e.location),C=t.createURL(i),E=g?Object.keys(g)[0]:void 0,x=$L(r,E).filter((P,k)=>{if(P.route.lazy)return!0;if(P.route.loader==null)return!1;if(WL(e.loaderData,e.matches[k],P)||o.some(I=>I===P.route.id))return!0;let M=e.matches[k],A=P;return Zb(P,dt({currentUrl:b,currentParams:M.params,nextUrl:C,nextParams:A.params},n,{actionResult:v,defaultShouldRevalidate:s||b.pathname+b.search===C.pathname+C.search||b.search!==C.search||CA(M,A)}))}),_=[];return u.forEach((P,k)=>{if(!r.some(L=>L.route.id===P.routeId))return;let M=ol(f,P.path,d);if(!M){_.push({key:k,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(k),I=c0(M,P.path),D=!1;h.has(k)?D=!1:a.includes(k)?D=!0:A&&A.state!=="idle"&&A.data===void 0?D=s:D=Zb(I,dt({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:C,nextParams:r[r.length-1].params},n,{actionResult:v,defaultShouldRevalidate:s})),D&&_.push({key:k,routeId:P.routeId,path:P.path,matches:M,match:I,controller:new AbortController})}),[x,_]}function WL(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function CA(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Zb(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function Jb(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Be(i,"No route found in manifest");let s={};for(let o in n){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Nl(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!mL.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,dt({},e(i),{lazy:void 0}))}async function ku(t,e,r,n,i,s,o,a){a===void 0&&(a={});let u,h,f,d=v=>{let b,C=new Promise((E,S)=>b=S);return f=()=>b(),e.signal.addEventListener("abort",f),Promise.race([v({request:e,params:r.params,context:a.requestContext}),C])};try{let v=r.route[t];if(r.route.lazy)if(v)h=(await Promise.all([d(v),Jb(r.route,s,i)]))[0];else if(await Jb(r.route,s,i),v=r.route[t],v)h=await d(v);else if(t==="action"){let b=new URL(e.url),C=b.pathname+b.search;throw bn(405,{method:e.method,pathname:C,routeId:r.route.id})}else return{type:Wt.data,data:void 0};else if(v)h=await d(v);else{let b=new URL(e.url),C=b.pathname+b.search;throw bn(404,{pathname:C})}Be(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){u=Wt.error,h=v}finally{f&&e.signal.removeEventListener("abort",f)}if(QL(h)){let v=h.status;if(UL.has(v)){let E=h.headers.get("Location");if(Be(E,"Redirects returned/thrown from loaders/actions must have a Location header"),!TA.test(E))E=l0(new URL(e.url),n.slice(0,n.indexOf(r)+1),o,!0,E);else if(!a.isStaticRequest){let S=new URL(e.url),x=E.startsWith("//")?new URL(S.protocol+E):new URL(E),_=Yl(x.pathname,o)!=null;x.origin===S.origin&&_&&(E=x.pathname+x.search+x.hash)}if(a.isStaticRequest)throw h.headers.set("Location",E),h;return{type:Wt.redirect,status:v,location:E,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:u||Wt.data,response:h};let b,C=h.headers.get("Content-Type");return C&&/\bapplication\/json\b/.test(C)?b=await h.json():b=await h.text(),u===Wt.error?{type:u,error:new f_(v,h.statusText,b),headers:h.headers}:{type:Wt.data,data:b,statusCode:h.status,headers:h.headers}}if(u===Wt.error)return{type:u,error:h};if(KL(h)){var p,g;return{type:Wt.deferred,deferredData:h,statusCode:(p=h.init)==null?void 0:p.status,headers:((g=h.init)==null?void 0:g.headers)&&new Headers(h.init.headers)}}return{type:Wt.data,data:h}}function Du(t,e,r,n){let i=t.createURL(PA(e)).toString(),s={signal:r};if(n&&Xn(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=u0(n.formData):s.body=n.formData}return new Request(i,s)}function u0(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function eS(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function XL(t,e,r,n,i){let s={},o=null,a,u=!1,h={};return r.forEach((f,d)=>{let p=e[d].route.id;if(Be(!wl(f),"Cannot handle redirect results in processLoaderData"),cc(f)){let g=al(t,p),v=f.error;n&&(v=Object.values(n)[0],n=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=v),s[p]=void 0,u||(u=!0,a=SA(f.error)?f.error.status:500),f.headers&&(h[p]=f.headers)}else Yo(f)?(i.set(p,f.deferredData),s[p]=f.deferredData.data):s[p]=f.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(a=f.statusCode),f.headers&&(h[p]=f.headers)}),n&&(o=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:h}}function tS(t,e,r,n,i,s,o,a){let{loaderData:u,errors:h}=XL(e,r,n,i,a);for(let f=0;f<s.length;f++){let{key:d,match:p,controller:g}=s[f];Be(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let v=o[f];if(!(g&&g.signal.aborted))if(cc(v)){let b=al(t.matches,p==null?void 0:p.route.id);h&&h[b.route.id]||(h=dt({},h,{[b.route.id]:v.error})),t.fetchers.delete(d)}else if(wl(v))Be(!1,"Unhandled fetcher revalidation redirect");else if(Yo(v))Be(!1,"Unhandled fetcher deferred data");else{let b=Va(v.data);t.fetchers.set(d,b)}}return{loaderData:u,errors:h}}function rS(t,e,r,n){let i=dt({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function al(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function nS(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bn(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",a='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new f_(t||500,o,new Error(a),!0)}function iS(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(wl(r))return{result:r,idx:e}}}function PA(t){let e=typeof t=="string"?vs(t):t;return la(dt({},e,{hash:""}))}function YL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Yo(t){return t.type===Wt.deferred}function cc(t){return t.type===Wt.error}function wl(t){return(t&&t.type)===Wt.redirect}function KL(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function QL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function qL(t){return BL.has(t.toLowerCase())}function Xn(t){return NL.has(t.toLowerCase())}async function sS(t,e,r,n,i,s){for(let o=0;o<r.length;o++){let a=r[o],u=e[o];if(!u)continue;let h=t.find(d=>d.route.id===u.route.id),f=h!=null&&!CA(h,u)&&(s&&s[u.route.id])!==void 0;if(Yo(a)&&(i||f)){let d=n[o];Be(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await AA(a,d,i).then(p=>{p&&(r[o]=p||r[o])})}}}async function AA(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Wt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Wt.error,error:i}}return{type:Wt.data,data:t.deferredData.data}}}function d_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ZL(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function c0(t,e){let r=typeof e=="string"?vs(e).search:e.search;if(t[t.length-1].route.index&&d_(r||""))return t[t.length-1];let n=Xp(t);return n[n.length-1]}function oS(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Rf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function JL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Lu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function eF(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function Va(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rp.apply(this,arguments)}const Yp=K.createContext(null),RA=K.createContext(null),Kl=K.createContext(null),Kp=K.createContext(null),da=K.createContext({outlet:null,matches:[],isDataRoute:!1}),IA=K.createContext(null);function tF(t,e){let{relative:r}=e===void 0?{}:e;ih()||Be(!1);let{basename:n,navigator:i}=K.useContext(Kl),{hash:s,pathname:o,search:a}=kA(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:is([n,o])),i.createHref({pathname:u,search:a,hash:s})}function ih(){return K.useContext(Kp)!=null}function Qp(){return ih()||Be(!1),K.useContext(Kp).location}function MA(t){K.useContext(Kl).static||K.useLayoutEffect(t)}function rF(){let{isDataRoute:t}=K.useContext(da);return t?pF():nF()}function nF(){ih()||Be(!1);let t=K.useContext(Yp),{basename:e,navigator:r}=K.useContext(Kl),{matches:n}=K.useContext(da),{pathname:i}=Qp(),s=JSON.stringify(Xp(n).map(u=>u.pathnameBase)),o=K.useRef(!1);return MA(()=>{o.current=!0}),K.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=h_(u,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:is([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,s,i,t])}function kA(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=K.useContext(da),{pathname:i}=Qp(),s=JSON.stringify(Xp(n).map(o=>o.pathnameBase));return K.useMemo(()=>h_(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function iF(t,e,r){ih()||Be(!1);let{navigator:n}=K.useContext(Kl),{matches:i}=K.useContext(da),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Qp(),h;if(e){var f;let b=typeof e=="string"?vs(e):e;a==="/"||(f=b.pathname)!=null&&f.startsWith(a)||Be(!1),h=b}else h=u;let d=h.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",g=ol(t,{pathname:p}),v=uF(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:is([a,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:is([a,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r);return e&&v?K.createElement(Kp.Provider,{value:{location:rp({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:zt.Pop}},v):v}function sF(){let t=dF(),e=SA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),r?K.createElement("pre",{style:i},r):null,s)}const oF=K.createElement(sF,null);class aF extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?K.createElement(da.Provider,{value:this.props.routeContext},K.createElement(IA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lF(t){let{routeContext:e,match:r,children:n}=t,i=K.useContext(Yp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),K.createElement(da.Provider,{value:e},n)}function uF(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let a=s.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));a>=0||Be(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,u,h)=>{let f=u.route.id?o==null?void 0:o[u.route.id]:null,d=null;r&&(d=u.route.errorElement||oF);let p=e.concat(s.slice(0,h+1)),g=()=>{let v;return f?v=d:u.route.Component?v=K.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=a,K.createElement(lF,{match:u,routeContext:{outlet:a,matches:p,isDataRoute:r!=null},children:v})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?K.createElement(aF,{location:r.location,revalidation:r.revalidation,component:d,error:f,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var h0;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(h0||(h0={}));var Bc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Bc||(Bc={}));function cF(t){let e=K.useContext(Yp);return e||Be(!1),e}function hF(t){let e=K.useContext(RA);return e||Be(!1),e}function fF(t){let e=K.useContext(da);return e||Be(!1),e}function DA(t){let e=fF(),r=e.matches[e.matches.length-1];return r.route.id||Be(!1),r.route.id}function dF(){var t;let e=K.useContext(IA),r=hF(Bc.UseRouteError),n=DA(Bc.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function pF(){let{router:t}=cF(h0.UseNavigateStable),e=DA(Bc.UseNavigateStable),r=K.useRef(!1);return MA(()=>{r.current=!0}),K.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rp({fromRouteId:e},s)))},[t,e])}const mF="startTransition",aS=tk[mF];function gF(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=K.useState(r.state),{v7_startTransition:o}=n||{},a=K.useCallback(d=>{o&&aS?aS(()=>s(d)):s(d)},[s,o]);K.useLayoutEffect(()=>r.subscribe(a),[r,a]);let u=K.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:d=>r.navigate(d),push:(d,p,g)=>r.navigate(d,{state:p,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(d,p,g)=>r.navigate(d,{replace:!0,state:p,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[r]),h=r.basename||"/",f=K.useMemo(()=>({router:r,navigator:u,static:!1,basename:h}),[r,u,h]);return K.createElement(K.Fragment,null,K.createElement(Yp.Provider,{value:f},K.createElement(RA.Provider,{value:i},K.createElement(vF,{basename:h,location:i.location,navigationType:i.historyAction,navigator:u},i.initialized?K.createElement(yF,{routes:r.routes,state:i}):e))),null)}function yF(t){let{routes:e,state:r}=t;return iF(e,void 0,r)}function vF(t){let{basename:e="/",children:r=null,location:n,navigationType:i=zt.Pop,navigator:s,static:o=!1}=t;ih()&&Be(!1);let a=e.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof n=="string"&&(n=vs(n));let{pathname:h="/",search:f="",hash:d="",state:p=null,key:g="default"}=n,v=K.useMemo(()=>{let b=Yl(h,a);return b==null?null:{location:{pathname:b,search:f,hash:d,state:p,key:g},navigationType:i}},[a,h,f,d,p,g,i]);return v==null?null:K.createElement(Kl.Provider,{value:u},K.createElement(Kp.Provider,{children:r,value:v}))}var lS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(lS||(lS={}));new Promise(()=>{});function xF(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:K.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:K.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uc.apply(this,arguments)}function _F(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function wF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bF(t,e){return t.button===0&&(!e||e==="_self")&&!wF(t)}const SF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function EF(t,e){return GL({basename:e==null?void 0:e.basename,future:Uc({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:fL({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||TF(),routes:t,mapRouteProperties:xF}).initialize()}function TF(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Uc({},e,{errors:CF(e.errors)})),e}function CF(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new f_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const PF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LA=K.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:h,preventScrollReset:f}=e,d=_F(e,SF),{basename:p}=K.useContext(Kl),g,v=!1;if(typeof h=="string"&&AF.test(h)&&(g=h,PF))try{let S=new URL(window.location.href),x=h.startsWith("//")?new URL(S.protocol+h):new URL(h),_=Yl(x.pathname,p);x.origin===S.origin&&_!=null?h=_+x.search+x.hash:v=!0}catch{}let b=tF(h,{relative:i}),C=RF(h,{replace:o,state:a,target:u,preventScrollReset:f,relative:i});function E(S){n&&n(S),S.defaultPrevented||C(S)}return K.createElement("a",Uc({},d,{href:g||b,onClick:v||s?n:E,ref:r,target:u}))});var uS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(uS||(uS={}));var cS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cS||(cS={}));function RF(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=rF(),u=Qp(),h=kA(t,{relative:o});return K.useCallback(f=>{if(bF(f,r)){f.preventDefault();let d=n!==void 0?n:la(u)===la(h);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[u,a,h,n,i,r,t,s,o])}var qp={exports:{}},pa=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(pa||{}),FA=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(FA||{}),f0=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(f0||{}),Te=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Te||{}),qn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(qn||{}),oe=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(oe||{}),bl=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(bl||{}),Ee=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Ee||{}),d0=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(d0||{}),Ji=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Ji||{}),ss=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(ss||{}),Fi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Fi||{}),oi=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(oi||{}),Pi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Pi||{}),p_=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(p_||{}),Cn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Cn||{}),$t=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))($t||{}),Vt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Vt||{}),ki=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(ki||{});const IF={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ce={ADAPTER:IF,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var dy=/iPhone/i,hS=/iPod/i,fS=/iPad/i,dS=/\biOS-universal(?:.+)Mac\b/i,py=/\bAndroid(?:.+)Mobile\b/i,pS=/Android/i,Na=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,If=/Silk/i,Hi=/Windows Phone/i,mS=/\bWindows(?:.+)ARM\b/i,gS=/BlackBerry/i,yS=/BB10/i,vS=/Opera Mini/i,xS=/\b(CriOS|Chrome)(?:.+)Mobile/i,_S=/Mobile(?:.+)Firefox\b/i,wS=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function MF(t){return function(e){return e.test(t)}}function bS(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=MF(r),s={apple:{phone:i(dy)&&!i(Hi),ipod:i(hS),tablet:!i(dy)&&(i(fS)||wS(e))&&!i(Hi),universal:i(dS),device:(i(dy)||i(hS)||i(fS)||i(dS)||wS(e))&&!i(Hi)},amazon:{phone:i(Na),tablet:!i(Na)&&i(If),device:i(Na)||i(If)},android:{phone:!i(Hi)&&i(Na)||!i(Hi)&&i(py),tablet:!i(Hi)&&!i(Na)&&!i(py)&&(i(If)||i(pS)),device:!i(Hi)&&(i(Na)||i(If)||i(py)||i(pS))||i(/\bokhttp\b/i)},windows:{phone:i(Hi),tablet:i(mS),device:i(Hi)||i(mS)},other:{blackberry:i(gS),blackberry10:i(yS),opera:i(vS),firefox:i(_S),chrome:i(xS),device:i(gS)||i(yS)||i(vS)||i(_S)||i(xS)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const kF=bS.default??bS,es=kF(globalThis.navigator);ce.RETINA_PREFIX=/@([0-9\.]+)x/;ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var NA={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function s(u,h,f,d,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,d||u,p),v=r?r+h:h;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],g]:u._events[v].push(g):(u._events[v]=g,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],f,d;if(this._eventsCount===0)return h;for(d in f=this._events)e.call(f,d)&&h.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},a.prototype.listeners=function(h){var f=r?r+h:h,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,g=d.length,v=new Array(g);p<g;p++)v[p]=d[p].fn;return v},a.prototype.listenerCount=function(h){var f=r?r+h:h,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(h,f,d,p,g,v){var b=r?r+h:h;if(!this._events[b])return!1;var C=this._events[b],E=arguments.length,S,x;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),E){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,f),!0;case 3:return C.fn.call(C.context,f,d),!0;case 4:return C.fn.call(C.context,f,d,p),!0;case 5:return C.fn.call(C.context,f,d,p,g),!0;case 6:return C.fn.call(C.context,f,d,p,g,v),!0}for(x=1,S=new Array(E-1);x<E;x++)S[x-1]=arguments[x];C.fn.apply(C.context,S)}else{var _=C.length,P;for(x=0;x<_;x++)switch(C[x].once&&this.removeListener(h,C[x].fn,void 0,!0),E){case 1:C[x].fn.call(C[x].context);break;case 2:C[x].fn.call(C[x].context,f);break;case 3:C[x].fn.call(C[x].context,f,d);break;case 4:C[x].fn.call(C[x].context,f,d,p);break;default:if(!S)for(P=1,S=new Array(E-1);P<E;P++)S[P-1]=arguments[P];C[x].fn.apply(C[x].context,S)}}return!0},a.prototype.on=function(h,f,d){return s(this,h,f,d,!1)},a.prototype.once=function(h,f,d){return s(this,h,f,d,!0)},a.prototype.removeListener=function(h,f,d,p){var g=r?r+h:h;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!p||v.once)&&(!d||v.context===d)&&o(this,g);else{for(var b=0,C=[],E=v.length;b<E;b++)(v[b].fn!==f||p&&!v[b].once||d&&v[b].context!==d)&&C.push(v[b]);C.length?this._events[g]=C.length===1?C[0]:C:o(this,g)}return this},a.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(NA);var DF=NA.exports;const sh=Zc(DF);var m_={exports:{}};m_.exports=Zp;m_.exports.default=Zp;function Zp(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=OA(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,h,f,d,p,g;if(n&&(s=BF(t,e,s,r)),t.length>80*r){a=h=t[0],u=f=t[1];for(var v=r;v<i;v+=r)d=t[v],p=t[v+1],d<a&&(a=d),p<u&&(u=p),d>h&&(h=d),p>f&&(f=p);g=Math.max(h-a,f-u),g=g!==0?32767/g:0}return zc(s,o,r,a,u,g,0),o}function OA(t,e,r,n,i){var s,o;if(i===g0(t,e,r,n)>0)for(s=e;s<r;s+=n)o=SS(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=SS(s,t[s],t[s+1],o);return o&&Jp(o,o.next)&&(jc(o),o=o.next),o}function ua(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Jp(r,r.next)||bt(r.prev,r,r.next)===0)){if(jc(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function zc(t,e,r,n,i,s,o){if(t){!o&&s&&GF(t,n,i,s);for(var a=t,u,h;t.prev!==t.next;){if(u=t.prev,h=t.next,s?FF(t,n,i,s):LF(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(h.i/r|0),jc(t),t=h.next,a=h.next;continue}if(t=h,t===a){o?o===1?(t=NF(ua(t),e,r),zc(t,e,r,n,i,s,2)):o===2&&OF(t,e,r,n,i,s):zc(ua(t),e,r,n,i,s,1);break}}}}function LF(t){var e=t.prev,r=t,n=t.next;if(bt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,u=r.y,h=n.y,f=i<s?i<o?i:o:s<o?s:o,d=a<u?a<h?a:h:u<h?u:h,p=i>s?i>o?i:o:s>o?s:o,g=a>u?a>h?a:h:u>h?u:h,v=n.next;v!==e;){if(v.x>=f&&v.x<=p&&v.y>=d&&v.y<=g&&ll(i,a,s,u,o,h,v.x,v.y)&&bt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function FF(t,e,r,n){var i=t.prev,s=t,o=t.next;if(bt(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,h=o.x,f=i.y,d=s.y,p=o.y,g=a<u?a<h?a:h:u<h?u:h,v=f<d?f<p?f:p:d<p?d:p,b=a>u?a>h?a:h:u>h?u:h,C=f>d?f>p?f:p:d>p?d:p,E=p0(g,v,e,r,n),S=p0(b,C,e,r,n),x=t.prevZ,_=t.nextZ;x&&x.z>=E&&_&&_.z<=S;){if(x.x>=g&&x.x<=b&&x.y>=v&&x.y<=C&&x!==i&&x!==o&&ll(a,f,u,d,h,p,x.x,x.y)&&bt(x.prev,x,x.next)>=0||(x=x.prevZ,_.x>=g&&_.x<=b&&_.y>=v&&_.y<=C&&_!==i&&_!==o&&ll(a,f,u,d,h,p,_.x,_.y)&&bt(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;x&&x.z>=E;){if(x.x>=g&&x.x<=b&&x.y>=v&&x.y<=C&&x!==i&&x!==o&&ll(a,f,u,d,h,p,x.x,x.y)&&bt(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;_&&_.z<=S;){if(_.x>=g&&_.x<=b&&_.y>=v&&_.y<=C&&_!==i&&_!==o&&ll(a,f,u,d,h,p,_.x,_.y)&&bt(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function NF(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Jp(i,s)&&BA(i,n,n.next,s)&&Vc(i,s)&&Vc(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),jc(n),jc(n.next),n=t=s),n=n.next}while(n!==t);return ua(n)}function OF(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&WF(o,a)){var u=UA(o,a);o=ua(o,o.next),u=ua(u,u.next),zc(o,e,r,n,i,s,0),zc(u,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function BF(t,e,r,n){var i=[],s,o,a,u,h;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:t.length,h=OA(t,a,u,n,!1),h===h.next&&(h.steiner=!0),i.push($F(h));for(i.sort(UF),s=0;s<i.length;s++)r=zF(i[s],r);return r}function UF(t,e){return t.x-e.x}function zF(t,e){var r=VF(t,e);if(!r)return e;var n=UA(r,t);return ua(n,n.next),ua(r,r.next)}function VF(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var u=o,h=o.x,f=o.y,d=1/0,p;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&ll(i<f?n:s,i,h,f,i<f?s:n,i,r.x,r.y)&&(p=Math.abs(i-r.y)/(n-r.x),Vc(r,t)&&(p<d||p===d&&(r.x>o.x||r.x===o.x&&jF(o,r)))&&(o=r,d=p)),r=r.next;while(r!==u);return o}function jF(t,e){return bt(t.prev,t,e.prev)<0&&bt(e.next,t,t.next)<0}function GF(t,e,r,n){var i=t;do i.z===0&&(i.z=p0(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,HF(i)}function HF(t){var e,r,n,i,s,o,a,u,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ,!!n);e++);for(u=h;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return t}function p0(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function $F(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ll(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function WF(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!XF(t,e)&&(Vc(t,e)&&Vc(e,t)&&YF(t,e)&&(bt(t.prev,t,e.prev)||bt(t,e.prev,e))||Jp(t,e)&&bt(t.prev,t,t.next)>0&&bt(e.prev,e,e.next)>0)}function bt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Jp(t,e){return t.x===e.x&&t.y===e.y}function BA(t,e,r,n){var i=kf(bt(t,e,r)),s=kf(bt(t,e,n)),o=kf(bt(r,n,t)),a=kf(bt(r,n,e));return!!(i!==s&&o!==a||i===0&&Mf(t,r,e)||s===0&&Mf(t,n,e)||o===0&&Mf(r,t,n)||a===0&&Mf(r,e,n))}function Mf(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function kf(t){return t>0?1:t<0?-1:0}function XF(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&BA(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Vc(t,e){return bt(t.prev,t,t.next)<0?bt(t,e,t.next)>=0&&bt(t,t.prev,e)>=0:bt(t,e,t.prev)<0||bt(t,t.next,e)<0}function YF(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function UA(t,e){var r=new m0(t.i,t.x,t.y),n=new m0(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function SS(t,e,r,n){var i=new m0(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function jc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function m0(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Zp.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(g0(t,0,s,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,f=a<u-1?e[a+1]*r:t.length;o-=Math.abs(g0(t,h,f,r))}var d=0;for(a=0;a<n.length;a+=3){var p=n[a]*r,g=n[a+1]*r,v=n[a+2]*r;d+=Math.abs((t[p]-t[v])*(t[g+1]-t[p+1])-(t[p]-t[g])*(t[v+1]-t[p+1]))}return o===0&&d===0?0:Math.abs((d-o)/o)};function g0(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Zp.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var KF=m_.exports;const QF=Zc(KF);var np={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */np.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Bg=="object"&&Bg;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,u=36,h=1,f=26,d=38,p=700,g=72,v=128,b="-",C=/^xn--/,E=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=u-h,P=Math.floor,k=String.fromCharCode,M;function A(O){throw new RangeError(x[O])}function I(O,Y){for(var se=O.length,Ce=[];se--;)Ce[se]=Y(O[se]);return Ce}function D(O,Y){var se=O.split("@"),Ce="";se.length>1&&(Ce=se[0]+"@",O=se[1]),O=O.replace(S,".");var fe=O.split("."),Le=I(fe,Y).join(".");return Ce+Le}function L(O){for(var Y=[],se=0,Ce=O.length,fe,Le;se<Ce;)fe=O.charCodeAt(se++),fe>=55296&&fe<=56319&&se<Ce?(Le=O.charCodeAt(se++),(Le&64512)==56320?Y.push(((fe&1023)<<10)+(Le&1023)+65536):(Y.push(fe),se--)):Y.push(fe);return Y}function N(O){return I(O,function(Y){var se="";return Y>65535&&(Y-=65536,se+=k(Y>>>10&1023|55296),Y=56320|Y&1023),se+=k(Y),se}).join("")}function G(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:u}function z(O,Y){return O+22+75*(O<26)-((Y!=0)<<5)}function ie(O,Y,se){var Ce=0;for(O=se?P(O/p):O>>1,O+=P(O/Y);O>_*f>>1;Ce+=u)O=P(O/_);return P(Ce+(_+1)*O/(O+d))}function ae(O){var Y=[],se=O.length,Ce,fe=0,Le=v,Re=g,Ue,et,yt,tt,Pe,Qe,Oe,Fr,Kt;for(Ue=O.lastIndexOf(b),Ue<0&&(Ue=0),et=0;et<Ue;++et)O.charCodeAt(et)>=128&&A("not-basic"),Y.push(O.charCodeAt(et));for(yt=Ue>0?Ue+1:0;yt<se;){for(tt=fe,Pe=1,Qe=u;yt>=se&&A("invalid-input"),Oe=G(O.charCodeAt(yt++)),(Oe>=u||Oe>P((a-fe)/Pe))&&A("overflow"),fe+=Oe*Pe,Fr=Qe<=Re?h:Qe>=Re+f?f:Qe-Re,!(Oe<Fr);Qe+=u)Kt=u-Fr,Pe>P(a/Kt)&&A("overflow"),Pe*=Kt;Ce=Y.length+1,Re=ie(fe-tt,Ce,tt==0),P(fe/Ce)>a-Le&&A("overflow"),Le+=P(fe/Ce),fe%=Ce,Y.splice(fe++,0,Le)}return N(Y)}function ee(O){var Y,se,Ce,fe,Le,Re,Ue,et,yt,tt,Pe,Qe=[],Oe,Fr,Kt,ai;for(O=L(O),Oe=O.length,Y=v,se=0,Le=g,Re=0;Re<Oe;++Re)Pe=O[Re],Pe<128&&Qe.push(k(Pe));for(Ce=fe=Qe.length,fe&&Qe.push(b);Ce<Oe;){for(Ue=a,Re=0;Re<Oe;++Re)Pe=O[Re],Pe>=Y&&Pe<Ue&&(Ue=Pe);for(Fr=Ce+1,Ue-Y>P((a-se)/Fr)&&A("overflow"),se+=(Ue-Y)*Fr,Y=Ue,Re=0;Re<Oe;++Re)if(Pe=O[Re],Pe<Y&&++se>a&&A("overflow"),Pe==Y){for(et=se,yt=u;tt=yt<=Le?h:yt>=Le+f?f:yt-Le,!(et<tt);yt+=u)ai=et-tt,Kt=u-tt,Qe.push(k(z(tt+ai%Kt,0))),et=P(ai/Kt);Qe.push(k(z(et,0))),Le=ie(se,Fr,Ce==fe),se=0,++Ce}++se,++Y}return Qe.join("")}function B(O){return D(O,function(Y){return C.test(Y)?ae(Y.slice(4).toLowerCase()):Y})}function X(O){return D(O,function(Y){return E.test(Y)?"xn--"+ee(Y):Y})}if(o={version:"1.4.1",ucs2:{decode:L,encode:N},decode:ae,encode:ee,toASCII:X,toUnicode:B},n&&i)if(t.exports==n)i.exports=o;else for(M in o)o.hasOwnProperty(M)&&(n[M]=o[M]);else r.punycode=o})(Bg)})(np,np.exports);var qF=np.exports,ZF=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},ES=typeof Symbol<"u"&&Symbol,JF=ZF,eN=function(){return typeof ES!="function"||typeof Symbol!="function"||typeof ES("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:JF()},TS={foo:{}},tN=Object,rN=function(){return{__proto__:TS}.foo===TS.foo&&!({__proto__:null}instanceof tN)},nN="Function.prototype.bind called on incompatible ",my=Array.prototype.slice,iN=Object.prototype.toString,sN="[object Function]",oN=function(e){var r=this;if(typeof r!="function"||iN.call(r)!==sN)throw new TypeError(nN+r);for(var n=my.call(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,n.concat(my.call(arguments)));return Object(f)===f?f:this}else return r.apply(e,n.concat(my.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],u=0;u<o;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},aN=oN,g_=Function.prototype.bind||aN,lN=g_,uN=lN.call(Function.call,Object.prototype.hasOwnProperty),ze,Ol=SyntaxError,zA=Function,Sl=TypeError,gy=function(t){try{return zA('"use strict"; return ('+t+").constructor;")()}catch{}},Jo=Object.getOwnPropertyDescriptor;if(Jo)try{Jo({},"")}catch{Jo=null}var yy=function(){throw new Sl},cN=Jo?function(){try{return arguments.callee,yy}catch{try{return Jo(arguments,"callee").get}catch{return yy}}}():yy,Oa=eN(),hN=rN(),rr=Object.getPrototypeOf||(hN?function(t){return t.__proto__}:null),ja={},fN=typeof Uint8Array>"u"||!rr?ze:rr(Uint8Array),ea={"%AggregateError%":typeof AggregateError>"u"?ze:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ze:ArrayBuffer,"%ArrayIteratorPrototype%":Oa&&rr?rr([][Symbol.iterator]()):ze,"%AsyncFromSyncIteratorPrototype%":ze,"%AsyncFunction%":ja,"%AsyncGenerator%":ja,"%AsyncGeneratorFunction%":ja,"%AsyncIteratorPrototype%":ja,"%Atomics%":typeof Atomics>"u"?ze:Atomics,"%BigInt%":typeof BigInt>"u"?ze:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ze:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ze:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ze:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ze:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ze:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ze:FinalizationRegistry,"%Function%":zA,"%GeneratorFunction%":ja,"%Int8Array%":typeof Int8Array>"u"?ze:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ze:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ze:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Oa&&rr?rr(rr([][Symbol.iterator]())):ze,"%JSON%":typeof JSON=="object"?JSON:ze,"%Map%":typeof Map>"u"?ze:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Oa||!rr?ze:rr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ze:Promise,"%Proxy%":typeof Proxy>"u"?ze:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ze:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ze:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Oa||!rr?ze:rr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ze:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Oa&&rr?rr(""[Symbol.iterator]()):ze,"%Symbol%":Oa?Symbol:ze,"%SyntaxError%":Ol,"%ThrowTypeError%":cN,"%TypedArray%":fN,"%TypeError%":Sl,"%Uint8Array%":typeof Uint8Array>"u"?ze:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ze:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ze:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ze:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ze:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ze:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ze:WeakSet};if(rr)try{null.error}catch(t){var dN=rr(rr(t));ea["%Error.prototype%"]=dN}var pN=function t(e){var r;if(e==="%AsyncFunction%")r=gy("async function () {}");else if(e==="%GeneratorFunction%")r=gy("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=gy("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&rr&&(r=rr(i.prototype))}return ea[e]=r,r},CS={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},oh=g_,ip=uN,mN=oh.call(Function.call,Array.prototype.concat),gN=oh.call(Function.apply,Array.prototype.splice),PS=oh.call(Function.call,String.prototype.replace),sp=oh.call(Function.call,String.prototype.slice),yN=oh.call(Function.call,RegExp.prototype.exec),vN=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xN=/\\(\\)?/g,_N=function(e){var r=sp(e,0,1),n=sp(e,-1);if(r==="%"&&n!=="%")throw new Ol("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ol("invalid intrinsic syntax, expected opening `%`");var i=[];return PS(e,vN,function(s,o,a,u){i[i.length]=a?PS(u,xN,"$1"):o||s}),i},wN=function(e,r){var n=e,i;if(ip(CS,n)&&(i=CS[n],n="%"+i[0]+"%"),ip(ea,n)){var s=ea[n];if(s===ja&&(s=pN(n)),typeof s>"u"&&!r)throw new Sl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ol("intrinsic "+e+" does not exist!")},y_=function(e,r){if(typeof e!="string"||e.length===0)throw new Sl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Sl('"allowMissing" argument must be a boolean');if(yN(/^%?[^%]*%?$/,e)===null)throw new Ol("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=_N(e),i=n.length>0?n[0]:"",s=wN("%"+i+"%",r),o=s.name,a=s.value,u=!1,h=s.alias;h&&(i=h[0],gN(n,mN([0,1],h)));for(var f=1,d=!0;f<n.length;f+=1){var p=n[f],g=sp(p,0,1),v=sp(p,-1);if((g==='"'||g==="'"||g==="`"||v==='"'||v==="'"||v==="`")&&g!==v)throw new Ol("property names with quotes must have matching quotes");if((p==="constructor"||!d)&&(u=!0),i+="."+p,o="%"+i+"%",ip(ea,o))a=ea[o];else if(a!=null){if(!(p in a)){if(!r)throw new Sl("base intrinsic for "+e+" exists, but the property is not available.");return}if(Jo&&f+1>=n.length){var b=Jo(a,p);d=!!b,d&&"get"in b&&!("originalValue"in b.get)?a=b.get:a=a[p]}else d=ip(a,p),a=a[p];d&&!u&&(ea[o]=a)}}return a},VA={exports:{}};(function(t){var e=g_,r=y_,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var p=s(e,i,arguments);if(o&&a){var g=o(p,"length");g.configurable&&a(p,"length",{value:1+u(0,d.length-(arguments.length-1))})}return p};var h=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:h}):t.exports.apply=h})(VA);var bN=VA.exports,jA=y_,GA=bN,SN=GA(jA("String.prototype.indexOf")),EN=function(e,r){var n=jA(e,!!r);return typeof n=="function"&&SN(e,".prototype.")>-1?GA(n):n};const TN={},CN=Object.freeze(Object.defineProperty({__proto__:null,default:TN},Symbol.toStringTag,{value:"Module"})),PN=aC(CN);var v_=typeof Map=="function"&&Map.prototype,vy=Object.getOwnPropertyDescriptor&&v_?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,op=v_&&vy&&typeof vy.get=="function"?vy.get:null,AS=v_&&Map.prototype.forEach,x_=typeof Set=="function"&&Set.prototype,xy=Object.getOwnPropertyDescriptor&&x_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ap=x_&&xy&&typeof xy.get=="function"?xy.get:null,RS=x_&&Set.prototype.forEach,AN=typeof WeakMap=="function"&&WeakMap.prototype,hc=AN?WeakMap.prototype.has:null,RN=typeof WeakSet=="function"&&WeakSet.prototype,fc=RN?WeakSet.prototype.has:null,IN=typeof WeakRef=="function"&&WeakRef.prototype,IS=IN?WeakRef.prototype.deref:null,MN=Boolean.prototype.valueOf,kN=Object.prototype.toString,DN=Function.prototype.toString,LN=String.prototype.match,__=String.prototype.slice,$s=String.prototype.replace,FN=String.prototype.toUpperCase,MS=String.prototype.toLowerCase,HA=RegExp.prototype.test,kS=Array.prototype.concat,Ai=Array.prototype.join,NN=Array.prototype.slice,DS=Math.floor,y0=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_y=Object.getOwnPropertySymbols,v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Cr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Bl||"symbol")?Symbol.toStringTag:null,$A=Object.prototype.propertyIsEnumerable,LS=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function FS(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||HA.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-DS(-t):DS(t);if(n!==t){var i=String(n),s=__.call(e,i.length+1);return $s.call(i,r,"$&_")+"."+$s.call($s.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $s.call(e,r,"$&_")}var x0=PN,NS=x0.custom,OS=XA(NS)?NS:null,ON=function t(e,r,n,i){var s=r||{};if(Bs(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Bs(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Bs(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Bs(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Bs(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return KA(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?FS(e,u):u}if(typeof e=="bigint"){var h=String(e)+"n";return a?FS(e,h):h}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return _0(e)?"[Array]":"[Object]";var d=tO(s,n);if(typeof i>"u")i=[];else if(YA(i,e)>=0)return"[Circular]";function p(G,z,ie){if(z&&(i=NN.call(i),i.push(z)),ie){var ae={depth:s.depth};return Bs(s,"quoteStyle")&&(ae.quoteStyle=s.quoteStyle),t(G,ae,n+1,i)}return t(G,s,n+1,i)}if(typeof e=="function"&&!BS(e)){var g=WN(e),v=Df(e,p);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(v.length>0?" { "+Ai.call(v,", ")+" }":"")}if(XA(e)){var b=Bl?$s.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):v0.call(e);return typeof e=="object"&&!Bl?Fu(b):b}if(ZN(e)){for(var C="<"+MS.call(String(e.nodeName)),E=e.attributes||[],S=0;S<E.length;S++)C+=" "+E[S].name+"="+WA(BN(E[S].value),"double",s);return C+=">",e.childNodes&&e.childNodes.length&&(C+="..."),C+="</"+MS.call(String(e.nodeName))+">",C}if(_0(e)){if(e.length===0)return"[]";var x=Df(e,p);return d&&!eO(x)?"["+w0(x,d)+"]":"[ "+Ai.call(x,", ")+" ]"}if(zN(e)){var _=Df(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!$A.call(e,"cause")?"{ ["+String(e)+"] "+Ai.call(kS.call("[cause]: "+p(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ai.call(_,", ")+" }"}if(typeof e=="object"&&o){if(OS&&typeof e[OS]=="function"&&x0)return x0(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(XN(e)){var P=[];return AS&&AS.call(e,function(G,z){P.push(p(z,e,!0)+" => "+p(G,e))}),US("Map",op.call(e),P,d)}if(QN(e)){var k=[];return RS&&RS.call(e,function(G){k.push(p(G,e))}),US("Set",ap.call(e),k,d)}if(YN(e))return wy("WeakMap");if(qN(e))return wy("WeakSet");if(KN(e))return wy("WeakRef");if(jN(e))return Fu(p(Number(e)));if(HN(e))return Fu(p(y0.call(e)));if(GN(e))return Fu(MN.call(e));if(VN(e))return Fu(p(String(e)));if(!UN(e)&&!BS(e)){var M=Df(e,p),A=LS?LS(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",D=!A&&Cr&&Object(e)===e&&Cr in e?__.call(go(e),8,-1):I?"Object":"",L=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",N=L+(D||I?"["+Ai.call(kS.call([],D||[],I||[]),": ")+"] ":"");return M.length===0?N+"{}":d?N+"{"+w0(M,d)+"}":N+"{ "+Ai.call(M,", ")+" }"}return String(e)};function WA(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function BN(t){return $s.call(String(t),/"/g,"&quot;")}function _0(t){return go(t)==="[object Array]"&&(!Cr||!(typeof t=="object"&&Cr in t))}function UN(t){return go(t)==="[object Date]"&&(!Cr||!(typeof t=="object"&&Cr in t))}function BS(t){return go(t)==="[object RegExp]"&&(!Cr||!(typeof t=="object"&&Cr in t))}function zN(t){return go(t)==="[object Error]"&&(!Cr||!(typeof t=="object"&&Cr in t))}function VN(t){return go(t)==="[object String]"&&(!Cr||!(typeof t=="object"&&Cr in t))}function jN(t){return go(t)==="[object Number]"&&(!Cr||!(typeof t=="object"&&Cr in t))}function GN(t){return go(t)==="[object Boolean]"&&(!Cr||!(typeof t=="object"&&Cr in t))}function XA(t){if(Bl)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!v0)return!1;try{return v0.call(t),!0}catch{}return!1}function HN(t){if(!t||typeof t!="object"||!y0)return!1;try{return y0.call(t),!0}catch{}return!1}var $N=Object.prototype.hasOwnProperty||function(t){return t in this};function Bs(t,e){return $N.call(t,e)}function go(t){return kN.call(t)}function WN(t){if(t.name)return t.name;var e=LN.call(DN.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function YA(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function XN(t){if(!op||!t||typeof t!="object")return!1;try{op.call(t);try{ap.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function YN(t){if(!hc||!t||typeof t!="object")return!1;try{hc.call(t,hc);try{fc.call(t,fc)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function KN(t){if(!IS||!t||typeof t!="object")return!1;try{return IS.call(t),!0}catch{}return!1}function QN(t){if(!ap||!t||typeof t!="object")return!1;try{ap.call(t);try{op.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function qN(t){if(!fc||!t||typeof t!="object")return!1;try{fc.call(t,fc);try{hc.call(t,hc)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function ZN(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function KA(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return KA(__.call(t,0,e.maxStringLength),e)+n}var i=$s.call($s.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,JN);return WA(i,"single",e)}function JN(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+FN.call(e.toString(16))}function Fu(t){return"Object("+t+")"}function wy(t){return t+" { ? }"}function US(t,e,r,n){var i=n?w0(r,n):Ai.call(r,", ");return t+" ("+e+") {"+i+"}"}function eO(t){for(var e=0;e<t.length;e++)if(YA(t[e],`
`)>=0)return!1;return!0}function tO(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Ai.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Ai.call(Array(e+1),r)}}function w0(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Ai.call(t,","+r)+`
`+e.prev}function Df(t,e){var r=_0(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Bs(t,i)?e(t[i],t):""}var s=typeof _y=="function"?_y(t):[],o;if(Bl){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)Bs(t,u)&&(r&&String(Number(u))===u&&u<t.length||Bl&&o["$"+u]instanceof Symbol||(HA.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof _y=="function")for(var h=0;h<s.length;h++)$A.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var w_=y_,Ql=EN,rO=ON,nO=w_("%TypeError%"),Lf=w_("%WeakMap%",!0),Ff=w_("%Map%",!0),iO=Ql("WeakMap.prototype.get",!0),sO=Ql("WeakMap.prototype.set",!0),oO=Ql("WeakMap.prototype.has",!0),aO=Ql("Map.prototype.get",!0),lO=Ql("Map.prototype.set",!0),uO=Ql("Map.prototype.has",!0),b_=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},cO=function(t,e){var r=b_(t,e);return r&&r.value},hO=function(t,e,r){var n=b_(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},fO=function(t,e){return!!b_(t,e)},dO=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new nO("Side channel does not contain "+rO(s))},get:function(s){if(Lf&&s&&(typeof s=="object"||typeof s=="function")){if(e)return iO(e,s)}else if(Ff){if(r)return aO(r,s)}else if(n)return cO(n,s)},has:function(s){if(Lf&&s&&(typeof s=="object"||typeof s=="function")){if(e)return oO(e,s)}else if(Ff){if(r)return uO(r,s)}else if(n)return fO(n,s);return!1},set:function(s,o){Lf&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Lf),sO(e,s,o)):Ff?(r||(r=new Ff),lO(r,s,o)):(n||(n={key:{},next:null}),hO(n,s,o))}};return i},pO=String.prototype.replace,mO=/%20/g,by={RFC1738:"RFC1738",RFC3986:"RFC3986"},S_={default:by.RFC3986,formatters:{RFC1738:function(t){return pO.call(t,mO,"+")},RFC3986:function(t){return String(t)}},RFC1738:by.RFC1738,RFC3986:by.RFC3986},gO=S_,Sy=Object.prototype.hasOwnProperty,Ho=Array.isArray,bi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),yO=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ho(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},QA=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},vO=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ho(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Sy.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ho(e)&&!Ho(r)&&(i=QA(e,n)),Ho(e)&&Ho(r)?(r.forEach(function(s,o){if(Sy.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Sy.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},xO=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},_O=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},wO=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var h=o.charCodeAt(u);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===gO.RFC1738&&(h===40||h===41)){a+=o.charAt(u);continue}if(h<128){a=a+bi[h];continue}if(h<2048){a=a+(bi[192|h>>6]+bi[128|h&63]);continue}if(h<55296||h>=57344){a=a+(bi[224|h>>12]+bi[128|h>>6&63]+bi[128|h&63]);continue}u+=1,h=65536+((h&1023)<<10|o.charCodeAt(u)&1023),a+=bi[240|h>>18]+bi[128|h>>12&63]+bi[128|h>>6&63]+bi[128|h&63]}return a},bO=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var h=a[u],f=o[h];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:h}),n.push(f))}return yO(r),e},SO=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},EO=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},TO=function(e,r){return[].concat(e,r)},CO=function(e,r){if(Ho(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},qA={arrayToObject:QA,assign:xO,combine:TO,compact:bO,decode:_O,encode:wO,isBuffer:EO,isRegExp:SO,maybeMap:CO,merge:vO},ZA=dO,Sd=qA,dc=S_,PO=Object.prototype.hasOwnProperty,zS={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Qi=Array.isArray,AO=Array.prototype.push,JA=function(t,e){AO.apply(t,Qi(e)?e:[e])},RO=Date.prototype.toISOString,VS=dc.default,wr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Sd.encode,encodeValuesOnly:!1,format:VS,formatter:dc.formatters[VS],indices:!1,serializeDate:function(e){return RO.call(e)},skipNulls:!1,strictNullHandling:!1},IO=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ey={},MO=function t(e,r,n,i,s,o,a,u,h,f,d,p,g,v,b,C){for(var E=e,S=C,x=0,_=!1;(S=S.get(Ey))!==void 0&&!_;){var P=S.get(e);if(x+=1,typeof P<"u"){if(P===x)throw new RangeError("Cyclic object value");_=!0}typeof S.get(Ey)>"u"&&(x=0)}if(typeof u=="function"?E=u(r,E):E instanceof Date?E=d(E):n==="comma"&&Qi(E)&&(E=Sd.maybeMap(E,function(ae){return ae instanceof Date?d(ae):ae})),E===null){if(s)return a&&!v?a(r,wr.encoder,b,"key",p):r;E=""}if(IO(E)||Sd.isBuffer(E)){if(a){var k=v?r:a(r,wr.encoder,b,"key",p);return[g(k)+"="+g(a(E,wr.encoder,b,"value",p))]}return[g(r)+"="+g(String(E))]}var M=[];if(typeof E>"u")return M;var A;if(n==="comma"&&Qi(E))v&&a&&(E=Sd.maybeMap(E,a)),A=[{value:E.length>0?E.join(",")||null:void 0}];else if(Qi(u))A=u;else{var I=Object.keys(E);A=h?I.sort(h):I}for(var D=i&&Qi(E)&&E.length===1?r+"[]":r,L=0;L<A.length;++L){var N=A[L],G=typeof N=="object"&&typeof N.value<"u"?N.value:E[N];if(!(o&&G===null)){var z=Qi(E)?typeof n=="function"?n(D,N):D:D+(f?"."+N:"["+N+"]");C.set(e,x);var ie=ZA();ie.set(Ey,C),JA(M,t(G,z,n,i,s,o,n==="comma"&&v&&Qi(E)?null:a,u,h,f,d,p,g,v,b,ie))}}return M},kO=function(e){if(!e)return wr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||wr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=dc.default;if(typeof e.format<"u"){if(!PO.call(dc.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=dc.formatters[n],s=wr.filter;return(typeof e.filter=="function"||Qi(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:wr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?wr.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:wr.charsetSentinel,delimiter:typeof e.delimiter>"u"?wr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:wr.encode,encoder:typeof e.encoder=="function"?e.encoder:wr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:wr.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:wr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:wr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:wr.strictNullHandling}},DO=function(t,e){var r=t,n=kO(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Qi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in zS?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=zS[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=u==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var f=ZA(),d=0;d<i.length;++d){var p=i[d];n.skipNulls&&r[p]===null||JA(o,MO(r[p],p,u,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var g=o.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""},Ul=qA,b0=Object.prototype.hasOwnProperty,LO=Array.isArray,tr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ul.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},FO=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},eR=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},NO="utf8=%26%2310003%3B",OO="utf8=%E2%9C%93",BO=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,h=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===OO?h="utf-8":o[u]===NO&&(h="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var f=o[u],d=f.indexOf("]="),p=d===-1?f.indexOf("="):d+1,g,v;p===-1?(g=r.decoder(f,tr.decoder,h,"key"),v=r.strictNullHandling?null:""):(g=r.decoder(f.slice(0,p),tr.decoder,h,"key"),v=Ul.maybeMap(eR(f.slice(p+1),r),function(b){return r.decoder(b,tr.decoder,h,"value")})),v&&r.interpretNumericEntities&&h==="iso-8859-1"&&(v=FO(v)),f.indexOf("[]=")>-1&&(v=LO(v)?[v]:v),b0.call(n,g)?n[g]=Ul.combine(n[g],v):n[g]=v}return n},UO=function(t,e,r,n){for(var i=n?e:eR(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,h=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(h)&&a!==u&&String(h)===u&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},zO=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),h=u?s.slice(0,u.index):s,f=[];if(h){if(!n.plainObjects&&b0.call(Object.prototype,h)&&!n.allowPrototypes)return;f.push(h)}for(var d=0;n.depth>0&&(u=a.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&b0.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+s.slice(u.index)+"]"),UO(f,r,n,i)}},VO=function(e){if(!e)return tr;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?tr.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?tr.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:tr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:tr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:tr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:tr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:tr.comma,decoder:typeof e.decoder=="function"?e.decoder:tr.decoder,delimiter:typeof e.delimiter=="string"||Ul.isRegExp(e.delimiter)?e.delimiter:tr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:tr.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:tr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:tr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:tr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:tr.strictNullHandling}},jO=function(t,e){var r=VO(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?BO(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=zO(a,n[a],r,typeof t=="string");i=Ul.merge(i,u,r)}return r.allowSparse===!0?i:Ul.compact(i)},GO=DO,HO=jO,$O=S_,WO={formats:$O,parse:HO,stringify:GO},XO=qF;function ri(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var YO=/^([a-z0-9.+-]+:)/i,KO=/:[0-9]*$/,QO=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,qO=["<",">",'"',"`"," ","\r",`
`,"	"],ZO=["{","}","|","\\","^","`"].concat(qO),S0=["'"].concat(ZO),jS=["%","/","?",";","#"].concat(S0),GS=["/","?","#"],JO=255,HS=/^[+a-z0-9A-Z_-]{0,63}$/,eB=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,tB={javascript:!0,"javascript:":!0},E0={javascript:!0,"javascript:":!0},El={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T0=WO;function em(t,e,r){if(t&&typeof t=="object"&&t instanceof ri)return t;var n=new ri;return n.parse(t,e,r),n}ri.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var u=QO.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=T0.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=YO.exec(a);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,a=a.substr(h.length)}if(r||h||a.match(/^\/\/[^@/]+@[^@/]+/)){var d=a.substr(0,2)==="//";d&&!(h&&E0[h])&&(a=a.substr(2),this.slashes=!0)}if(!E0[h]&&(d||h&&!El[h])){for(var p=-1,g=0;g<GS.length;g++){var v=a.indexOf(GS[g]);v!==-1&&(p===-1||v<p)&&(p=v)}var b,C;p===-1?C=a.lastIndexOf("@"):C=a.lastIndexOf("@",p),C!==-1&&(b=a.slice(0,C),a=a.slice(C+1),this.auth=decodeURIComponent(b)),p=-1;for(var g=0;g<jS.length;g++){var v=a.indexOf(jS[g]);v!==-1&&(p===-1||v<p)&&(p=v)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var S=this.hostname.split(/\./),g=0,x=S.length;g<x;g++){var _=S[g];if(_&&!_.match(HS)){for(var P="",k=0,M=_.length;k<M;k++)_.charCodeAt(k)>127?P+="x":P+=_[k];if(!P.match(HS)){var A=S.slice(0,g),I=S.slice(g+1),D=_.match(eB);D&&(A.push(D[1]),I.unshift(D[2])),I.length&&(a="/"+I.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>JO?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=XO.toASCII(this.hostname));var L=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+L,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!tB[f])for(var g=0,x=S0.length;g<x;g++){var G=S0[g];if(a.indexOf(G)!==-1){var z=encodeURIComponent(G);z===G&&(z=escape(G)),a=a.split(G).join(z)}}var ie=a.indexOf("#");ie!==-1&&(this.hash=a.substr(ie),a=a.slice(0,ie));var ae=a.indexOf("?");if(ae!==-1?(this.search=a.substr(ae),this.query=a.substr(ae+1),e&&(this.query=T0.parse(this.query)),a=a.slice(0,ae)):e&&(this.search="",this.query={}),a&&(this.pathname=a),El[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",ee=this.search||"";this.path=L+ee}return this.href=this.format(),this};function rB(t){return typeof t=="string"&&(t=em(t)),t instanceof ri?t.format():ri.prototype.format.call(t)}ri.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=T0.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||El[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function nB(t,e){return em(t,!1,!0).resolve(e)}ri.prototype.resolve=function(t){return this.resolveObject(em(t,!1,!0)).format()};ri.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new ri;e.parse(t,!1,!0),t=e}for(var r=new ri,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(r[u]=t[u])}return El[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!El[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!E0[t.protocol]){for(var x=(t.pathname||"").split("/");x.length&&!(t.host=x.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),r.pathname=x.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",g=r.search||"";r.path=p+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",C=b||v||r.host&&t.pathname,E=C,S=r.pathname&&r.pathname.split("/")||[],x=t.pathname&&t.pathname.split("/")||[],_=r.protocol&&!El[r.protocol];if(_&&(r.hostname="",r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host=null),C=C&&(x[0]===""||S[0]==="")),b)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=x;else if(x.length)S||(S=[]),S.pop(),S=S.concat(x),r.search=t.search,r.query=t.query;else if(t.search!=null){if(_){r.host=S.shift(),r.hostname=r.host;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var k=S.slice(-1)[0],M=(r.host||t.host||S.length>1)&&(k==="."||k==="..")||k==="",A=0,I=S.length;I>=0;I--)k=S[I],k==="."?S.splice(I,1):k===".."?(S.splice(I,1),A++):A&&(S.splice(I,1),A--);if(!C&&!E)for(;A--;A)S.unshift("..");C&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),M&&S.join("/").substr(-1)!=="/"&&S.push("");var D=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(_){r.hostname=D?"":S.length?S.shift():"",r.host=r.hostname;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return C=C||r.host&&S.length,C&&!D&&S.unshift(""),S.length>0?r.pathname=S.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};ri.prototype.parseHost=function(){var t=this.host,e=KO.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var iB=em,sB=nB,oB=rB;const aB={parse:iB,format:oB,resolve:sB};function Un(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Nu(t){return t.split("?")[0].split("#")[0]}function lB(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function uB(t,e,r){return t.replace(new RegExp(lB(e),"g"),r)}function cB(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Er={toPosix(t){return uB(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Un(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=Nu(this.toPosix(e??ce.ADAPTER.getBaseUrl())),i=Nu(this.toPosix(r??this.rootname(n)));return Un(t),t=this.toPosix(t),t.startsWith("/")?Er.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),Un(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=cB(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Un(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Un(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Un(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Un(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Un(t),e&&Un(e),t=Nu(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const u=t.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Un(t),t=Nu(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Un(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Nu(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,h=t.length-1,f=0;for(;h>=i;--h){if(r=t.charCodeAt(h),r===47){if(!u){o=h+1;break}continue}a===-1&&(u=!1,a=h+1),r===46?s===-1?s=h:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||a===-1||f===0||f===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},$S={};function Ve(t,e,r=3){if($S[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),$S[e]=!0}let Ty;function hB(){return typeof Ty>"u"&&(Ty=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ce.ADAPTER.getWebGLRenderingContext())return!1;const n=ce.ADAPTER.createCanvas();let i=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Ty}var fB={grad:.9,turn:360,rad:360/(2*Math.PI)},$i=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},ir=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Pn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},tR=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},WS=function(t){return{r:Pn(t.r,0,255),g:Pn(t.g,0,255),b:Pn(t.b,0,255),a:Pn(t.a)}},Cy=function(t){return{r:ir(t.r),g:ir(t.g),b:ir(t.b),a:ir(t.a,3)}},dB=/^#([0-9a-f]{3,8})$/i,Nf=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},rR=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},nR=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),u=n*(1-(1-e+s)*r),h=s%6;return{r:255*[n,a,o,o,u,n][h],g:255*[u,n,n,a,o,o][h],b:255*[o,o,u,n,n,a][h],a:i}},XS=function(t){return{h:tR(t.h),s:Pn(t.s,0,100),l:Pn(t.l,0,100),a:Pn(t.a)}},YS=function(t){return{h:ir(t.h),s:ir(t.s),l:ir(t.l),a:ir(t.a,3)}},KS=function(t){return nR((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},pc=function(t){return{h:(e=rR(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},pB=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mB=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gB=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yB=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,C0={string:[[function(t){var e=dB.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?ir(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?ir(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=gB.exec(t)||yB.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:WS({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=pB.exec(t)||mB.exec(t);if(!e)return null;var r,n,i=XS({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(fB[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return KS(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return $i(e)&&$i(r)&&$i(n)?WS({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!$i(e)||!$i(r)||!$i(n))return null;var o=XS({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return KS(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!$i(e)||!$i(r)||!$i(n))return null;var o=function(a){return{h:tR(a.h),s:Pn(a.s,0,100),v:Pn(a.v,0,100),a:Pn(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return nR(o)},"hsv"]]},QS=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},vB=function(t){return typeof t=="string"?QS(t.trim(),C0.string):typeof t=="object"&&t!==null?QS(t,C0.object):[null,void 0]},Py=function(t,e){var r=pc(t);return{h:r.h,s:Pn(r.s+100*e,0,100),l:r.l,a:r.a}},Ay=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},qS=function(t,e){var r=pc(t);return{h:r.h,s:r.s,l:Pn(r.l+100*e,0,100),a:r.a}},P0=function(){function t(e){this.parsed=vB(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return ir(Ay(this.rgba),2)},t.prototype.isDark=function(){return Ay(this.rgba)<.5},t.prototype.isLight=function(){return Ay(this.rgba)>=.5},t.prototype.toHex=function(){return e=Cy(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Nf(ir(255*s)):"","#"+Nf(r)+Nf(n)+Nf(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Cy(this.rgba)},t.prototype.toRgbString=function(){return e=Cy(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return YS(pc(this.rgba))},t.prototype.toHslString=function(){return e=YS(pc(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=rR(this.rgba),{h:ir(e.h),s:ir(e.s),v:ir(e.v),a:ir(e.a,3)};var e},t.prototype.invert=function(){return Si({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Si(Py(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Si(Py(this.rgba,-e))},t.prototype.grayscale=function(){return Si(Py(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Si(qS(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Si(qS(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Si({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):ir(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=pc(this.rgba);return typeof e=="number"?Si({h:e,s:r.s,l:r.l,a:r.a}):ir(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Si(e).toHex()},t}(),Si=function(t){return t instanceof P0?t:new P0(t)},ZS=[],xB=function(t){t.forEach(function(e){ZS.indexOf(e)<0&&(e(P0,C0),ZS.push(e))})};function _B(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,u,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var f=this.toRgb(),d=1/0,p="black";if(!s.length)for(var g in r)s[g]=new t(r[g]).toRgb();for(var v in r){var b=(a=f,u=s[v],Math.pow(a.r-u.r,2)+Math.pow(a.g-u.g,2)+Math.pow(a.b-u.b,2));b<d&&(d=b,p=v)}return p}},e.string.push([function(o){var a=o.toLowerCase(),u=a==="transparent"?"#0000":r[a];return u?new t(u).toRgb():null},"name"])}xB([_B]);const Tl=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Tl)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((i,s)=>i===e[s]);if(t!==null&&e!==null){const i=Object.keys(t),s=Object.keys(e);return i.length!==s.length?!1:i.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=Tl.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=Tl.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=Si(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let rt=Tl;rt.shared=new Tl;rt.temp=new Tl;rt.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function wB(t){return Ve("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),rt.shared.setValue(t).toHex()}function bB(t){return Ve("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),rt.shared.setValue(t).toNumber()}function SB(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Te.NORMAL_NPM]=Te.NORMAL,t[Te.ADD_NPM]=Te.ADD,t[Te.SCREEN_NPM]=Te.SCREEN,e[Te.NORMAL]=Te.NORMAL_NPM,e[Te.ADD]=Te.ADD_NPM,e[Te.SCREEN]=Te.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const iR=SB();function sR(t,e){return iR[e?1:0][t]}function EB(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function oR(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function lp(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function JS(t){return!(t&t-1)&&!!t}function eE(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Cl(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Ws(t){return t===0?0:t<0?-1:1}let TB=0;function ca(){return++TB}const aR=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let A0=aR;A0.EMPTY=new aR(0,0,0,0);const tE={},Ei=Object.create(null),Ls=Object.create(null);class CB{constructor(e,r,n){this._canvas=ce.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||ce.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function rE(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function nE(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function PB(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,a=0,u=e-1,h=r-1;for(;a<r&&rE(s,e,a);)++a;if(a===r)return A0.EMPTY;for(;rE(s,e,h);)--h;for(;nE(s,e,o,a,h);)++o;for(;nE(s,e,u,a,h);)--u;return++u,++h,new A0(o,a,u,h)}function AB(t){const e=PB(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Of;function RB(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Of||(Of=document.createElement("a")),Of.href=t;const r=aB.parse(Of.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function oo(t,e=1){var n;const r=(n=ce.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var he=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(he||{});const R0=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},iE=(t,e)=>R0(t).priority??e,we={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(R0).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(R0).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>iE(s,r)-iE(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class I0{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const IB=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function MB(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function kB(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=IB.replace(/%forloop%/gi,MB(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Ry=0,Iy=1,My=2,ky=3,Dy=4,Ly=5;class xs{constructor(){this.data=0,this.blendMode=Te.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Ry)}set blend(e){!!(this.data&1<<Ry)!==e&&(this.data^=1<<Ry)}get offsets(){return!!(this.data&1<<Iy)}set offsets(e){!!(this.data&1<<Iy)!==e&&(this.data^=1<<Iy)}get culling(){return!!(this.data&1<<My)}set culling(e){!!(this.data&1<<My)!==e&&(this.data^=1<<My)}get depthTest(){return!!(this.data&1<<ky)}set depthTest(e){!!(this.data&1<<ky)!==e&&(this.data^=1<<ky)}get depthMask(){return!!(this.data&1<<Ly)}set depthMask(e){!!(this.data&1<<Ly)!==e&&(this.data^=1<<Ly)}get clockwiseFrontFace(){return!!(this.data&1<<Dy)}set clockwiseFrontFace(e){!!(this.data&1<<Dy)!==e&&(this.data^=1<<Dy)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Te.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new xs;return e.depthTest=!1,e.blend=!0,e}}const M0=[];function lR(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=M0.length-1;n>=0;--n){const i=M0[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class ni{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:f}=this;this._aliasCount++;for(let d=0,p=f.length;d<p;d++)f[d][h](e,r,n,i,s,o,a,u);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(ni.prototype,{dispatch:{value:ni.prototype.emit},run:{value:ni.prototype.emit}});class Gc{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new ni("setRealSize"),this.onUpdate=new ni("update"),this.onError=new ni("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class ah extends Gc{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===oi.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const DB={scaleMode:Ji.NEAREST,format:oe.RGBA,alphaMode:oi.NPM},Ga=class extends sh{constructor(t=null,e=null){super(),e=Object.assign({},Ga.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:u,format:h,type:f,target:d,resolution:p,resourceOptions:g}=e;t&&!(t instanceof Gc)&&(t=lR(t,g),t.internal=!0),this.resolution=p||ce.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=u,this._scaleMode=s,this.format=h,this.type=f,this.target=d,this.alphaMode=r,this.uid=ca(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=JS(this.realWidth)&&JS(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ls[this.cacheId],delete Ei[this.cacheId],this.cacheId=null),this.dispose(),Ga.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=ce.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${ca()}`}i=t._pixiId}let s=Ls[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Ga(t,e),s.cacheId=i,Ga.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new ah(t,{width:e,height:r}),s=t instanceof Float32Array?Ee.FLOAT:Ee.UNSIGNED_BYTE;return new Ga(i,Object.assign({},DB,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Ls[e]&&Ls[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Ls[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Ls[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Ls[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Ls[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let De=Ga;De.defaultOptions={mipmap:Fi.POW2,anisotropicLevel:0,scaleMode:Ji.LINEAR,wrapMode:ss.CLAMP,alphaMode:oi.UNPACK,target:bl.TEXTURE_2D,format:oe.RGBA,type:Ee.UNSIGNED_BYTE};De._globalBatch=0;class k0{constructor(){this.texArray=null,this.blend=0,this.type=qn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let LB=0;class Ft{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=LB++,this.disposeRunner=new ni("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?ki.ELEMENT_ARRAY_BUFFER:ki.ARRAY_BUFFER}get index(){return this.type===ki.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Ft(e)}}class up{constructor(e,r=0,n=!1,i=Ee.FLOAT,s,o,a,u=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=u}destroy(){this.buffer=null}static from(e,r,n,i,s){return new up(e,r,n,i,s)}}const FB={Float32Array,Uint32Array,Int32Array,Uint8Array};function NB(t,e){let r=0,n=0;const i={};for(let u=0;u<t.length;u++)n+=e[u],r+=t[u].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let u=0;u<t.length;u++){const h=e[u],f=t[u],d=oR(f);i[d]||(i[d]=new FB[d](s)),o=i[d];for(let p=0;p<f.length;p++){const g=(p/h|0)*n+a,v=p%h;o[g+v]=f[p]}a+=h}return new Float32Array(s)}const sE={5126:4,5123:2,5121:1};let OB=0;const BB={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ao{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=OB++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ni("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,u=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Ft||(r instanceof Array&&(r=new Float32Array(r)),r=new Ft(r));const h=e.split("|");if(h.length>1){for(let d=0;d<h.length;d++)this.addAttribute(h[d],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new up(f,n,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Ft||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ft(e)),e.type=ki.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Ft;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*sE[s.type]/4),s.buffer=0}for(n.data=NB(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ao;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Ft(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new up(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ki.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ao,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new BB[oR(o.buffers[a].data)](i[a]),r.buffers[a]=new Ft(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=ki.ELEMENT_ARRAY_BUFFER;let a=0,u=0,h=0,f=0;for(let d=0;d<o.buffers.length;d++)if(o.buffers[d]!==o.indexBuffer){f=d;break}for(const d in o.attributes){const p=o.attributes[d];(p.buffer|0)===f&&(u+=p.size*sE[p.type]/4)}for(let d=0;d<e.length;d++){const p=e[d].indexBuffer.data;for(let g=0;g<p.length;g++)r.indexBuffer.data[g+h]+=a;a+=e[d].buffers[f].data.length/u,h+=p.length}}return r}}class uR extends ao{constructor(e=!1){super(),this._buffer=new Ft(null,e,!1),this._indexBuffer=new Ft(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ee.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ee.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ee.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ee.FLOAT).addIndex(this._indexBuffer)}}const cp=Math.PI*2,UB=180/Math.PI,zB=Math.PI/180;var cr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(cr||{});class de{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new de(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Bf=[new de,new de,new de,new de];class Fe{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=cr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Fe(0,0,0,0)}clone(){return new Fe(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const D=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>D}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Bf[0].set(e.left,e.top),u=Bf[1].set(e.left,e.bottom),h=Bf[2].set(e.right,e.top),f=Bf[3].set(e.right,e.bottom);if(h.x<=a.x||u.y<=a.y)return!1;const d=Math.sign(r.a*r.d-r.b*r.c);if(d===0||(r.apply(a,a),r.apply(u,u),r.apply(h,h),r.apply(f,f),Math.max(a.x,u.x,h.x,f.x)<=n||Math.min(a.x,u.x,h.x,f.x)>=i||Math.max(a.y,u.y,h.y,f.y)<=s||Math.min(a.y,u.y,h.y,f.y)>=o))return!1;const p=d*(u.y-a.y),g=d*(a.x-u.x),v=p*n+g*s,b=p*i+g*s,C=p*n+g*o,E=p*i+g*o;if(Math.max(v,b,C,E)<=p*a.x+g*a.y||Math.min(v,b,C,E)>=p*f.x+g*f.y)return!1;const S=d*(a.y-h.y),x=d*(h.x-a.x),_=S*n+x*s,P=S*i+x*s,k=S*n+x*o,M=S*i+x*o;return!(Math.max(_,P,k,M)<=S*a.x+x*a.y||Math.min(_,P,k,M)>=S*f.x+x*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class E_{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=cr.CIRC}clone(){return new E_(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Fe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class T_{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=cr.ELIP}clone(){return new T_(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Fe(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Pl{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=cr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Pl(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],h=this.points[o*2],f=this.points[o*2+1];u>r!=f>r&&e<(h-a)*((r-u)/(f-u))+a&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class C_{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=cr.RREC}clone(){return new C_(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class mt{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new de;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new de;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,u,h){return this.a=Math.cos(a+h)*s,this.b=Math.sin(a+h)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),h=Math.abs(a+u);return h<1e-5||Math.abs(cp-h)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new mt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new mt}static get TEMP_MATRIX(){return new mt}}const Bo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Uo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],zo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Vo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],D0=[],cR=[],Uf=Math.sign;function VB(){for(let t=0;t<16;t++){const e=[];D0.push(e);for(let r=0;r<16;r++){const n=Uf(Bo[t]*Bo[r]+zo[t]*Uo[r]),i=Uf(Uo[t]*Bo[r]+Vo[t]*Uo[r]),s=Uf(Bo[t]*zo[r]+zo[t]*Vo[r]),o=Uf(Uo[t]*zo[r]+Vo[t]*Vo[r]);for(let a=0;a<16;a++)if(Bo[a]===n&&Uo[a]===i&&zo[a]===s&&Vo[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new mt;e.set(Bo[t],Uo[t],zo[t],Vo[t],0,0),cR.push(e)}}VB();const _t={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Bo[t],uY:t=>Uo[t],vX:t=>zo[t],vY:t=>Vo[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>D0[t][e],sub:(t,e)=>D0[t][_t.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?_t.S:_t.N:Math.abs(e)*2<=Math.abs(t)?t>0?_t.E:_t.W:e>0?t>0?_t.SE:_t.SW:t>0?_t.NE:_t.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=cR[_t.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class ts{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new ts(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const hR=class{constructor(){this.worldTransform=new mt,this.localTransform=new mt,this.position=new ts(this.onChange,this,0,0),this.scale=new ts(this.onChange,this,1,1),this.pivot=new ts(this.onChange,this,0,0),this.skew=new ts(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let tm=hR;tm.IDENTITY=new hR;var jB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,GB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function oE(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Fy(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function fR(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Fy(2*e);case"bvec3":return Fy(3*e);case"bvec4":return Fy(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Al=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],HB={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},$B={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function WB(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let u=0;u<Al.length;u++)if(Al[u].test(s,o)){r.push(Al[u].code(i,o)),a=!0;break}if(!a){const h=(s.size===1&&!s.isArray?HB:$B)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const dR={};let Ba=dR;function XB(){if(Ba===dR||Ba!=null&&Ba.isContextLost()){const t=ce.ADAPTER.createCanvas();let e;ce.PREFER_ENV>=pa.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Ba=e}return Ba}let zf;function YB(){if(!zf){zf=Cn.MEDIUM;const t=XB();t&&t.getShaderPrecisionFormat&&(zf=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Cn.HIGH:Cn.MEDIUM)}return zf}function aE(t,e){const r=t.getShaderSource(e).split(`
`).map((h,f)=>`${f}: ${h}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),a=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function KB(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||aE(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||aE(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const QB={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function pR(t){return QB[t]}let Vf=null;const lE={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mR(t,e){if(!Vf){const r=Object.keys(lE);Vf={};for(let n=0;n<r.length;++n){const i=r[n];Vf[t[i]]=lE[i]}}return Vf[e]}function uE(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Cn.HIGH&&r!==Cn.HIGH&&(n=Cn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Cn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Ou;function qB(){if(typeof Ou=="boolean")return Ou;try{Ou=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ou=!1}return Ou}let ZB=0;const jf={},Ha=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=ZB++,this.vertexSrc=t||Ha.defaultVertexSrc,this.fragmentSrc=e||Ha.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),jf[r]?(jf[r]++,r+=`-${jf[r]}`):jf[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=uE(this.vertexSrc,Ha.defaultVertexPrecision,Cn.HIGH),this.fragmentSrc=uE(this.fragmentSrc,Ha.defaultFragmentPrecision,YB())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return GB}static get defaultFragmentSrc(){return jB}static from(t,e,r){const n=t+e;let i=tE[n];return i||(tE[n]=i=new Ha(t,e,r)),i}};let Zn=Ha;Zn.defaultVertexPrecision=Cn.HIGH;Zn.defaultFragmentPrecision=es.apple.device?Cn.HIGH:Cn.MEDIUM;let JB=0;class ii{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=JB++,this.static=!!r,this.ubo=!!n,e instanceof Ft?(this.buffer=e,this.buffer.type=ki.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Ft(new Float32Array(1)),this.buffer.type=ki.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new ii(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new ii(e,r,n)}static uboFrom(e,r){return new ii(e,r??!0,!0)}}class Di{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof ii?this.uniformGroup=r:this.uniformGroup=new ii(r):this.uniformGroup=new ii({}),this.disposeRunner=new ni("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Zn.from(e,r);return new Di(i,n)}}class e3{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=ii.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Zn(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new mt,default:this.defaultGroupCache[e]};return new Di(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class L0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function t3(){return!es.apple.device}function r3(t){let e=!0;const r=ce.ADAPTER.getNavigator();if(es.tablet||es.phone){if(es.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(es.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class rm{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var n3=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,i3=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Vn=class extends rm{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=uR,this.vertexSize=6,this.state=xs.for2d(),this.size=Vn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??r3(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??t3(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Ve("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return i3}static get defaultFragmentTemplate(){return n3}setShaderGenerator({vertex:t=Vn.defaultVertexSrc,fragment:e=Vn.defaultFragmentTemplate}={}){this.shaderGenerator=new e3(t,e)}contextChange(){const t=this.renderer.gl;ce.PREFER_ENV===pa.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Vn.defaultMaxTextures),this.maxTextures=kB(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Vn,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new k0);for(;e.length<n;)e.push(new L0);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=Vn._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++De._globalBatch,a=0,u=r[0],h=0;n.copyBoundTextures(i,e);for(let f=0;f<this._bufferSize;++f){const d=t[f];t[f]=null,d._batchEnabled!==o&&(u.count>=e&&(n.boundArray(u,i,o,e),this.buildDrawCalls(u,h,f),h=f,u=r[++a],++o),d._batchEnabled=o,d.touched=s,u.elements[u.count++]=d)}u.count>0&&(n.boundArray(u,i,o,e),this.buildDrawCalls(u,h,this._bufferSize),++a,++o);for(let f=0;f<i.length;f++)i[f]=null;De._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Vn._drawCallPool;let u=this._dcIndex,h=this._aIndex,f=this._iIndex,d=a[u];d.start=this._iIndex,d.texArray=t;for(let p=e;p<r;++p){const g=n[p],v=g._texture.baseTexture,b=iR[v.alphaMode?1:0][g.blendMode];n[p]=null,e<p&&d.blend!==b&&(d.size=f-d.start,e=p,d=a[++u],d.texArray=t,d.start=f),this.packInterleavedGeometry(g,i,s,h,f),h+=g.vertexData.length/2*o,f+=g.indices.length,d.blend=b}e<r&&(d.size=f-d.start,++u),this._dcIndex=u,this._aIndex=h,this._iIndex=f}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;Vn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=Vn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:u,start:h,blend:f}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=f,r.set(this.state),e.drawElements(a,u,e.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Vn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=lp(Math.ceil(t/8)),r=eE(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new I0(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=lp(Math.ceil(t/12)),r=eE(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,u=t.uvs,h=t.indices,f=t.vertexData,d=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),g=rt.shared.setValue(t._tintRGB).toPremultiplied(p,t._texture.baseTexture.alphaMode>0);for(let v=0;v<f.length;v+=2)o[n++]=f[v],o[n++]=f[v+1],o[n++]=u[v],o[n++]=u[v+1],s[n++]=g,o[n++]=d;for(let v=0;v<h.length;v++)r[i++]=a+h[v]}};let Kn=Vn;Kn.defaultBatchSize=4096;Kn.extension={name:"batch",type:he.RendererPlugin};Kn._drawCallPool=[];Kn._textureArrayPool=[];we.add(Kn);var s3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,o3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Yu=class extends Di{constructor(t,e,r){const n=Zn.from(t||Yu.defaultVertexSrc,e||Yu.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=Yu.defaultResolution,this.multisample=Yu.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new xs}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return o3}static get defaultFragmentSrc(){return s3}};let fr=Yu;fr.defaultResolution=1;fr.defaultMultisample=Vt.NONE;class nm{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new rt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}nm.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};nm.extension={type:[he.RendererSystem,he.CanvasRendererSystem],name:"background"};we.add(nm);class gR{constructor(e){this.renderer=e,this.emptyRenderer=new rm(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let u=0;for(let h=0;h<a;h++){const f=s[h],d=f._batchLocation;if(d>=0&&d<i&&r[d]===f){o[h]=d;continue}for(;u<i;){const p=r[u];if(p&&p._batchEnabled===n&&p._batchLocation===u){u++;continue}o[h]=u,f._batchLocation=u,r[u]=f;break}}}destroy(){this.renderer=null}}gR.extension={type:he.RendererSystem,name:"batch"};we.add(gR);let cE=0;class im{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=cE++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=cE++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ce.PREFER_ENV>=pa.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}im.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};im.extension={type:he.RendererSystem,name:"context"};we.add(im);class a3 extends ah{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===oi.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class F0{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ni("disposeFramebuffer"),this.multisample=Vt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new De(null,{scaleMode:Ji.NEAREST,resolution:1,mipmap:Fi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new De(new a3(null,{width:this.width,height:this.height}),{scaleMode:Ji.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Fi.OFF,format:oe.DEPTH_COMPONENT,type:Ee.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class yR extends De{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Vt.NONE),super(null,e),this.mipmap=Fi.OFF,this.valid=!0,this._clear=new rt([0,0,0,0]),this.framebuffer=new F0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class lo extends Gc{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=RB(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===oi.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class vR extends lo{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;lo.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ce.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===oi.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class xR{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,h=e.y/s+a;n=_t.add(n,_t.NW),this.x0=u+o*_t.uX(n),this.y0=h+a*_t.uY(n),n=_t.add(n,2),this.x1=u+o*_t.uX(n),this.y1=h+a*_t.uY(n),n=_t.add(n,2),this.x2=u+o*_t.uX(n),this.y2=h+a*_t.uY(n),n=_t.add(n,2),this.x3=u+o*_t.uX(n),this.y3=h+a*_t.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const hE=new xR;function Gf(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ue extends sh{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Fe(0,0,1,1)),e instanceof ue&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=hE,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new de(o.x,o.y):new de(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Ei[r.url]&&ue.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ue.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ue(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===hE&&(this._uvs=new xR),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof De){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${ca()}`,De.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${ca()}`}s=e._pixiId}let o=Ei[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof De)?(r.resolution||(r.resolution=oo(e)),o=new ue(new De(e,r)),o.baseTexture.cacheId=s,De.addToCache(o.baseTexture,s),ue.addToCache(o,s)):!o&&e instanceof De&&(o=new ue(e),ue.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ue.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ue(De.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new De(e,Object.assign({scaleMode:De.defaultOptions.scaleMode,resolution:oo(r)},i)),{resource:o}=s;o instanceof vR&&(o.url=r);const a=new ue(s);return n||(n=r),De.addToCache(a.baseTexture,n),ue.addToCache(a,n),n!==r&&(De.addToCache(a.baseTexture,r),ue.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Ei[r]&&Ei[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Ei[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Ei[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Ei[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Ei[e.textureCacheIds[r]]===e&&delete Ei[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${u} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ue._EMPTY||(ue._EMPTY=new ue(new De),Gf(ue._EMPTY),Gf(ue._EMPTY.baseTexture)),ue._EMPTY}static get WHITE(){if(!ue._WHITE){const e=ce.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ue._WHITE=new ue(De.from(e)),Gf(ue._WHITE),Gf(ue._WHITE.baseTexture)}return ue._WHITE}}class ma extends ue{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ma(new yR(e))}}class _R{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Vt.NONE){const i=new yR(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ma(i)}getOptimalTexture(e,r,n=1,i=Vt.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=lp(e),r=lp(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Vt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}_R.SCREEN_KEY=-1;class l3 extends ao{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class wR extends ao{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ft(this.vertices),this.uvBuffer=new Ft(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class u3{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Vt.NONE,this.sourceFrame=new Fe,this.destinationFrame=new Fe,this.bindingSourceFrame=new Fe,this.bindingDestinationFrame=new Fe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Hf=[new de,new de,new de,new de],Ny=new mt;class bR{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new _R,this.statePool=[],this.quad=new l3,this.quadUv=new wR,this.tempRect=new Fe,this.activeState={},this.globalUniforms=new ii({outputFrame:new Fe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new u3,o=this.renderer.renderTexture;let a=r[0].resolution,u=r[0].multisample,h=r[0].padding,f=r[0].autoFit,d=r[0].legacy??!0;for(let v=1;v<r.length;v++){const b=r[v];a=Math.min(a,b.resolution),u=Math.min(u,b.multisample),h=this.useMaxPadding?Math.max(h,b.padding):h+b.padding,f=f&&b.autoFit,d=d||(b.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=u,s.legacy=d,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const p=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Ny.copyFrom(n.projection.transform).invert(),p),f?(s.sourceFrame.fit(p),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(p)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,g),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,Pi.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,f=this.getOptimalFilterTexture(h.width,h.height,r.resolution);f.filterFrame=h.filterFrame;let d=0;for(d=0;d<n.length-1;++d){d===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(h.width,h.height,r.resolution),f.filterFrame=h.filterFrame),n[d].apply(this,h,f,Pi.CLEAR,r);const p=h;h=f,f=p}n[d].apply(this,h,u.renderTexture,Pi.BLEND,r),d>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Pi.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Pi.CLEAR||r===Pi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(qn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(qn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(mt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Vt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Vt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Hf[0],i=Hf[1],s=Hf[2],o=Hf[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=h-a,r.height=f-u}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:u,d:h}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?Ny.copyFrom(s):Ny.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}bR.extension={type:he.RendererSystem,name:"filter"};we.add(bR);class c3{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Vt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const h3=new Fe;class SR{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new F0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Fe,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ce.PREFER_ENV===pa.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,u=o/r.width;this.setViewport(r.x*u,r.y*u,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=f0.COLOR|f0.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new c3(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const h=s[u],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0),u===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,h.target,f._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Vt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Vt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!e){if(!u.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;u.blitFramebuffer||(u.blitFramebuffer=new F0(i.width,i.height),u.blitFramebuffer.addColorTexture(0,f)),e=u.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=h3,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Fe}destroy(){this.renderer=null}}SR.extension={type:he.RendererSystem,name:"framebuffer"};we.add(SR);const Oy={5126:4,5123:2,5121:1};class ER{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ce.PREFER_ENV===pa.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,u)=>n.drawElementsInstancedANGLE(i,s,o,a,u),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const u=this.getSignature(e,a),h=e.glVertexArrayObjects[this.CONTEXT_UID];let f=h[u];if(f)return h[a.id]=f,f;const d=e.buffers,p=e.attributes,g={},v={};for(const b in d)g[b]=0,v[b]=0;for(const b in p)!p[b].size&&a.attributeData[b]?p[b].size=a.attributeData[b].size:p[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),g[p[b].buffer]+=p[b].size*Oy[p[b].type];for(const b in p){const C=p[b],E=C.size;C.stride===void 0&&(g[C.buffer]===E*Oy[C.type]?C.stride=0:C.stride=g[C.buffer]),C.start===void 0&&(C.start=v[C.buffer],v[C.buffer]+=E*Oy[C.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let b=0;b<d.length;b++){const C=d[b];o.bind(C),n&&C._glBuffers[s].refCount++}return this.activateVao(e,a),h[a.id]=f,h[u]=f,i.bindVertexArray(null),o.unbind(ki.ARRAY_BUFFER),f}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let u=0;u<s.length;u++){const h=s[u]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[u],r))}if(!r){for(const u in n)if(u[0]==="g"){const h=n[u];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let u=null;for(const h in a){const f=a[h],d=o[f.buffer],p=d._glBuffers[i];if(r.attributeData[h]){u!==p&&(s.bind(d),u=p);const g=r.attributeData[h].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(g,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}ER.extension={type:he.RendererSystem,name:"geometry"};we.add(ER);const fE=new mt;class P_{constructor(e,r){this._texture=e,this.mapCoord=new mt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(fE.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(fE));const o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return a[0]=(r._frame.x+u+h)/o.width,a[1]=(r._frame.y+u+h)/o.height,a[2]=(r._frame.x+r._frame.width-u+h)/o.width,a[3]=(r._frame.y+r._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var f3=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,d3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class p3 extends fr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||d3,r||f3,n),this.maskSprite=i,this.maskMatrix=new mt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new P_(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class m3{constructor(e=null){this.type=$t.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=fr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=$t.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class TR{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new m3;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==$t.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case $t.SCISSOR:this.renderer.scissor.push(n);break;case $t.STENCIL:this.renderer.stencil.push(n);break;case $t.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case $t.COLOR:this.pushColorMask(n);break}n.type===$t.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case $t.SCISSOR:this.renderer.scissor.pop(r);break;case $t.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case $t.SPRITE:this.popSpriteMask(r);break;case $t.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===$t.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=$t.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=$t.SCISSOR:e.type=$t.STENCIL:e.type=$t.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new p3]));const s=this.renderer,o=s.renderTexture;let a,u;if(o.current){const f=o.current;a=e.resolution||f.resolution,u=e.multisample??f.multisample}else a=e.resolution||s.resolution,u=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=u,i[0].maskSprite=r;const h=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=h,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}TR.extension={type:he.RendererSystem,name:"mask"};we.add(TR);class CR{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const dE=new mt,pE=[],Ed=class extends CR{constructor(t){super(t),this.glConst=ce.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,pE.pop()??new Fe);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Ed.isMatrixRotated(e.worldTransform)||Ed.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){Ed.isMatrixRotated(i)||(i=i?dE.copyFrom(i):dE.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&pE.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let PR=Ed;PR.extension={type:he.RendererSystem,name:"scissor"};we.add(PR);class AR extends CR{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}AR.extension={type:he.RendererSystem,name:"stencil"};we.add(AR);class RR{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ve("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ve("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ve("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}RR.extension={type:[he.RendererSystem,he.CanvasRendererSystem],name:"_plugin"};we.add(RR);class IR{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new mt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}IR.extension={type:he.RendererSystem,name:"projection"};we.add(IR);const g3=new tm;class MR{constructor(e){this.renderer=e,this._tempMatrix=new mt}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=ma.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=g3,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}MR.extension={type:[he.RendererSystem,he.CanvasRendererSystem],name:"textureGenerator"};we.add(MR);const ko=new Fe,Bu=new Fe;class kR{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Fe,this.destinationFrame=new Fe,this.viewportFrame=new Fe}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(ko.width=e.frame.width,ko.height=e.frame.height,r=ko),n||(Bu.x=e.frame.x,Bu.y=e.frame.y,Bu.width=r.width,Bu.height=r.height,n=Bu),o=s.framebuffer):(a=i.resolution,r||(ko.width=i._view.screen.width,ko.height=i._view.screen.height,r=ko),n||(n=ko,n.width=r.width,n.height=r.height));const u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=rt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:u,y:h,width:f,height:d}=this.viewportFrame;u=Math.round(u),h=Math.round(h),f=Math.round(f),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,h,f,d)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}kR.extension={type:he.RendererSystem,name:"renderTexture"};we.add(kR);class y3{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function v3(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=mR(e,s.type),a={type:o,name:s.name,size:pR(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function x3(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=mR(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:fR(u,s.size)}}return r}function _3(t,e){var u;const r=oE(t,t.VERTEX_SHADER,e.vertexSrc),n=oE(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(u=e.extra)==null?void 0:u.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||KB(t,i,r,n),e.attributeData=v3(i,t),e.uniformData=x3(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((f,d)=>f>d?1:-1);for(let f=0;f<h.length;f++)e.attributeData[h[f]].location=f,t.bindAttribLocation(i,f,h[f]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const h in e.uniformData){const f=e.uniformData[h];o[h]={location:t.getUniformLocation(i,h),value:fR(f.type,f.size)}}return new y3(i,o)}function w3(t,e,r,n,i){r.buffer.update(i)}const b3={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},DR={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function S3(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=DR[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function E3(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function T3(t,e){if(!t.autoManage)return{size:0,syncFunc:w3};const r=E3(t.uniforms,e),{uboElements:n,size:i}=S3(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],u=t.uniforms[a.data.name],h=a.data.name;let f=!1;for(let d=0;d<Al.length;d++){const p=Al[d];if(p.codeUbo&&p.test(a.data,u)){s.push(`offset = ${a.offset/4};`,Al[d].codeUbo(a.data.name,u)),f=!0;break}}if(!f)if(a.data.size>1){const d=pR(a.data.type),p=Math.max(DR[a.data.type]/16,1),g=d/p,v=(4-g%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const d=b3[a.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};
                ${d};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let C3=0;const $f={textureCount:0,uboCount:0};class LR{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=C3++}systemCheck(){if(!qB())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||($f.textureCount=0,$f.uboCount=0,this.syncUniformGroup(e.uniformGroup,$f)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=WB(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,$f,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=T3(e,this.shader.program.uniformData)),e.autoManage){const u=new Float32Array(a.size/4);e.buffer.update(u)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=_3(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}LR.extension={type:he.RendererSystem,name:"shader"};we.add(LR);class sm{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}sm.defaultOptions={hello:!1};sm.extension={type:[he.RendererSystem,he.CanvasRendererSystem],name:"startup"};we.add(sm);function P3(t,e=[]){return e[Te.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.ADD]=[t.ONE,t.ONE],e[Te.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.NONE]=[0,0],e[Te.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Te.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Te.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Te.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Te.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Te.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Te.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Te.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Te.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Te.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const A3=0,R3=1,I3=2,M3=3,k3=4,D3=5,N0=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Te.NONE,this._blendEq=!1,this.map=[],this.map[A3]=this.setBlend,this.map[R3]=this.setOffset,this.map[I3]=this.setCullFace,this.map[M3]=this.setDepthTest,this.map[k3]=this.setFrontFace,this.map[D3]=this.setDepthMask,this.checks=[],this.defaultState=new xs,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=P3(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(N0.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(N0.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let FR=N0;FR.extension={type:he.RendererSystem,name:"state"};we.add(FR);class L3 extends sh{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new ni(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Td=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Td.defaultMaxIdle,this.checkCountMax=Td.defaultCheckCountMax,this.mode=Td.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==p_.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let Qn=Td;Qn.defaultMode=p_.AUTO;Qn.defaultMaxIdle=60*60;Qn.defaultCheckCountMax=60*10;Qn.extension={type:he.RendererSystem,name:"textureGC"};we.add(Qn);class By{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ee.UNSIGNED_BYTE,this.internalFormat=oe.RGBA,this.samplerType=0}}function F3(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Ee.UNSIGNED_BYTE]:{[oe.RGBA]:t.RGBA8,[oe.RGB]:t.RGB8,[oe.RG]:t.RG8,[oe.RED]:t.R8,[oe.RGBA_INTEGER]:t.RGBA8UI,[oe.RGB_INTEGER]:t.RGB8UI,[oe.RG_INTEGER]:t.RG8UI,[oe.RED_INTEGER]:t.R8UI,[oe.ALPHA]:t.ALPHA,[oe.LUMINANCE]:t.LUMINANCE,[oe.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Ee.BYTE]:{[oe.RGBA]:t.RGBA8_SNORM,[oe.RGB]:t.RGB8_SNORM,[oe.RG]:t.RG8_SNORM,[oe.RED]:t.R8_SNORM,[oe.RGBA_INTEGER]:t.RGBA8I,[oe.RGB_INTEGER]:t.RGB8I,[oe.RG_INTEGER]:t.RG8I,[oe.RED_INTEGER]:t.R8I},[Ee.UNSIGNED_SHORT]:{[oe.RGBA_INTEGER]:t.RGBA16UI,[oe.RGB_INTEGER]:t.RGB16UI,[oe.RG_INTEGER]:t.RG16UI,[oe.RED_INTEGER]:t.R16UI,[oe.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Ee.SHORT]:{[oe.RGBA_INTEGER]:t.RGBA16I,[oe.RGB_INTEGER]:t.RGB16I,[oe.RG_INTEGER]:t.RG16I,[oe.RED_INTEGER]:t.R16I},[Ee.UNSIGNED_INT]:{[oe.RGBA_INTEGER]:t.RGBA32UI,[oe.RGB_INTEGER]:t.RGB32UI,[oe.RG_INTEGER]:t.RG32UI,[oe.RED_INTEGER]:t.R32UI,[oe.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Ee.INT]:{[oe.RGBA_INTEGER]:t.RGBA32I,[oe.RGB_INTEGER]:t.RGB32I,[oe.RG_INTEGER]:t.RG32I,[oe.RED_INTEGER]:t.R32I},[Ee.FLOAT]:{[oe.RGBA]:t.RGBA32F,[oe.RGB]:t.RGB32F,[oe.RG]:t.RG32F,[oe.RED]:t.R32F,[oe.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Ee.HALF_FLOAT]:{[oe.RGBA]:t.RGBA16F,[oe.RGB]:t.RGB16F,[oe.RG]:t.RG16F,[oe.RED]:t.R16F},[Ee.UNSIGNED_SHORT_5_6_5]:{[oe.RGB]:t.RGB565},[Ee.UNSIGNED_SHORT_4_4_4_4]:{[oe.RGBA]:t.RGBA4},[Ee.UNSIGNED_SHORT_5_5_5_1]:{[oe.RGBA]:t.RGB5_A1},[Ee.UNSIGNED_INT_2_10_10_10_REV]:{[oe.RGBA]:t.RGB10_A2,[oe.RGBA_INTEGER]:t.RGB10_A2UI},[Ee.UNSIGNED_INT_10F_11F_11F_REV]:{[oe.RGB]:t.R11F_G11F_B10F},[Ee.UNSIGNED_INT_5_9_9_9_REV]:{[oe.RGB]:t.RGB9_E5},[Ee.UNSIGNED_INT_24_8]:{[oe.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Ee.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[oe.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Ee.UNSIGNED_BYTE]:{[oe.RGBA]:t.RGBA,[oe.RGB]:t.RGB,[oe.ALPHA]:t.ALPHA,[oe.LUMINANCE]:t.LUMINANCE,[oe.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Ee.UNSIGNED_SHORT_5_6_5]:{[oe.RGB]:t.RGB},[Ee.UNSIGNED_SHORT_4_4_4_4]:{[oe.RGBA]:t.RGBA},[Ee.UNSIGNED_SHORT_5_5_5_1]:{[oe.RGBA]:t.RGBA}},e}class NR{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new De,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=F3(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new By(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new By(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==d0.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new By(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===Ee.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==d0.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Cl(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Fi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=ss.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Fi.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ji.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ji.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ji.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Ji.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}NR.extension={type:he.RendererSystem,name:"texture"};we.add(NR);class OR{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}OR.extension={type:he.RendererSystem,name:"transformFeedback"};we.add(OR);class om{constructor(e){this.renderer=e}init(e){this.screen=new Fe(0,0,e.width,e.height),this.element=e.view||ce.ADAPTER.createCanvas(),this.resolution=e.resolution||ce.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}om.defaultOptions={width:800,height:600,resolution:ce.RESOLUTION,autoDensity:!1};om.extension={type:[he.RendererSystem,he.CanvasRendererSystem],name:"_view"};we.add(om);ce.PREFER_ENV=pa.WEBGL2;ce.STRICT_TEXTURE_CACHE=!1;ce.RENDER_OPTIONS={...im.defaultOptions,...nm.defaultOptions,...om.defaultOptions,...sm.defaultOptions};Object.defineProperties(ce,{WRAP_MODE:{get(){return De.defaultOptions.wrapMode},set(t){Ve("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),De.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return De.defaultOptions.scaleMode},set(t){Ve("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),De.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return De.defaultOptions.mipmap},set(t){Ve("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),De.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return De.defaultOptions.anisotropicLevel},set(t){Ve("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),De.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ve("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),fr.defaultResolution},set(t){fr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ve("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),fr.defaultMultisample},set(t){fr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Kn.defaultMaxTextures},set(t){Ve("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Kn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Kn.defaultBatchSize},set(t){Ve("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Kn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Kn.canUploadSameBuffer},set(t){Ve("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Kn.canUploadSameBuffer=t}},GC_MODE:{get(){return Qn.defaultMode},set(t){Ve("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Qn.defaultMode=t}},GC_MAX_IDLE:{get(){return Qn.defaultMaxIdle},set(t){Ve("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Qn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Qn.defaultCheckCountMax},set(t){Ve("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Qn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Zn.defaultVertexPrecision},set(t){Ve("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Zn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Zn.defaultFragmentPrecision},set(t){Ve("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Zn.defaultFragmentPrecision=t}}});var uo=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(uo||{});class Uy{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const en=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Uy(null,null,1/0),this.deltaMS=1/en.targetFPMS,this.elapsedMS=1/en.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=uo.NORMAL){return this._addListener(new Uy(t,e,r))}addOnce(t,e,r=uo.NORMAL){return this._addListener(new Uy(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*en.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,en.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!en._shared){const t=en._shared=new en;t.autoStart=!0,t._protected=!0}return en._shared}static get system(){if(!en._system){const t=en._system=new en;t.autoStart=!0,t._protected=!0}return en._system}};let Ot=en;Ot.targetFPMS=.06;Object.defineProperties(ce,{TARGET_FPMS:{get(){return Ot.targetFPMS},set(t){Ve("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ot.targetFPMS=t}}});class BR{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,uo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ot.shared:new Ot,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}BR.extension=he.Application;we.add(BR);const UR=[];we.handleByList(he.Renderer,UR);function N3(t){for(const e of UR)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var O3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,B3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const U3=O3,zR=B3;class VR{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Vt.HIGH?this.multisample=Vt.HIGH:r>=Vt.MEDIUM?this.multisample=Vt.MEDIUM:r>=Vt.LOW?this.multisample=Vt.LOW:this.multisample=Vt.NONE}destroy(){}}VR.extension={type:he.RendererSystem,name:"_multisample"};we.add(VR);class z3{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class jR{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new z3(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}jR.extension={type:he.RendererSystem,name:"buffer"};we.add(jR);class GR{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}GR.extension={type:he.RendererSystem,name:"objectRenderer"};we.add(GR);const O0=class extends L3{constructor(t){super(),this.type=FA.WEBGL,t=Object.assign({},ce.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ii({projectionMatrix:new mt},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:O0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Ve("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=O0.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:hB()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ve("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ve("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ve("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ve("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Ve("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Ve("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Ve("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Ve("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let ql=O0;ql.extension={type:he.Renderer,priority:1};ql.__plugins={};ql.__systems={};we.handleByMap(he.RendererPlugin,ql.__plugins);we.handleByMap(he.RendererSystem,ql.__systems);we.add(ql);class HR extends Gc{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new De;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Gc?this.addResourceAt(e[n],n):this.addResourceAt(lR(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class V3 extends HR{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=bl.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let u=0;u<i;u++){const h=o[u];s[u]<h.dirtyId&&(s[u]=h.dirtyId,h.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class j3 extends lo{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Ku=class extends HR{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Ku.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<Ku.SIDES;o++)this.items[o].target=bl.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=bl.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=bl.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Ku.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Ku.SIDES}};let $R=Ku;$R.SIDES=6;class ul extends lo{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=ul.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ce.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===oi.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ul._EMPTY=ul._EMPTY??ce.ADAPTER.createCanvas(0,0),ul._EMPTY}}const Cd=class extends lo{constructor(t,e){e=e||{},super(ce.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Cd.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;lo.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${ca()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Cd.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Cd.SVG_XML.test(t)}};let Hc=Cd;Hc.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Hc.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const B0=class extends lo{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];lo.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const u=o.split("?").shift().toLowerCase(),h=u.slice(u.lastIndexOf(".")+1);a=a||B0.MIME_TYPES[h]||`video/${h}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Ot.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ot.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Ot.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Ot.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Ot.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ot.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||B0.TYPES.includes(e)}};let A_=B0;A_.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];A_.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};M0.push(ul,vR,j3,A_,Hc,ah,$R,V3);class hp{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Fe.EMPTY:(e=e||new Fe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:u}=e,h=n*r.x+s*r.y+a,f=i*r.x+o*r.y+u;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,u=e.c,h=e.d,f=e.tx,d=e.ty;let p=this.minX,g=this.minY,v=this.maxX,b=this.maxY,C=o*r+u*n+f,E=a*r+h*n+d;p=C<p?C:p,g=E<g?E:g,v=C>v?C:v,b=E>b?E:b,C=o*i+u*n+f,E=a*i+h*n+d,p=C<p?C:p,g=E<g?E:g,v=C>v?C:v,b=E>b?E:b,C=o*r+u*s+f,E=a*r+h*s+d,p=C<p?C:p,g=E<g?E:g,v=C>v?C:v,b=E>b?E:b,C=o*i+u*s+f,E=a*i+h*s+d,p=C<p?C:p,g=E<g?E:g,v=C>v?C:v,b=E>b?E:b,this.minX=p,this.minY=g,this.maxX=v,this.maxY=b}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let u=r;u<n;u+=2){const h=e[u],f=e[u+1];i=h<i?h:i,s=f<s?f:s,o=h>o?h:o,a=f>a?f:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,u=e.b,h=e.c,f=e.d,d=e.tx,p=e.ty;let g=this.minX,v=this.minY,b=this.maxX,C=this.maxY;for(let E=n;E<i;E+=2){const S=r[E],x=r[E+1],_=a*S+h*x+d,P=f*x+u*S+p;g=Math.min(g,_-s),b=Math.max(b,_+s),v=Math.min(v,P-o),C=Math.max(C,P+o)}this.minX=g,this.minY=v,this.maxX=b,this.maxY=C}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,u=this.minY,h=this.maxX,f=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,u=this.minY,h=this.maxX,f=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class gt extends sh{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new tm,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new hp,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(gt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Fe),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Fe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new hp);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,u=0,h=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=u,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new G3),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*UB}set angle(e){this.transform.rotation=e*zB}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class G3 extends gt{constructor(){super(...arguments),this.sortDirty=null}}gt.prototype.displayObjectUpdateTransform=gt.prototype.updateTransform;const H3=new mt;function $3(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const U0=class extends gt{constructor(){super(),this.children=[],this.sortableChildren=U0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);Cl(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,Cl(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Cl(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort($3),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==U0.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=H3.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],u=a.cullable;a.cullable=u||!this.cullArea,a.render(t),a.cullable=u}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==$t.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,u=this.children.length;a<u;++a)this.children[a].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Pr=U0;Pr.defaultSortableChildren=!1;Pr.prototype.containerUpdateTransform=Pr.prototype.updateTransform;Object.defineProperties(ce,{SORTABLE_CHILDREN:{get(){return Pr.defaultSortableChildren},set(t){Ve("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Pr.defaultSortableChildren=t}}});var am=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(am||{});const Uu=new de,W3=new Uint16Array([0,1,2,0,2,3]);class Bi extends Pr{constructor(e){super(),this._anchor=new ts(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new rt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Te.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ue.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=W3,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ce.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ws(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ws(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,h=this.vertexData,f=e.trim,d=e.orig,p=this._anchor;let g=0,v=0,b=0,C=0;if(f?(v=f.x-p._x*d.width,g=v+f.width,C=f.y-p._y*d.height,b=C+f.height):(v=-p._x*d.width,g=v+d.width,C=-p._y*d.height,b=C+d.height),h[0]=n*v+s*C+a,h[1]=o*C+i*v+u,h[2]=n*g+s*C+a,h[3]=o*C+i*g+u,h[4]=n*g+s*b+a,h[5]=o*b+i*g+u,h[6]=n*v+s*b+a,h[7]=o*b+i*v+u,this._roundPixels){const E=ce.RESOLUTION;for(let S=0;S<h.length;++S)h[S]=Math.round(h[S]*E)/E}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,u=s.c,h=s.d,f=s.tx,d=s.ty,p=-i._x*n.width,g=p+n.width,v=-i._y*n.height,b=v+n.height;r[0]=o*p+u*v+f,r[1]=h*v+a*p+d,r[2]=o*g+u*v+f,r[3]=h*v+a*g+d,r[4]=o*g+u*b+f,r[5]=h*b+a*g+d,r[6]=o*p+u*b+f,r[7]=h*b+a*p+d}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new hp),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Fe),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Uu);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Uu.x>=i&&Uu.x<i+r&&(s=-n*this.anchor.y,Uu.y>=s&&Uu.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof ue?e:ue.from(e,r);return new Bi(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Ws(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Ws(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ue.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Wf={willReadFrequently:!0},xe=class{static get experimentalLetterSpacingSupported(){let t=xe._experimentalLetterSpacingSupported;if(t!==void 0){const e=ce.ADAPTER.getCanvasRenderingContext2D().prototype;t=xe._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,a,u){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=u}static measureText(t,e,r,n=xe._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=xe.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",Wf);o.font=i;const u=(r?xe.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),h=new Array(u.length);let f=0;for(let v=0;v<u.length;v++){const b=xe._measureText(u[v],e.letterSpacing,o);h[v]=b,f=Math.max(f,b)}let d=f+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);const p=e.lineHeight||s.fontSize+e.strokeThickness;let g=Math.max(p,s.fontSize+e.strokeThickness*2)+(u.length-1)*(p+e.leading);return e.dropShadow&&(g+=e.dropShadowDistance),new xe(t,e,d,g,u,h,p+e.leading,f,s)}static _measureText(t,e,r){let n=!1;xe.experimentalLetterSpacingSupported&&(xe.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(xe.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=xe._canvas){const n=r.getContext("2d",Wf);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:u,whiteSpace:h}=e,f=xe.collapseSpaces(h),d=xe.collapseNewlines(h);let p=!f;const g=e.wordWrapWidth+u,v=xe.tokenize(t);for(let b=0;b<v.length;b++){let C=v[b];if(xe.isNewline(C)){if(!d){o+=xe.addLine(s),p=!f,s="",i=0;continue}C=" "}if(f){const S=xe.isBreakingSpace(C),x=xe.isBreakingSpace(s[s.length-1]);if(S&&x)continue}const E=xe.getFromCache(C,u,a,n);if(E>g)if(s!==""&&(o+=xe.addLine(s),s="",i=0),xe.canBreakWords(C,e.breakWords)){const S=xe.wordWrapSplit(C);for(let x=0;x<S.length;x++){let _=S[x],P=_,k=1;for(;S[x+k];){const A=S[x+k];if(!xe.canBreakChars(P,A,C,x,e.breakWords))_+=A;else break;P=A,k++}x+=k-1;const M=xe.getFromCache(_,u,a,n);M+i>g&&(o+=xe.addLine(s),p=!1,s="",i=0),s+=_,i+=M}}else{s.length>0&&(o+=xe.addLine(s),s="",i=0);const S=b===v.length-1;o+=xe.addLine(C,!S),p=!1,s="",i=0}else E+i>g&&(p=!1,o+=xe.addLine(s),s="",i=0),(s.length>0||!xe.isBreakingSpace(C)||p)&&(s+=C,i+=E)}return o+=xe.addLine(s,!1),o}static addLine(t,e=!0){return t=xe.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=xe._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!xe.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:xe._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:xe._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(xe.isBreakingSpace(i,s)||xe.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return xe.graphemeSegmenter(t)}static measureFont(t){if(xe._fonts[t])return xe._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=xe._canvas,n=xe._context;n.font=t;const i=xe.METRICS_STRING+xe.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(xe.BASELINE_SYMBOL).width);const a=Math.ceil(xe.HEIGHT_MULTIPLIER*o);if(o=o*xe.BASELINE_MULTIPLIER|0,s===0||a===0)return xe._fonts[t]=e,e;r.width=s,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const u=n.getImageData(0,0,s,a).data,h=u.length,f=s*4;let d=0,p=0,g=!1;for(d=0;d<o;++d){for(let v=0;v<f;v+=4)if(u[p+v]!==255){g=!0;break}if(!g)p+=f;else break}for(e.ascent=o-d,p=h-f,g=!1,d=a;d>o;--d){for(let v=0;v<f;v+=4)if(u[p+v]!==255){g=!0;break}if(!g)p-=f;else break}return e.descent=d-o,e.fontSize=e.ascent+e.descent,xe._fonts[t]=e,e}static clearMetrics(t=""){t?delete xe._fonts[t]:xe._fonts={}}static get _canvas(){if(!xe.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",Wf);if(r!=null&&r.measureText)return xe.__canvas=e,e;t=ce.ADAPTER.createCanvas()}catch{t=ce.ADAPTER.createCanvas()}t.width=t.height=10,xe.__canvas=t}return xe.__canvas}static get _context(){return xe.__context||(xe.__context=xe._canvas.getContext("2d",Wf)),xe.__context}};let ur=xe;ur.METRICS_STRING="|q";ur.BASELINE_SYMBOL="M";ur.BASELINE_MULTIPLIER=1.4;ur.HEIGHT_MULTIPLIER=2;ur.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();ur.experimentalLetterSpacing=!1;ur._fonts={};ur._newlines=[10,13];ur._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const X3=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Qu=class{constructor(t){this.styleID=0,this.reset(),Vy(this,t,t)}clone(){const t={};return Vy(t,this,Qu.defaultStyle),new Qu(t)}reset(){Vy(this,Qu.defaultStyle,Qu.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=zy(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=zy(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){Y3(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=zy(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!X3.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let ds=Qu;ds.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:am.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function zy(t){const e=rt.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function Y3(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Vy(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const K3={texture:!0,children:!1,baseTexture:!0},z0=class extends Bi{constructor(t,e,r){let n=!1;r||(r=ce.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=ue.from(r);i.orig=new Fe,i.trim=new Fe,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=z0.defaultResolution??ce.RESOLUTION,this._autoResolution=z0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return ur.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Ve("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ur.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=ur.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,a=n.lineHeight,u=n.lineWidths,h=n.maxLineWidth,f=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let d,p;const g=e.dropShadow?2:1;for(let v=0;v<g;++v){const b=e.dropShadow&&v===0,C=b?Math.ceil(Math.max(1,s)+e.padding*2):0,E=C*this._resolution;if(b){r.fillStyle="black",r.strokeStyle="black";const x=e.dropShadowColor,_=e.dropShadowBlur*this._resolution,P=e.dropShadowDistance*this._resolution;r.shadowColor=rt.shared.setValue(x).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=_,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*P,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*P+E}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let S=(a-f.fontSize)/2;a-f.fontSize<0&&(S=0);for(let x=0;x<o.length;x++)d=e.strokeThickness/2,p=e.strokeThickness/2+x*a+f.ascent+S,e.align==="right"?d+=h-u[x]:e.align==="center"&&(d+=(h-u[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[x],d+e.padding,p+e.padding-C,!0),e.fill&&this.drawLetterSpacing(o[x],d+e.padding,p+e.padding-C)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let o=!1;if(ur.experimentalLetterSpacingSupported&&(ur.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let a=e;const u=ur.graphemeSegmenter(t);let h=this.context.measureText(t).width,f=0;for(let d=0;d<u.length;++d){const p=u[d];n?this.context.strokeText(p,a,r):this.context.fillText(p,a,r);let g="";for(let v=d+1;v<u.length;++v)g+=u[v];f=this.context.measureText(g).width,a+=h-f+s,h=f}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=AB(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,u=this.canvas.height/this._resolution-s-o*2,h=n.slice(),f=t.fillGradientStops.slice();if(!f.length){const d=h.length+1;for(let p=1;p<d;++p)f.push(p/d)}if(h.unshift(n[0]),f.unshift(0),h.push(n[n.length-1]),f.push(1),t.fillGradientType===am.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,u+o);const d=r.fontProperties.fontSize+t.strokeThickness;for(let p=0;p<e.length;p++){const g=r.lineHeight*(p-1)+d,v=r.lineHeight*p;let b=v;p>0&&g>v&&(b=(v+g)/2);const C=v+d,E=r.lineHeight*(p+1);let S=C;p+1<e.length&&E<C&&(S=(C+E)/2);const x=(S-b)/u;for(let _=0;_<h.length;_++){let P=0;typeof f[_]=="number"?P=f[_]:P=_/h.length;let k=Math.min(1,Math.max(0,b/u+P*x));k=Number(k.toFixed(5)),i.addColorStop(k,h[_])}}}else{i=this.context.createLinearGradient(o,u/2,a+o,u/2);const d=h.length+1;let p=1;for(let g=0;g<h.length;g++){let v;typeof f[g]=="number"?v=f[g]:v=p/d,i.addColorStop(v,h[g]),p++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},K3,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Ws(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Ws(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof ds?this._style=t:this._style=new ds(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let lm=z0;lm.defaultAutoResolution=!0;class fp{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Pd{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(const h in a){const f=a[h].split("="),d=f[0],p=f[1].replace(/"/gm,""),g=parseFloat(p),v=isNaN(g)?p:g;u[d]=v}n[o].push(u)}const i=new fp;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class V0{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new fp,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const f=o[h];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let h=0;h<a.length;h++)r.kerning.push({first:parseInt(a[h].getAttribute("first"),10),second:parseInt(a[h].getAttribute("second"),10),amount:parseInt(a[h].getAttribute("amount"),10)});for(let h=0;h<u.length;h++)r.distanceField.push({fieldType:u[h].getAttribute("fieldType"),distanceRange:parseInt(u[h].getAttribute("distanceRange"),10)});return r}}class j0{static test(e){return typeof e=="string"&&e.includes("<font>")?V0.test(ce.ADAPTER.parseXML(e)):!1}static parse(e){return V0.parse(ce.ADAPTER.parseXML(e))}}const jy=[Pd,V0,j0];function Q3(t){for(let e=0;e<jy.length;e++)if(jy[e].test(t))return jy[e];return null}function q3(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const u=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,f=t.width/n-u-h*2,d=t.height/n-u-h*2,p=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const v=p.length+1;for(let b=1;b<v;++b)g.push(b/v)}if(p.unshift(o[0]),g.unshift(0),p.push(o[o.length-1]),g.push(1),r.fillGradientType===am.LINEAR_VERTICAL){a=e.createLinearGradient(f/2,h,f/2,d+h);let v=0;const C=(s.fontProperties.fontSize+r.strokeThickness)/d;for(let E=0;E<i.length;E++){const S=s.lineHeight*E;for(let x=0;x<p.length;x++){let _=0;typeof g[x]=="number"?_=g[x]:_=x/p.length;const P=S/d+_*C;let k=Math.max(v,P);k=Math.min(k,1),a.addColorStop(k,p[x]),v=k}}}else{a=e.createLinearGradient(h,d/2,f+h,d/2);const v=p.length+1;let b=1;for(let C=0;C<p.length;C++){let E;typeof g[C]=="number"?E=g[C]:E=b/v,a.addColorStop(E,p[C]),b++}}return a}function Z3(t,e,r,n,i,s,o){const a=r.text,u=r.fontProperties;e.translate(n,i),e.scale(s,s);const h=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=q3(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const d=o.dropShadowColor,p=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=rt.shared.setValue(d).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,h,f+r.lineHeight-u.descent),o.fill&&e.fillText(a,h,f+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Ad(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function WR(t){return Array.from?Array.from(t):t.split("")}function J3(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push(...WR(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Gn=class{constructor(t,e,r){var h;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=oo(s.file),u={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=u;for(let f=0;f<t.page.length;f++){const{id:d,file:p}=t.page[f];u[d]=e instanceof Array?e[f]:e[p],o!=null&&o.fieldType&&o.fieldType!=="none"&&(u[d].baseTexture.alphaMode=oi.NO_PREMULTIPLIED_ALPHA,u[d].baseTexture.mipmap=Fi.OFF)}for(let f=0;f<t.char.length;f++){const{id:d,page:p}=t.char[f];let{x:g,y:v,width:b,height:C,xoffset:E,yoffset:S,xadvance:x}=t.char[f];g/=a,v/=a,b/=a,C/=a,E/=a,S/=a,x/=a;const _=new Fe(g+u[p].frame.x/a,v+u[p].frame.y/a,b,C);this.chars[d]={xOffset:E,yOffset:S,xAdvance:x,kerning:{},texture:new ue(u[p].baseTexture,_),page:p}}for(let f=0;f<t.kerning.length;f++){let{first:d,second:p,amount:g}=t.kerning[f];d/=a,p/=a,g/=a,this.chars[p]&&(this.chars[p].kerning[d]=g)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((h=o==null?void 0:o.fieldType)==null?void 0:h.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof fp)n=t;else{const s=Q3(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof ue&&(e=[e]);const i=new Gn(n,e,r);return Gn.available[i.font]=i,i}static uninstall(t){const e=Gn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Gn.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:a,...u}=Object.assign({},Gn.defaultOptions,r),h=J3(n),f=e instanceof ds?e:new ds(e),d=o,p=new fp;p.info[0]={face:f.fontFamily,size:f.fontSize},p.common[0]={lineHeight:f.fontSize};let g=0,v=0,b,C,E,S=0;const x=[];for(let P=0;P<h.length;P++){b||(b=ce.ADAPTER.createCanvas(),b.width=o,b.height=a,C=b.getContext("2d"),E=new De(b,{resolution:s,...u}),x.push(new ue(E)),p.page.push({id:x.length-1,file:""}));const k=h[P],M=ur.measureText(k,f,!1,b),A=M.width,I=Math.ceil(M.height),D=Math.ceil((f.fontStyle==="italic"?2:1)*A);if(v>=a-I*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${k}')`);--P,b=null,C=null,E=null,v=0,g=0,S=0;continue}if(S=Math.max(I+M.fontProperties.descent,S),D*s+g>=d){if(g===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${k}')`);--P,v+=S*s,v=Math.ceil(v),g=0,S=0;continue}Z3(b,C,M,g,v,s,f);const L=Ad(M.text);p.char.push({id:L,page:x.length-1,x:g/s,y:v/s,width:D,height:I,xoffset:0,yoffset:0,xadvance:A-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),g+=(D+2*i)*s,g=Math.ceil(g)}for(let P=0,k=h.length;P<k;P++){const M=h[P];for(let A=0;A<k;A++){const I=h[A],D=C.measureText(M).width,L=C.measureText(I).width,G=C.measureText(M+I).width-(D+L);G&&p.kerning.push({first:Ad(M),second:Ad(I),amount:G})}}const _=new Gn(p,x,!0);return Gn.available[t]!==void 0&&Gn.uninstall(t),Gn.available[t]=_,_}};let Vr=Gn;Vr.ALPHA=[["a","z"],["A","Z"]," "];Vr.NUMERIC=[["0","9"]];Vr.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Vr.ASCII=[[" ","~"]];Vr.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Gn.ALPHANUMERIC};Vr.available={};class eU{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Gy=new de,mE=new Pl,XR=class extends Pr{constructor(t,e,r,n=qn.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||xs.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ce.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===qn.TRIANGLES&&e.length<XR.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,u=i.d,h=i.tx,f=i.ty,d=this.vertexData;for(let p=0;p<d.length/2;p++){const g=r[p*2],v=r[p*2+1];d[p*2]=s*g+a*v+h,d[p*2+1]=o*g+u*v+f}if(this._roundPixels){const p=ce.RESOLUTION;for(let g=0;g<d.length;++g)d[g]=Math.round(d[g]*p)/p}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new eU(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Gy);const e=this.geometry.getBuffer("aVertexPosition").data,r=mE.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=n[o]*2,u=n[o+1]*2,h=n[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[h],r[5]=e[h+1],mE.contains(Gy.x,Gy.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let zl=XR;zl.BATCHABLE_SIZE=100;class um extends ao{constructor(e,r,n){super();const i=new Ft(e),s=new Ft(r,!0),o=new Ft(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Ee.FLOAT).addAttribute("aTextureCoord",s,2,!1,Ee.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var tU=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,rU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class $c extends Di{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:mt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Zn.from(rU,tU),n),this._colorDirty=!1,this.uvMatrix=new P_(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new rt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;rt.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var nU=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,iU=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const gE=[],yE=[],vE=[],YR=class extends Pr{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},YR.styleDefaults,e);if(!Vr.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new rt(n),this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new ts(()=>{this.dirty=!0},this,0,0),this._roundPixels=ce.ROUND_PIXELS,this.dirty=!0,this._resolution=ce.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var D;const t=Vr.available[this._fontName],e=this.fontSize,r=e/t.size,n=new de,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=WR(a),h=this._maxWidth*t.size/e,f=t.distanceFieldType==="none"?gE:yE;let d=null,p=0,g=0,v=0,b=-1,C=0,E=0,S=0,x=0;for(let L=0;L<u.length;L++){const N=u[L],G=Ad(N);if(/(?:\s)/.test(N)&&(b=L,C=p,x++),N==="\r"||N===`
`){s.push(p),o.push(-1),g=Math.max(g,p),++v,++E,n.x=0,n.y+=t.lineHeight,d=null,x=0;continue}const z=t.chars[G];if(!z)continue;d&&z.kerning[d]&&(n.x+=z.kerning[d]);const ie=vE.pop()||{texture:ue.EMPTY,line:0,charCode:0,prevSpaces:0,position:new de};ie.texture=z.texture,ie.line=v,ie.charCode=G,ie.position.x=Math.round(n.x+z.xOffset+this._letterSpacing/2),ie.position.y=Math.round(n.y+z.yOffset),ie.prevSpaces=x,i.push(ie),p=ie.position.x+Math.max(z.xAdvance-z.xOffset,z.texture.orig.width),n.x+=z.xAdvance+this._letterSpacing,S=Math.max(S,z.yOffset+z.texture.height),d=G,b!==-1&&h>0&&n.x>h&&(++E,Cl(i,1+b-E,1+L-b),L=b,b=-1,s.push(C),o.push(i.length>0?i[i.length-1].prevSpaces:0),g=Math.max(g,C),v++,n.x=0,n.y+=t.lineHeight,d=null,x=0)}const _=u[u.length-1];_!=="\r"&&_!==`
`&&(/(?:\s)/.test(_)&&(p=C),s.push(p),g=Math.max(g,p),o.push(-1));const P=[];for(let L=0;L<=v;L++){let N=0;this._align==="right"?N=g-s[L]:this._align==="center"?N=(g-s[L])/2:this._align==="justify"&&(N=o[L]<0?0:(g-s[L])/o[L]),P.push(N)}const k=i.length,M={},A=[],I=this._activePagesMeshData;f.push(...I);for(let L=0;L<k;L++){const N=i[L].texture,G=N.baseTexture.uid;if(!M[G]){let z=f.pop();if(!z){const ae=new um;let ee,B;t.distanceFieldType==="none"?(ee=new $c(ue.EMPTY),B=Te.NORMAL):(ee=new $c(ue.EMPTY,{program:Zn.from(iU,nU),uniforms:{uFWidth:0}}),B=Te.NORMAL_NPM);const X=new zl(ae,ee);X.blendMode=B,z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:X,vertices:null,uvs:null,indices:null}}z.index=0,z.indexCount=0,z.vertexCount=0,z.uvsCount=0,z.total=0;const{_textureCache:ie}=this;ie[G]=ie[G]||new ue(N.baseTexture),z.mesh.texture=ie[G],z.mesh.tint=this._tintColor.value,A.push(z),M[G]=z}M[G].total++}for(let L=0;L<I.length;L++)A.includes(I[L])||this.removeChild(I[L].mesh);for(let L=0;L<A.length;L++)A[L].mesh.parent!==this&&this.addChild(A[L].mesh);this._activePagesMeshData=A;for(const L in M){const N=M[L],G=N.total;if(!(((D=N.indices)==null?void 0:D.length)>6*G)||N.vertices.length<zl.BATCHABLE_SIZE*2)N.vertices=new Float32Array(4*2*G),N.uvs=new Float32Array(4*2*G),N.indices=new Uint16Array(6*G);else{const z=N.total,ie=N.vertices;for(let ae=z*4*2;ae<ie.length;ae++)ie[ae]=0}N.mesh.size=6*G}for(let L=0;L<k;L++){const N=i[L];let G=N.position.x+P[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&(G=Math.round(G));const z=G*r,ie=N.position.y*r,ae=N.texture,ee=M[ae.baseTexture.uid],B=ae.frame,X=ae._uvs,O=ee.index++;ee.indices[O*6+0]=0+O*4,ee.indices[O*6+1]=1+O*4,ee.indices[O*6+2]=2+O*4,ee.indices[O*6+3]=0+O*4,ee.indices[O*6+4]=2+O*4,ee.indices[O*6+5]=3+O*4,ee.vertices[O*8+0]=z,ee.vertices[O*8+1]=ie,ee.vertices[O*8+2]=z+B.width*r,ee.vertices[O*8+3]=ie,ee.vertices[O*8+4]=z+B.width*r,ee.vertices[O*8+5]=ie+B.height*r,ee.vertices[O*8+6]=z,ee.vertices[O*8+7]=ie+B.height*r,ee.uvs[O*8+0]=X.x0,ee.uvs[O*8+1]=X.y0,ee.uvs[O*8+2]=X.x1,ee.uvs[O*8+3]=X.y1,ee.uvs[O*8+4]=X.x2,ee.uvs[O*8+5]=X.y2,ee.uvs[O*8+6]=X.x3,ee.uvs[O*8+7]=X.y3}this._textWidth=g*r,this._textHeight=(n.y+t.lineHeight)*r;for(const L in M){const N=M[L];if(this.anchor.x!==0||this.anchor.y!==0){let ae=0;const ee=this._textWidth*this.anchor.x,B=this._textHeight*this.anchor.y;for(let X=0;X<N.total;X++)N.vertices[ae++]-=ee,N.vertices[ae++]-=B,N.vertices[ae++]-=ee,N.vertices[ae++]-=B,N.vertices[ae++]-=ee,N.vertices[ae++]-=B,N.vertices[ae++]-=ee,N.vertices[ae++]-=B}this._maxLineHeight=S*r;const G=N.mesh.geometry.getBuffer("aVertexPosition"),z=N.mesh.geometry.getBuffer("aTextureCoord"),ie=N.mesh.geometry.getIndex();G.data=N.vertices,z.data=N.uvs,ie.data=N.indices,G.update(),z.update(),ie.update()}for(let L=0;L<i.length;L++)vE.push(i[L]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=Vr.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,u=Math.sqrt(i*i+s*s),h=Math.sqrt(o*o+a*a),f=(Math.abs(u)+Math.abs(h))/2,d=this.fontSize/n,p=t._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=f*e*d*p}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Vr.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Vr.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Vr.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=Vr.available[this._fontName].distanceFieldType==="none"?gE:yE;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ue.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let KR=YR;KR.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const xE={loader:he.LoadParser,resolver:he.ResolveParser,cache:he.CacheParser,detection:he.DetectionParser};we.handle(he.Asset,t=>{const e=t.ref;Object.entries(xE).filter(([r])=>!!e[r]).forEach(([r,n])=>we.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(xE).filter(r=>!!e[r]).forEach(r=>we.remove(e[r]))});class sU{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function lh(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function ga(t,e){const r=t.split("?")[0],n=Er.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const os=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),G0=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function QR(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?QR(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function oU(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),QR(t,i,0,r,n)}else n.push(t);return n}const dp=t=>!Array.isArray(t);class aU{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=os(e);let i;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(r)){i=u.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof ue){const a=r;n.forEach(u=>{a.baseTexture!==ue.EMPTY.baseTexture&&De.addToCache(a.baseTexture,u),ue.addToCache(a,u)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const zu=new aU;class lU{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.load&&((o=h.test)!=null&&o.call(h,e,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];h.parse&&h.parse&&await((a=h.testParse)==null?void 0:a.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=dp(e),o=os(e,h=>({src:h})),a=o.length,u=o.map(async h=>{const f=Er.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,h)),i[h.src]=await this.promiseCache[f].promise,r&&r(++n/a)}catch(d){throw delete this.promiseCache[f],delete i[h.src],new Error(`[Loader.load] Failed to load ${f}.
${d}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(e){const n=os(e,i=>({src:i})).map(async i=>{var a,u;const s=Er.toAbsolute(i.src),o=this.promiseCache[s];if(o){const h=await o.promise;(u=(a=o.parser)==null?void 0:a.unload)==null||u.call(a,h,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Ui=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Ui||{});const uU=".json",cU="application/json",hU={extension:{type:he.LoadParser,priority:Ui.Low},name:"loadJson",test(t){return lh(t,cU)||ga(t,uU)},async load(t){return await(await ce.ADAPTER.fetch(t)).json()}};we.add(hU);const fU=".txt",dU="text/plain",pU={name:"loadTxt",extension:{type:he.LoadParser,priority:Ui.Low},test(t){return lh(t,dU)||ga(t,fU)},async load(t){return await(await ce.ADAPTER.fetch(t)).text()}};we.add(pU);const mU=["normal","bold","100","200","300","400","500","600","700","800","900"],gU=[".ttf",".otf",".woff",".woff2"],yU=["font/ttf","font/otf","font/woff","font/woff2"],vU=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function xU(t){const e=Er.extname(t),i=Er.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(vU)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const _U={extension:{type:he.LoadParser,priority:Ui.Low},name:"loadWebFont",test(t){return lh(t,yU)||ga(t,gU)},async load(t,e){var n,i,s;const r=ce.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??xU(t),u=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>mU.includes(f)))??["normal"],h=e.data??{};for(let f=0;f<u.length;f++){const d=u[f],p=new FontFace(a,`url(${encodeURI(t)})`,{...h,weight:d});await p.load(),r.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ce.ADAPTER.getFontFaceSet().delete(e))}};we.add(_U);let _E=0,Hy;const wU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",bU={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${wU}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},SU={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let $y;class EU{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([bU.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Hy===void 0&&(Hy=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Hy&&($y||($y=URL.createObjectURL(new Blob([SU.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker($y),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[_E]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:_E++,id:n})}}const wE=new EU;function cm(t,e,r){const n=new ue(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const TU=[".jpeg",".jpg",".png",".webp",".avif"],CU=["image/jpeg","image/png","image/webp","image/avif"];async function PU(t){const e=await ce.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const hm={name:"loadTextures",extension:{type:he.LoadParser,priority:Ui.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return lh(t,CU)||ga(t,TU)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await wE.isImageBitmapSupported()?n=await wE.loadImageBitmap(t):n=await PU(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new De(n,{resolution:oo(t),...e.data});return i.resource.src=t,cm(i,r,t)},unload(t){t.destroy(!0)}};we.add(hm);const AU=".svg",RU="image/svg+xml",IU={extension:{type:he.LoadParser,priority:Ui.High},name:"loadSVG",test(t){return lh(t,RU)||ga(t,AU)},async testParse(t){return Hc.test(t)},async parse(t,e,r){var o;const n=new Hc(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const i=new De(n,{resolution:oo(t),...e==null?void 0:e.data});return i.resource.src=t,cm(i,r,t)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload:hm.unload};we.add(IU);class MU{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=os(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=oU(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let u=!1;for(let h=0;h<this._parsers.length;h++){const f=this._parsers[h];if(f.test(o)){a=f.parse(o),u=!0;break}}u||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=Er.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??n,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=dp(e);e=os(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const h=o[u];a[this._extractAssetIdFromBundle(i,u)]=h}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=dp(e);e=os(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(u=>{o.params[u].forEach(h=>{const f=s.filter(d=>d[u]?d[u]===h:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=Er.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class kU{constructor(){this._detections=[],this._initialized=!1,this.resolver=new MU,this.loader=new lU,this.cache=zu,this._backgroundLoader=new sU(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let u=e.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const u=(a=e.texturePreference)==null?void 0:a.format;i=typeof u=="string"?[u]:u;for(const h of this._detections)await h.test()||(i=await h.remove(i))}else for(const u of this._detections)await u.test()&&(i=await u.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=dp(e),i=os(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,u=0;const h=()=>{r==null||r(++a/u)},f=o.map(d=>{const p=i[d];return u+=Object.keys(p).length,this._mapLoadToResolve(p,h).then(g=>{s[d]=g})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return zu.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=zu.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,u)=>{const h=s[a.src],f=[a.src];a.alias&&f.push(...a.alias),o[i[u]]=h,zu.set(f,h)}),o}async unload(e){this._initialized||await this.init();const r=os(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=os(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{zu.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return hm.config.preferWorkers}set preferWorkers(e){Ve("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Xf=new kU;we.handleByList(he.LoadParser,Xf.loader.parsers).handleByList(he.ResolveParser,Xf.resolver.parsers).handleByList(he.CacheParser,Xf.cache.parsers).handleByList(he.DetectionParser,Xf.detections);const DU={extension:he.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ue),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};we.add(DU);const LU={extension:{type:he.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ce.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};we.add(LU);const FU={extension:{type:he.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ce.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};we.add(FU);const bE=["png","jpg","jpeg"],NU={extension:{type:he.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...bE],remove:async t=>t.filter(e=>!bE.includes(e))};we.add(NU);const OU={extension:he.ResolveParser,test:hm.test,parse:t=>{var e;return{resolution:parseFloat(((e=ce.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};we.add(OU);const BU=[".xml",".fnt"],UU={extension:{type:he.LoadParser,priority:Ui.Normal},name:"loadBitmapFont",test(t){return BU.includes(Er.extname(t).toLowerCase())},async testParse(t){return Pd.test(t)||j0.test(t)},async parse(t,e,r){const n=Pd.test(t)?Pd.parse(t):j0.parse(t),{src:i}=e,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const f=s[h].file;let d=Er.join(Er.dirname(i),f);d=G0(d,i),o.push(d)}const a=await r.load(o),u=o.map(h=>a[h]);return Vr.install(n,u,!0)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};we.add(UU);const pp={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===cr.CIRC){const v=t.shape;r=v.x,n=v.y,o=a=v.radius,i=s=0}else if(t.type===cr.ELIP){const v=t.shape;r=v.x,n=v.y,o=v.width,a=v.height,i=s=0}else{const v=t.shape,b=v.width/2,C=v.height/2;r=v.x+b,n=v.y+C,o=a=Math.max(0,Math.min(v.radius,Math.min(b,C))),i=b-o,s=C-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const u=Math.ceil(2.3*Math.sqrt(o+a)),h=u*8+(i?4:0)+(s?4:0);if(e.length=h,h===0)return;if(u===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,d=u*4+(i?2:0)+2,p=d,g=h;{const v=i+o,b=s,C=r+v,E=r-v,S=n+b;if(e[f++]=C,e[f++]=S,e[--d]=S,e[--d]=E,s){const x=n-b;e[p++]=E,e[p++]=x,e[--g]=x,e[--g]=C}}for(let v=1;v<u;v++){const b=Math.PI/2*(v/u),C=i+Math.cos(b)*o,E=s+Math.sin(b)*a,S=r+C,x=r-C,_=n+E,P=n-E;e[f++]=S,e[f++]=_,e[--d]=_,e[--d]=x,e[p++]=x,e[p++]=P,e[--g]=P,e[--g]=S}{const v=i,b=s+a,C=r+v,E=r-v,S=n+b,x=n-b;e[f++]=C,e[f++]=S,e[--g]=x,e[--g]=C,i&&(e[f++]=E,e[f++]=S,e[--g]=x,e[--g]=E)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,u;if(t.type!==cr.RREC){const f=t.shape;a=f.x,u=f.y}else{const f=t.shape;a=f.x+f.width/2,u=f.y+f.height/2}const h=t.matrix;n.push(t.matrix?h.a*a+h.c*u+h.tx:a,t.matrix?h.b*a+h.d*u+h.ty:u),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function SE(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],u=t[i+1];n+=(a-s)*(u+o),s=a,o=u}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,u=s,h=s+1;[t[o],t[u]]=[t[u],t[o]],[t[a],t[h]]=[t[h],t[a]]}}}const qR={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){SE(r,!1);const o=[];for(let h=0;h<n.length;h++){const f=n[h];SE(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const a=QF(r,o,2);if(!a)return;const u=i.length/2;for(let h=0;h<a.length;h+=3)s.push(a[h]+u),s.push(a[h+1]+u),s.push(a[h+2]+u);for(let h=0;h<r.length;h++)i.push(r[h])}}},zU={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},VU={build(t){pp.build(t)},triangulate(t,e){pp.triangulate(t,e)}};var $n=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))($n||{}),Ko=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ko||{});const Vl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class EE{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],h=o[o.length-1]-r,f=a-e,d=i-r,p=n-e,g=Math.abs(h*p-f*d);if(g<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const v=h*h+f*f,b=d*d+p*p,C=h*d+f*p,E=s*Math.sqrt(v)/g,S=s*Math.sqrt(b)/g,x=E*C/v,_=S*C/b,P=E*p+S*f,k=E*d+S*h,M=f*(S+x),A=h*(S+x),I=p*(E+_),D=d*(E+_),L=Math.atan2(A-k,M-P),N=Math.atan2(D-k,I-P);return{cx:P+e,cy:k+r,radius:s,startAngle:L,endAngle:N,anticlockwise:f*d>p*h}}static arc(e,r,n,i,s,o,a,u,h){const f=a-o,d=Vl._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/cp)*40),p=f/(d*2),g=p*2,v=Math.cos(p),b=Math.sin(p),C=d-1,E=C%1/C;for(let S=0;S<=C;++S){const x=S+E*S,_=p+o+g*x,P=Math.cos(_),k=-Math.sin(_);h.push((v*P+b*k)*s+n,(v*-k+b*P)*s+i)}}}class jU{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class R_{static curveLength(e,r,n,i,s,o,a,u){let f=0,d=0,p=0,g=0,v=0,b=0,C=0,E=0,S=0,x=0,_=0,P=e,k=r;for(let M=1;M<=10;++M)d=M/10,p=d*d,g=p*d,v=1-d,b=v*v,C=b*v,E=C*e+3*b*d*n+3*v*p*s+g*a,S=C*r+3*b*d*i+3*v*p*o+g*u,x=P-E,_=k-S,P=E,k=S,f+=Math.sqrt(x*x+_*_);return f}static curveTo(e,r,n,i,s,o,a){const u=a[a.length-2],h=a[a.length-1];a.length-=2;const f=Vl._segmentsCount(R_.curveLength(u,h,e,r,n,i,s,o));let d=0,p=0,g=0,v=0,b=0;a.push(u,h);for(let C=1,E=0;C<=f;++C)E=C/f,d=1-E,p=d*d,g=p*d,v=E*E,b=v*E,a.push(g*u+3*p*E*e+3*d*v*n+b*s,g*h+3*p*E*r+3*d*v*i+b*o)}}function TE(t,e,r,n,i,s,o,a){const u=t-r*i,h=e-n*i,f=t+r*s,d=e+n*s;let p,g;o?(p=n,g=-r):(p=-n,g=r);const v=u+p,b=h+g,C=f+p,E=d+g;return a.push(v,b,C,E),2}function Do(t,e,r,n,i,s,o,a){const u=r-t,h=n-e;let f=Math.atan2(u,h),d=Math.atan2(i-t,s-e);a&&f<d?f+=Math.PI*2:!a&&f>d&&(d+=Math.PI*2);let p=f;const g=d-f,v=Math.abs(g),b=Math.sqrt(u*u+h*h),C=(15*v*Math.sqrt(b)/Math.PI>>0)+1,E=g/C;if(p+=E,a){o.push(t,e,r,n);for(let S=1,x=p;S<C;S++,x+=E)o.push(t,e,t+Math.sin(x)*b,e+Math.cos(x)*b);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let S=1,x=p;S<C;S++,x+=E)o.push(t+Math.sin(x)*b,e+Math.cos(x)*b,t,e);o.push(i,s,t,e)}return C*2}function GU(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new de(n[0],n[1]),a=new de(n[n.length-2],n[n.length-1]),u=r.type!==cr.POLY||r.closeStroke,h=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){n=n.slice(),h&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const ee=(o.x+a.x)*.5,B=(a.y+o.y)*.5;n.unshift(ee,B),n.push(ee,B)}const f=e.points,d=n.length/2;let p=n.length;const g=f.length/2,v=s.width/2,b=v*v,C=s.miterLimit*s.miterLimit;let E=n[0],S=n[1],x=n[2],_=n[3],P=0,k=0,M=-(S-_),A=E-x,I=0,D=0,L=Math.sqrt(M*M+A*A);M/=L,A/=L,M*=v,A*=v;const N=s.alignment,G=(1-N)*2,z=N*2;u||(s.cap===Ko.ROUND?p+=Do(E-M*(G-z)*.5,S-A*(G-z)*.5,E-M*G,S-A*G,E+M*z,S+A*z,f,!0)+2:s.cap===Ko.SQUARE&&(p+=TE(E,S,M,A,G,z,!0,f))),f.push(E-M*G,S-A*G,E+M*z,S+A*z);for(let ee=1;ee<d-1;++ee){E=n[(ee-1)*2],S=n[(ee-1)*2+1],x=n[ee*2],_=n[ee*2+1],P=n[(ee+1)*2],k=n[(ee+1)*2+1],M=-(S-_),A=E-x,L=Math.sqrt(M*M+A*A),M/=L,A/=L,M*=v,A*=v,I=-(_-k),D=x-P,L=Math.sqrt(I*I+D*D),I/=L,D/=L,I*=v,D*=v;const B=x-E,X=S-_,O=x-P,Y=k-_,se=B*O+X*Y,Ce=X*O-Y*B,fe=Ce<0;if(Math.abs(Ce)<.001*Math.abs(se)){f.push(x-M*G,_-A*G,x+M*z,_+A*z),se>=0&&(s.join===$n.ROUND?p+=Do(x,_,x-M*G,_-A*G,x-I*G,_-D*G,f,!1)+4:p+=2,f.push(x-I*z,_-D*z,x+I*G,_+D*G));continue}const Le=(-M+E)*(-A+_)-(-M+x)*(-A+S),Re=(-I+P)*(-D+_)-(-I+x)*(-D+k),Ue=(B*Re-O*Le)/Ce,et=(Y*Le-X*Re)/Ce,yt=(Ue-x)*(Ue-x)+(et-_)*(et-_),tt=x+(Ue-x)*G,Pe=_+(et-_)*G,Qe=x-(Ue-x)*z,Oe=_-(et-_)*z,Fr=Math.min(B*B+X*X,O*O+Y*Y),Kt=fe?G:z,ai=Fr+Kt*Kt*b,xo=yt<=ai;let Mn=s.join;if(Mn===$n.MITER&&yt/b>C&&(Mn=$n.BEVEL),xo)switch(Mn){case $n.MITER:{f.push(tt,Pe,Qe,Oe);break}case $n.BEVEL:{fe?f.push(tt,Pe,x+M*z,_+A*z,tt,Pe,x+I*z,_+D*z):f.push(x-M*G,_-A*G,Qe,Oe,x-I*G,_-D*G,Qe,Oe),p+=2;break}case $n.ROUND:{fe?(f.push(tt,Pe,x+M*z,_+A*z),p+=Do(x,_,x+M*z,_+A*z,x+I*z,_+D*z,f,!0)+4,f.push(tt,Pe,x+I*z,_+D*z)):(f.push(x-M*G,_-A*G,Qe,Oe),p+=Do(x,_,x-M*G,_-A*G,x-I*G,_-D*G,f,!1)+4,f.push(x-I*G,_-D*G,Qe,Oe));break}}else{switch(f.push(x-M*G,_-A*G,x+M*z,_+A*z),Mn){case $n.MITER:{fe?f.push(Qe,Oe,Qe,Oe):f.push(tt,Pe,tt,Pe),p+=2;break}case $n.ROUND:{fe?p+=Do(x,_,x+M*z,_+A*z,x+I*z,_+D*z,f,!0)+2:p+=Do(x,_,x-M*G,_-A*G,x-I*G,_-D*G,f,!1)+2;break}}f.push(x-I*G,_-D*G,x+I*z,_+D*z),p+=2}}E=n[(d-2)*2],S=n[(d-2)*2+1],x=n[(d-1)*2],_=n[(d-1)*2+1],M=-(S-_),A=E-x,L=Math.sqrt(M*M+A*A),M/=L,A/=L,M*=v,A*=v,f.push(x-M*G,_-A*G,x+M*z,_+A*z),u||(s.cap===Ko.ROUND?p+=Do(x-M*(G-z)*.5,_-A*(G-z)*.5,x-M*G,_-A*G,x+M*z,_+A*z,f,!1)+2:s.cap===Ko.SQUARE&&(p+=TE(x,_,M,A,G,z,!1,f)));const ie=e.indices,ae=Vl.epsilon*Vl.epsilon;for(let ee=g;ee<p+g-2;++ee)E=f[ee*2],S=f[ee*2+1],x=f[(ee+1)*2],_=f[(ee+1)*2+1],P=f[(ee+2)*2],k=f[(ee+2)*2+1],!(Math.abs(E*(_-k)+x*(k-S)+P*(S-_))<ae)&&ie.push(ee,ee+1,ee+2)}function HU(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==cr.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,u=i.length/2,h=o.length/2;let f=h;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[r*2],i[r*2+1]),a.push(f,f+1),f++;s&&a.push(f,h)}function CE(t,e){t.lineStyle.native?HU(t,e):GU(t,e)}class I_{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,u=r-2*i+o,h=2*n-2*e,f=2*i-2*r,d=4*(a*a+u*u),p=4*(a*h+u*f),g=h*h+f*f,v=2*Math.sqrt(d+p+g),b=Math.sqrt(d),C=2*d*b,E=2*Math.sqrt(g),S=p/b;return(C*v+b*p*(v-E)+(4*g*d-p*p)*Math.log((2*b+S+v)/(S+E)))/(4*C)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],u=Vl._segmentsCount(I_.curveLength(o,a,e,r,n,i));let h=0,f=0;for(let d=1;d<=u;++d){const p=d/u;h=o+(e-o)*p,f=a+(r-a)*p,s.push(h+(e+(n-e)*p-h)*p,f+(r+(i-r)*p-f)*p)}}}const Wy={[cr.POLY]:qR,[cr.CIRC]:pp,[cr.ELIP]:pp,[cr.RECT]:zU,[cr.RREC]:VU},PE=[],Yf=[];class mp{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new mp(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Ua=new de,ZR=class extends uR{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new hp,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Yf.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),PE.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new mp(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new mp(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,Ua):Ua.copyFrom(t),n.shape.contains(Ua.x,Ua.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(Ua.x,Ua.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const u=e[a],h=u.fillStyle,f=u.lineStyle;Wy[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(h.visible||f.visible)&&this.processHoles(u.holes);for(let p=0;p<2;p++){const g=p===0?h:f;if(!g.visible)continue;const v=g.texture.baseTexture,b=this.indices.length,C=this.points.length/2;v.wrapMode=ss.REPEAT,p===0?this.processFill(u):this.processLine(u);const E=this.points.length/2-C;E!==0&&(r&&!this._compareStyles(n,g)&&(r.end(b,C),r=null),r||(r=PE.pop()||new jU,r.begin(g,b,C),this.batches.push(r),n=g),this.addUvs(this.points,t,g.texture,C,E,g.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<ZR.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++De._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),Yf.push(this.drawCalls[f]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=Yf.pop();n||(n=new k0,n.texArray=new L0),n.texArray.count=0,n.start=0,n.size=0,n.type=qn.TRIANGLES;let i=0,s=null,o=0,a=!1,u=qn.TRIANGLES,h=0;this.drawCalls.push(n);for(let f=0;f<this.batches.length;f++){const d=this.batches[f],p=8,g=d.style,v=g.texture.baseTexture;a!==!!g.native&&(a=!!g.native,u=a?qn.LINES:qn.TRIANGLES,s=null,i=p,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===p&&(t++,i=0,n.size>0&&(n=Yf.pop(),n||(n=new k0,n.texArray=new L0),this.drawCalls.push(n)),n.start=h,n.size=0,n.texArray.count=0,n.type=u),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=ss.REPEAT,n.texArray.elements[n.texArray.count++]=v,i++)),n.size+=d.size,h+=d.size,o=v._batchLocation,this.addColors(e,g.color,g.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,o,d.attribSize,d.attribStart)}De._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let u=0;u<t.length/2;u++)s[a++]=t[u*2],s[a++]=t[u*2+1],s[a++]=e[u*2],s[a++]=e[u*2+1],o[a++]=r[u],s[a++]=n[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?qR.triangulate(t,this):Wy[t.type].triangulate(t,this)}processLine(t){CE(t,this);for(let e=0;e<t.holes.length;e++)CE(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Wy[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=rt.shared.setValue(e).toLittleEndianNumber(),o=rt.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let a=0;a<n;a++)t[i+a]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const a=e.length,u=r.frame;for(;o<i;){let f=t[(n+o)*2],d=t[(n+o)*2+1];if(s){const p=s.a*f+s.c*d+s.tx;d=s.b*f+s.d*d+s.ty,f=p}o++,e.push(f/u.width,d/u.height)}const h=r.baseTexture;(u.width<h.width||u.height<h.height)&&this.adjustUvs(e,r,a,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,a=e.frame,u=a.width/i.width,h=a.height/i.height;let f=a.x/a.width,d=a.y/a.height,p=Math.floor(t[r]+s),g=Math.floor(t[r+1]+s);for(let v=r+2;v<o;v+=2)p=Math.min(p,Math.floor(t[v]+s)),g=Math.min(g,Math.floor(t[v+1]+s));f-=p,d-=g;for(let v=r;v<o;v+=2)t[v]=(t[v]+f)*u,t[v+1]=(t[v+1]+d)*h}};let JR=ZR;JR.BATCHABLE_SIZE=100;class fm{constructor(){this.color=16777215,this.alpha=1,this.texture=ue.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new fm;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ue.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class M_ extends fm{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ko.BUTT,this.join=$n.MITER,this.miterLimit=10}clone(){const e=new M_;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Xy={},Rd=class extends Pr{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new fm,this._lineStyle=new M_,this._matrix=null,this._holeMode=!1,this.state=xs.for2d(),this._geometry=t||new JR,this._geometry.refCount++,this._transformID=-1,this._tintColor=new rt(16777215),this.blendMode=Te.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Rd(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:ue.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ko.BUTT,join:$n.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Pl,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Pl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),I_.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),R_.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=EE.curveTo(t,e,r,n,i,s);if(o){const{cx:a,cy:u,radius:h,startAngle:f,endAngle:d,anticlockwise:p}=o;this.arc(a,u,h,f,d,p)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=cp:s&&n<=i&&(n+=cp),i-n===0)return this;const a=t+Math.cos(n)*r,u=e+Math.sin(n)*r,h=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const d=Math.abs(f[f.length-2]-a),p=Math.abs(f[f.length-1]-u);d<h&&p<h||f.push(a,u)}else this.moveTo(a,u),f=this.currentPath.points;return EE.arc(a,u,t,e,r,n,i,s,f),this}beginFill(t=0,e){return this.beginTextureFill({texture:ue.WHITE,color:t,alpha:e})}normalizeColor(t){const e=rt.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:ue.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new Fe(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new C_(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new E_(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new T_(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Pl(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===cr.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),u=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),h={vertexData:o,blendMode:e,indices:u,uvs:a,_batchRGB:rt.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=h}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,rt.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,a=s.length;o<a;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!Xy[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let a=0;a<n;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new mt,default:ii.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;Xy[r]=new Di(o,s)}e=Xy[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Rd._TEMP_POINT),this._geometry.containsPoint(Rd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=rt.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,u=this._geometry.points,h=this.vertexData;let f=0;for(let d=0;d<u.length;d+=2){const p=u[d],g=u[d+1];h[f++]=r*p+i*g+o,h[f++]=s*g+n*p+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let ta=Rd;ta.curves=Vl;ta._TEMP_POINT=new de;class $U extends um{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,u=this.height/o;for(let f=0;f<e;f++){const d=f%this.segWidth,p=f/this.segWidth|0;r.push(d*a,p*u),n.push(d/s,p/o)}const h=s*o;for(let f=0;f<h;f++){const d=f%s,p=f/s|0,g=p*this.segWidth+d,v=p*this.segWidth+d+1,b=(p+1)*this.segWidth+d,C=(p+1)*this.segWidth+d+1;i.push(g,v,b,v,C,b)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class WU extends um{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=e[0];const h=this._width*this.textureScale,f=e.length;for(let p=0;p<f;p++){const g=p*4;if(this.textureScale>0){const v=u.x-e[p].x,b=u.y-e[p].y,C=Math.sqrt(v*v+b*b);u=e[p],a+=C/h}else a=p/(f-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let d=0;for(let p=0;p<f-1;p++){const g=p*2;o[d++]=g,o[d++]=g+1,o[d++]=g+2,o[d++]=g+2,o[d++]=g+1,o[d++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<a;h++){const f=e[h],d=h*4;h<e.length-1?n=e[h+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=u,s*=u),o[d]=f.x+i,o[d+1]=f.y+s,o[d+2]=f.x-i,o[d+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class XU extends zl{constructor(e,r,n){const i=new $U(e.width,e.height,r,n),s=new $c(ue.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Kf=10;class YU extends XU{constructor(e,r,n,i,s){var o,a,u,h;super(ue.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Kf,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??Kf,this._topHeight=n??((u=e.defaultBorders)==null?void 0:u.top)??Kf,this._bottomHeight=s??((h=e.defaultBorders)==null?void 0:h.bottom)??Kf,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class KU extends zl{constructor(e=ue.EMPTY,r,n,i,s){const o=new um(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new $c(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class QU extends zl{constructor(e,r,n=0){const i=new WU(e.height,r,n),s=new $c(e);n>0&&(e.baseTexture.wrapMode=ss.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class qU extends Pr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Te.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new rt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class AE{constructor(e,r,n){this.geometry=new ao,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Ee.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Ft(EB(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ft(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Ft(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Ee.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Ee.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===Ee.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===Ee.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var ZU=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,JU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class eI extends rm{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new mt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ee.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Di.from(JU,ZU,{}),this.state=xs.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const u=r[0]._texture.baseTexture,h=u.alphaMode>0;this.state.blendMode=sR(e.blendMode,h),s.state.set(this.state);const f=s.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=rt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let p=!1;for(let g=0,v=0;g<o;g+=i,v+=1){let b=o-g;b>i&&(b=i),v>=a.length&&a.push(this._generateOneMoreBuffer(e));const C=a[v];C.uploadDynamic(r,g,b);const E=e._bufferUpdateIDs[v]||0;p=p||C._updateID<E,p&&(C._updateID=e._updateID,C.uploadStatic(r,g,b)),s.geometry.bind(C.geometry),f.drawElements(f.TRIANGLES,b*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new AE(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new AE(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,u=0,h=0,f=0;for(let d=0;d<n;++d){const p=e[r+d],g=p._texture,v=p.scale.x,b=p.scale.y,C=g.trim,E=g.orig;C?(u=C.x-p.anchor.x*E.width,a=u+C.width,f=C.y-p.anchor.y*E.height,h=f+C.height):(a=E.width*(1-p.anchor.x),u=E.width*-p.anchor.x,h=E.height*(1-p.anchor.y),f=E.height*-p.anchor.y),i[o]=u*v,i[o+1]=f*b,i[o+s]=a*v,i[o+s+1]=f*b,i[o+s*2]=a*v,i[o+s*2+1]=h*b,i[o+s*3]=u*v,i[o+s*3+1]=h*b,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const u=e[r+a].position;i[o]=u.x,i[o+1]=u.y,i[o+s]=u.x,i[o+s+1]=u.y,i[o+s*2]=u.x,i[o+s*2+1]=u.y,i[o+s*3]=u.x,i[o+s*3+1]=u.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const u=e[r+a].rotation;i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const u=e[r+a]._texture._uvs;u?(i[o]=u.x0,i[o+1]=u.y0,i[o+s]=u.x1,i[o+s+1]=u.y1,i[o+s*2]=u.x2,i[o+s*2+1]=u.y2,i[o+s*3]=u.x3,i[o+s*3+1]=u.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const u=e[r+a],h=rt.shared.setValue(u._tintRGB).toPremultiplied(u.alpha,u.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}eI.extension={name:"particle",type:he.RendererPlugin};we.add(eI);class Wc extends Bi{constructor(e,r=!0){super(e[0]instanceof ue?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ot.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ot.shared.add(this.update,this,uo.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ue.from(e[n]));return new Wc(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ue.from(e[n]));return new Wc(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ue)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ot.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ot.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Vu=new de;class k_ extends Bi{constructor(e,r=100,n=100){super(e),this.tileTransform=new tm,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new P_(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Fe),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Vu);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Vu.x>=i&&Vu.x<i+r){const s=-n*this.anchor._y;if(Vu.y>=s&&Vu.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ue?e:ue.from(e,r);return new k_(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var e4=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,t4=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,r4=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,RE=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,n4=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Qf=new mt;class tI extends rm{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new wR,this.state=xs.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Di.from(RE,n4,r),this.shader=e.context.webGLVersion>1?Di.from(t4,e4,r):Di.from(RE,r4,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,u=a.baseTexture,h=u.alphaMode>0,f=e.tileTransform.localTransform,d=e.uvMatrix;let p=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;p&&(u._glTextures[r.CONTEXT_UID]?p=u.wrapMode!==ss.CLAMP:u.wrapMode===ss.CLAMP&&(u.wrapMode=ss.REPEAT));const g=p?this.simpleShader:this.shader,v=a.width,b=a.height,C=e._width,E=e._height;Qf.set(f.a*v/C,f.b*v/E,f.c*b/C,f.d*b/E,f.tx/C,f.ty/E),Qf.invert(),p?Qf.prepend(d.mapCoord):(g.uniforms.uMapCoord=d.mapCoord.toArray(!0),g.uniforms.uClampFrame=d.uClampFrame,g.uniforms.uClampOffset=d.uClampOffset),g.uniforms.uTransform=Qf.toArray(!0),g.uniforms.uColor=rt.shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=sR(e.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}tI.extension={name:"tilingSprite",type:he.RendererPlugin};we.add(tI);const H0=class{constructor(t){this.stage=new Pr,t=Object.assign({forceCanvas:!1},t),this.renderer=N3(t),H0._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=H0._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let uh=H0;uh._plugins=[];we.handleByList(he.Application,uh._plugins);class rI{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}rI.extension=he.Application;we.add(rI);var nI={exports:{}},i4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s4=i4,o4=s4;function iI(){}function sI(){}sI.resetWarningCache=iI;var a4=function(){function t(n,i,s,o,a,u){if(u!==o4){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sI,resetWarningCache:iI};return r.PropTypes=r,r};nI.exports=a4();var l4=nI.exports;const lt=Zc(l4);function an(t){return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(t)}function oI(t){var e=function(r,n){if(an(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(an(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return an(e)==="symbol"?e:String(e)}function Lt(t,e,r){return(e=oI(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ps(t){return function(e){if(Array.isArray(e))return Yy(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Yy(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yy(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var u4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h4=function(t){return t==null};function qu(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=ps(t);else{if(t===null||an(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!h4(r)&&!isNaN(r)}).map(Number)}function IE(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ky(t){return t instanceof de||t instanceof ts}var gp=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Qy(t,e,r){if(Ky(t[e])&&Ky(r))t[e].copyFrom(r);else if(Ky(t[e])){var n=qu(r);Mt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),an(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var za,aI=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},lI=function(t){return function(){return!t.apply(void 0,arguments)}},$0="children",f4=(Lt(za={},$0,!0),Lt(za,"parent",!0),Lt(za,"worldAlpha",!0),Lt(za,"worldTransform",!0),Lt(za,"worldVisible",!0),za),W0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Ni=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var u,h;a==null||(u=a.__reactpixi)===null||u===void 0||(h=u.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,u){if(r.hasOwnProperty(a))return Mt(u.typeofs.some(function(h){return an(r[a])===h})||u.instanceofs.some(function(h){return r[a]instanceof h}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return Mt(r.texture instanceof ue,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ue]});Mt(!!s,"".concat(t," could not get texture from props"));var o=ue.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},d4=lI(aI([].concat(ps(Object.keys(f4)),ps(gp))));function Oi(t,e,r){var n=!1;if(Mt(gt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",an(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<gp.length;o++){var a=gp[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var u=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<u.length;h++){var f=u[h];e[f]!==r[f]&&(n=!0,Qy(t,f,r[f]))}return n}for(var d=u.filter(d4),p=0;p<d.length;p++){var g=d[p],v=r[g];r[g]!==e[g]&&(n=!0),v!==void 0?Qy(t,g,v):g in W0?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(v," for"),t),n=!0,Qy(t,g,W0[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(v," for"),t)}return n}var p4=function(t,e){var r=e.text,n=e.style;return new KR(r,n)},m4=function(){return new Pr};function yo(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var u,h,f={},d=Object.keys(o);for(h=0;h<d.length;h++)u=d[h],a.indexOf(u)>=0||(f[u]=o[u]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var g4=["draw","geometry"],y4=function(t,e){var r=e.geometry;Mt(!r||r instanceof ta,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new ta(r.geometry):new ta;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var u=Oi(i,s,yo(o,g4));return s.draw!==a&&typeof a=="function"&&(u=!0,a.call(n,n)),u},n},v4=["image","texture"],x4=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,u=e.bottomHeight,h=u===void 0?10:u,f=Ni("NineSlicePlane",t,e),d=new YU(f,n,s,a,h);return d.applyProps=function(p,g,v){var b=v.image,C=v.texture,E=Oi(p,g,yo(v,v4));return(b||C)&&(C!==g.texture&&(E=!0),p.texture=Ni("NineSlicePlane",t,v)),E},d};function ME(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(r),!0).forEach(function(n){Lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _4=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,u=qf(qf({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),h=qf(qf({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new qU(n,u,s,a);return f.willUnmount=function(d,p,g){d.destroy(h)},f},w4=["image","texture"],b4=function(t,e){var r=new Bi(Ni("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,u=Oi(n,i,yo(s,w4));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(u=!0),n.texture=Ni("Sprite",t,s)),u},r},S4=["textures","isPlaying","initialFrame"],E4=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(h){return h.map(function(f){return Mt(f instanceof ue||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),f})},u=n?Wc.fromImages(n):new Wc(a(r));return u[s?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(h,f,d){var p=d.textures,g=d.isPlaying,v=d.initialFrame,b=Oi(h,f,yo(d,S4));if(p&&f.textures!==p&&(h.textures=a(p),b=!0),g!==f.isPlaying||v!==f.initialFrame){var C=typeof v=="number"?v:u.currentFrame||0;u[g?"gotoAndPlay":"gotoAndStop"](C),b=!0}return b},u},T4=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new lm(n,s);return o?(a.updateText(),new Bi(a.texture)):a},C4=["tileScale","tilePosition","image","texture"],P4=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Ni("TilingSprite",t,e),a=new k_(o,n,s);return a.applyProps=function(u,h,f){var d=f.tileScale,p=f.tilePosition,g=f.image,v=f.texture,b=Oi(u,h,yo(f,C4));if(p){var C,E=qu(p);(C=u.tilePosition).set.apply(C,ps(E)),b=!IE(qu(h.tilePosition),E)||b}if(d){var S,x=qu(d);(S=u.tileScale).set.apply(S,ps(x)),b=!IE(qu(h.tileScale),x)||b}return(g||v)&&(v!==h.texture&&(b=!0),u.texture=Ni("Sprite",t,f)),b},a},A4=["image","texture"],R4=function(t,e){var r=Ni("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?qn.TRIANGLES:o,u=new KU(r,n,i,s,a);return u.applyProps=function(h,f,d){var p=d.image,g=d.texture,v=Oi(h,f,yo(d,A4));return(p||g)&&(g!==f.texture&&(v=!0),h.texture=Ni("Mesh",t,d)),v},u},I4=["image","texture"],M4=function(t,e){var r=Ni("SimpleRope",t,e),n=e.points,i=new QU(r,n);return i.applyProps=function(s,o,a){var u=a.image,h=a.texture,f=yo(a,I4);Mt(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var d=Oi(s,o,f);return(u||h)&&(h!==o.texture&&(d=!0),s.texture=Ni("SimpleRope",t,a)),d},i},k4=Object.freeze({__proto__:null,BitmapText:p4,Container:m4,Graphics:y4,NineSlicePlane:x4,ParticleContainer:_4,Sprite:b4,Text:T4,TilingSprite:P4,SimpleMesh:R4,SimpleRope:M4,AnimatedSprite:E4});function kE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(r),!0).forEach(function(n){Lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Yr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},D4=Object.keys(Yr).reduce(function(t,e){return DE(DE({},t),{},Lt({},e,k4[e]))},{}),uI={};function L4(t,e){return Mt(!!t,"Expect type to be defined, got `%s`",t),Mt(!Yr[t],"Component `%s` could not be created, already exists in default components.",t),uI[t]=e,t}var LE,FE,NE,OE,X0={},Y0={},F4={get exports(){return Y0},set exports(t){Y0=t}},BE={};function N4(){return FE||(FE=1,F4.exports=(LE||(LE=1,function(t){function e(B,X){var O=B.length;B.push(X);e:for(;0<O;){var Y=O-1>>>1,se=B[Y];if(!(0<i(se,X)))break e;B[Y]=X,B[O]=se,O=Y}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var X=B[0],O=B.pop();if(O!==X){B[0]=O;e:for(var Y=0,se=B.length,Ce=se>>>1;Y<Ce;){var fe=2*(Y+1)-1,Le=B[fe],Re=fe+1,Ue=B[Re];if(0>i(Le,O))Re<se&&0>i(Ue,Le)?(B[Y]=Ue,B[Re]=O,Y=Re):(B[Y]=Le,B[fe]=O,Y=fe);else{if(!(Re<se&&0>i(Ue,O)))break e;B[Y]=Ue,B[Re]=O,Y=Re}}}return X}function i(B,X){var O=B.sortIndex-X.sortIndex;return O!==0?O:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],h=[],f=1,d=null,p=3,g=!1,v=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function x(B){for(var X=r(h);X!==null;){if(X.callback===null)n(h);else{if(!(X.startTime<=B))break;n(h),X.sortIndex=X.expirationTime,e(u,X)}X=r(h)}}function _(B){if(b=!1,x(B),!v)if(r(u)!==null)v=!0,ae(P);else{var X=r(h);X!==null&&ee(_,X.startTime-B)}}function P(B,X){v=!1,b&&(b=!1,E(I),I=-1),g=!0;var O=p;try{for(x(X),d=r(u);d!==null&&(!(d.expirationTime>X)||B&&!N());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,p=d.priorityLevel;var se=Y(d.expirationTime<=X);X=t.unstable_now(),typeof se=="function"?d.callback=se:d===r(u)&&n(u),x(X)}else n(u);d=r(u)}if(d!==null)var Ce=!0;else{var fe=r(h);fe!==null&&ee(_,fe.startTime-X),Ce=!1}return Ce}finally{d=null,p=O,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,M=!1,A=null,I=-1,D=5,L=-1;function N(){return!(t.unstable_now()-L<D)}function G(){if(A!==null){var B=t.unstable_now();L=B;var X=!0;try{X=A(!0,B)}finally{X?k():(M=!1,A=null)}}else M=!1}if(typeof S=="function")k=function(){S(G)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ie=z.port2;z.port1.onmessage=G,k=function(){ie.postMessage(null)}}else k=function(){C(G,0)};function ae(B){A=B,M||(M=!0,k())}function ee(B,X){I=C(function(){B(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,ae(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var O=p;p=X;try{return B()}finally{p=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var O=p;p=B;try{return X()}finally{p=O}},t.unstable_scheduleCallback=function(B,X,O){var Y=t.unstable_now();switch(O=typeof O=="object"&&O!==null&&typeof(O=O.delay)=="number"&&0<O?Y+O:Y,B){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return B={id:f++,callback:X,priorityLevel:B,startTime:O,expirationTime:se=O+se,sortIndex:-1},O>Y?(B.sortIndex=O,e(h,B),r(u)===null&&B===r(h)&&(b?(E(I),I=-1):b=!0,ee(_,O-Y))):(B.sortIndex=se,e(u,B),v||g||(v=!0,ae(P))),B},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(B){var X=p;return function(){var O=p;p=X;try{return B.apply(this,arguments)}finally{p=O}}}}(BE)),BE)),Y0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function O4(){return OE||(OE=1,NE=function(t){var e={},r=sn,n=N4(),i=Object.assign;function s(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),_=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:typeof(l=_&&l[_]||l["@@iterator"])=="function"?l:null}function k(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case h:return"Fragment";case u:return"Portal";case d:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case C:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case g:return(l.displayName||"Context")+".Consumer";case p:return(l._context.displayName||"Context")+".Provider";case v:var c=l.render;return(l=l.displayName)||(l=(l=c.displayName||c.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case E:return(c=l.displayName||null)!==null?c:k(l.type)||"Memo";case S:c=l._payload,l=l._init;try{return k(l(c))}catch{}}return null}function M(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=c.render).displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k(c);case 8:return c===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function A(l){var c=l,m=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do 4098&(c=l).flags&&(m=c.return),l=c.return;while(l)}return c.tag===3?m:null}function I(l){if(A(l)!==l)throw Error(s(188))}function D(l){var c=l.alternate;if(!c){if((c=A(l))===null)throw Error(s(188));return c!==l?null:l}for(var m=l,y=c;;){var w=m.return;if(w===null)break;var T=w.alternate;if(T===null){if((y=w.return)!==null){m=y;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===m)return I(w),l;if(T===y)return I(w),c;T=T.sibling}throw Error(s(188))}if(m.return!==y.return)m=w,y=T;else{for(var R=!1,F=w.child;F;){if(F===m){R=!0,m=w,y=T;break}if(F===y){R=!0,y=w,m=T;break}F=F.sibling}if(!R){for(F=T.child;F;){if(F===m){R=!0,m=T,y=w;break}if(F===y){R=!0,y=T,m=w;break}F=F.sibling}if(!R)throw Error(s(189))}}if(m.alternate!==y)throw Error(s(190))}if(m.tag!==3)throw Error(s(188));return m.stateNode.current===m?l:c}function L(l){return(l=D(l))!==null?N(l):null}function N(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=N(l);if(c!==null)return c;l=l.sibling}return null}function G(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var c=G(l);if(c!==null)return c}l=l.sibling}return null}var z,ie=Array.isArray,ae=t.getPublicInstance,ee=t.getRootHostContext,B=t.getChildHostContext,X=t.prepareForCommit,O=t.resetAfterCommit,Y=t.createInstance,se=t.appendInitialChild,Ce=t.finalizeInitialChildren,fe=t.prepareUpdate,Le=t.shouldSetTextContent,Re=t.createTextInstance,Ue=t.scheduleTimeout,et=t.cancelTimeout,yt=t.noTimeout,tt=t.isPrimaryRenderer,Pe=t.supportsMutation,Qe=t.supportsPersistence,Oe=t.supportsHydration,Fr=t.getInstanceFromNode,Kt=t.preparePortalMount,ai=t.getCurrentEventPriority,xo=t.detachDeletedInstance,Mn=t.supportsMicrotasks,Zl=t.scheduleMicrotask,Nr=t.supportsTestSelectors,mh=t.findFiberRoot,gh=t.getBoundingRect,yh=t.getTextContent,_o=t.isHiddenSubtree,vh=t.matchAccessibilityRole,xa=t.setFocusIfFocusable,xh=t.setupIntersectionObserver,Jl=t.appendChild,bm=t.appendChildToContainer,_h=t.commitTextUpdate,Sm=t.commitMount,wh=t.commitUpdate,Em=t.insertBefore,j=t.insertInContainerBefore,H=t.removeChild,J=t.removeChildFromContainer,pe=t.resetTextContent,ke=t.hideInstance,Ie=t.hideTextInstance,Me=t.unhideInstance,Se=t.unhideTextInstance,_e=t.clearContainer,it=t.cloneInstance,Gt=t.createContainerChildSet,Ke=t.appendChildToContainerChildSet,vt=t.finalizeContainerChildren,Pt=t.replaceContainerChildren,li=t.cloneHiddenInstance,ui=t.cloneHiddenTextInstance,wo=t.canHydrateInstance,eu=t.canHydrateTextInstance,kn=t.canHydrateSuspenseInstance,fn=t.isSuspenseInstancePending,_s=t.isSuspenseInstanceFallback,tu=t.getSuspenseInstanceFallbackErrorDetails,ru=t.registerSuspenseInstanceRetry,ws=t.getNextHydratableSibling,qe=t.getFirstHydratableChild,Kr=t.getFirstHydratableChildWithinContainer,ci=t.getFirstHydratableChildWithinSuspenseInstance,nu=t.hydrateInstance,kt=t.hydrateTextInstance,bo=t.hydrateSuspenseInstance,bh=t.getNextHydratableInstanceAfterSuspenseInstance,Tm=t.commitHydratedContainer,QM=t.commitHydratedSuspenseInstance,qM=t.clearSuspenseBoundary,ZM=t.clearSuspenseBoundaryFromContainer,JM=t.shouldDeleteUnhydratedTailInstances,e2=t.didNotMatchHydratedContainerTextInstance,t2=t.didNotMatchHydratedTextInstance;function iu(l){if(z===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);z=c&&c[1]||""}return`
`+z+l}var Cm=!1;function Pm(l,c){if(!l||Cm)return"";Cm=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(W){var y=W}Reflect.construct(l,[],c)}else{try{c.call()}catch(W){y=W}l.call(c.prototype)}else{try{throw Error()}catch(W){y=W}l()}}catch(W){if(W&&y&&typeof W.stack=="string"){for(var w=W.stack.split(`
`),T=y.stack.split(`
`),R=w.length-1,F=T.length-1;1<=R&&0<=F&&w[R]!==T[F];)F--;for(;1<=R&&0<=F;R--,F--)if(w[R]!==T[F]){if(R!==1||F!==1)do if(R--,0>--F||w[R]!==T[F]){var V=`
`+w[R].replace(" at new "," at ");return l.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",l.displayName)),V}while(1<=R&&0<=F);break}}}finally{Cm=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?iu(l):""}var r2=Object.prototype.hasOwnProperty,Am=[],_a=-1;function bs(l){return{current:l}}function ct(l){0>_a||(l.current=Am[_a],Am[_a]=null,_a--)}function st(l,c){_a++,Am[_a]=l.current,l.current=c}var Ss={},mr=bs(Ss),Or=bs(!1),So=Ss;function wa(l,c){var m=l.type.contextTypes;if(!m)return Ss;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var w,T={};for(w in m)T[w]=c[w];return y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=T),T}function Qr(l){return(l=l.childContextTypes)!=null}function Rm(){ct(Or),ct(mr)}function e1(l,c,m){if(mr.current!==Ss)throw Error(s(168));st(mr,c),st(Or,m)}function t1(l,c,m){var y=l.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return m;for(var w in y=y.getChildContext())if(!(w in c))throw Error(s(108,M(l)||"Unknown",w));return i({},m,y)}function Sh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ss,So=mr.current,st(mr,l),st(Or,Or.current),!0}function r1(l,c,m){var y=l.stateNode;if(!y)throw Error(s(169));m?(l=t1(l,c,So),y.__reactInternalMemoizedMergedChildContext=l,ct(Or),ct(mr),st(mr,l)):ct(Or),st(Or,m)}var Dn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(n2(l)/i2|0)|0},n2=Math.log,i2=Math.LN2,Im=64,Mm=4194304;function su(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Eh(l,c){var m=l.pendingLanes;if(m===0)return 0;var y=0,w=l.suspendedLanes,T=l.pingedLanes,R=268435455&m;if(R!==0){var F=R&~w;F!==0?y=su(F):(T&=R)!==0&&(y=su(T))}else(R=m&~w)!==0?y=su(R):T!==0&&(y=su(T));if(y===0)return 0;if(c!==0&&c!==y&&!(c&w)&&((w=y&-y)>=(T=c&-c)||w===16&&4194240&T))return c;if(4&y&&(y|=16&m),(c=l.entangledLanes)!==0)for(l=l.entanglements,c&=y;0<c;)w=1<<(m=31-Dn(c)),y|=l[m],c&=~w;return y}function s2(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;default:return-1}}function km(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function n1(){var l=Im;return!(4194240&(Im<<=1))&&(Im=64),l}function Dm(l){for(var c=[],m=0;31>m;m++)c.push(l);return c}function ou(l,c,m){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[c=31-Dn(c)]=m}function Lm(l,c){var m=l.entangledLanes|=c;for(l=l.entanglements;m;){var y=31-Dn(m),w=1<<y;w&c|l[y]&c&&(l[y]|=c),m&=~w}}var Xe=0;function i1(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var Fm=n.unstable_scheduleCallback,s1=n.unstable_cancelCallback,o2=n.unstable_shouldYield,a2=n.unstable_requestPaint,Qt=n.unstable_now,Nm=n.unstable_ImmediatePriority,l2=n.unstable_UserBlockingPriority,o1=n.unstable_NormalPriority,u2=n.unstable_IdlePriority,Th=null,hi=null,Ln=typeof Object.is=="function"?Object.is:function(l,c){return l===c&&(l!==0||1/l==1/c)||l!=l&&c!=c},zi=null,Ch=!1,Om=!1;function a1(l){zi===null?zi=[l]:zi.push(l)}function fi(){if(!Om&&zi!==null){Om=!0;var l=0,c=Xe;try{var m=zi;for(Xe=1;l<m.length;l++){var y=m[l];do y=y(!0);while(y!==null)}zi=null,Ch=!1}catch(w){throw zi!==null&&(zi=zi.slice(l+1)),Fm(Nm,fi),w}finally{Xe=c,Om=!1}}return null}var ba=[],Sa=0,Ph=null,Ah=0,dn=[],pn=0,Eo=null,di=1,Vi="";function To(l,c){ba[Sa++]=Ah,ba[Sa++]=Ph,Ph=l,Ah=c}function l1(l,c,m){dn[pn++]=di,dn[pn++]=Vi,dn[pn++]=Eo,Eo=l;var y=di;l=Vi;var w=32-Dn(y)-1;y&=~(1<<w),m+=1;var T=32-Dn(c)+w;if(30<T){var R=w-w%5;T=(y&(1<<R)-1).toString(32),y>>=R,w-=R,di=1<<32-Dn(c)+w|m<<w|y,Vi=T+l}else di=1<<T|m<<w|y,Vi=l}function Bm(l){l.return!==null&&(To(l,1),l1(l,1,0))}function Um(l){for(;l===Ph;)Ph=ba[--Sa],ba[Sa]=null,Ah=ba[--Sa],ba[Sa]=null;for(;l===Eo;)Eo=dn[--pn],dn[pn]=null,Vi=dn[--pn],dn[pn]=null,di=dn[--pn],dn[pn]=null}var qr=null,mn=null,ht=!1,au=!1,Fn=null;function u1(l,c){var m=_n(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=l,(c=l.deletions)===null?(l.deletions=[m],l.flags|=16):c.push(m)}function c1(l,c){switch(l.tag){case 5:return(c=wo(c,l.type,l.pendingProps))!==null&&(l.stateNode=c,qr=l,mn=qe(c),!0);case 6:return(c=eu(c,l.pendingProps))!==null&&(l.stateNode=c,qr=l,mn=null,!0);case 13:if((c=kn(c))!==null){var m=Eo!==null?{id:di,overflow:Vi}:null;return l.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},(m=_n(18,null,null,0)).stateNode=c,m.return=l,l.child=m,qr=l,mn=null,!0}return!1;default:return!1}}function zm(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Vm(l){if(ht){var c=mn;if(c){var m=c;if(!c1(l,c)){if(zm(l))throw Error(s(418));c=ws(m);var y=qr;c&&c1(l,c)?u1(y,m):(l.flags=-4097&l.flags|2,ht=!1,qr=l)}}else{if(zm(l))throw Error(s(418));l.flags=-4097&l.flags|2,ht=!1,qr=l}}}function h1(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;qr=l}function Rh(l){if(!Oe||l!==qr)return!1;if(!ht)return h1(l),ht=!0,!1;if(l.tag!==3&&(l.tag!==5||JM(l.type)&&!Le(l.type,l.memoizedProps))){var c=mn;if(c){if(zm(l))throw f1(),Error(s(418));for(;c;)u1(l,c),c=ws(c)}}if(h1(l),l.tag===13){if(!Oe)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));mn=bh(l)}else mn=qr?ws(l.stateNode):null;return!0}function f1(){for(var l=mn;l;)l=ws(l)}function Ea(){Oe&&(mn=qr=null,au=ht=!1)}function jm(l){Fn===null?Fn=[l]:Fn.push(l)}var c2=o.ReactCurrentBatchConfig;function Ih(l,c){if(Ln(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var m=Object.keys(l),y=Object.keys(c);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var w=m[y];if(!r2.call(c,w)||!Ln(l[w],c[w]))return!1}return!0}function h2(l){switch(l.tag){case 5:return iu(l.type);case 16:return iu("Lazy");case 13:return iu("Suspense");case 19:return iu("SuspenseList");case 0:case 2:case 15:return l=Pm(l.type,!1);case 11:return l=Pm(l.type.render,!1);case 1:return l=Pm(l.type,!0);default:return""}}function Nn(l,c){if(l&&l.defaultProps){for(var m in c=i({},c),l=l.defaultProps)c[m]===void 0&&(c[m]=l[m]);return c}return c}var Mh=bs(null),kh=null,Ta=null,Gm=null;function Hm(){Gm=Ta=kh=null}function d1(l,c,m){tt?(st(Mh,c._currentValue),c._currentValue=m):(st(Mh,c._currentValue2),c._currentValue2=m)}function $m(l){var c=Mh.current;ct(Mh),tt?l._currentValue=c:l._currentValue2=c}function Wm(l,c,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),l===m)break;l=l.return}}function Ca(l,c){kh=l,Gm=Ta=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&c&&(Br=!0),l.firstContext=null)}function gn(l){var c=tt?l._currentValue:l._currentValue2;if(Gm!==l)if(l={context:l,memoizedValue:c,next:null},Ta===null){if(kh===null)throw Error(s(308));Ta=l,kh.dependencies={lanes:0,firstContext:l}}else Ta=Ta.next=l;return c}var Co=null;function Xm(l){Co===null?Co=[l]:Co.push(l)}function p1(l,c,m,y){var w=c.interleaved;return w===null?(m.next=m,Xm(c)):(m.next=w.next,w.next=m),c.interleaved=m,pi(l,y)}function pi(l,c){l.lanes|=c;var m=l.alternate;for(m!==null&&(m.lanes|=c),m=l,l=l.return;l!==null;)l.childLanes|=c,(m=l.alternate)!==null&&(m.childLanes|=c),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Es=!1;function Ym(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m1(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ji(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function Ts(l,c,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(2&He)!=0){var w=y.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),y.pending=c,pi(l,m)}return(w=y.interleaved)===null?(c.next=c,Xm(y)):(c.next=w.next,w.next=c),y.interleaved=c,pi(l,m)}function Dh(l,c,m){if((c=c.updateQueue)!==null&&(c=c.shared,(4194240&m)!=0)){var y=c.lanes;m|=y&=l.pendingLanes,c.lanes=m,Lm(l,m)}}function g1(l,c){var m=l.updateQueue,y=l.alternate;if(y!==null&&m===(y=y.updateQueue)){var w=null,T=null;if((m=m.firstBaseUpdate)!==null){do{var R={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?w=T=R:T=T.next=R,m=m.next}while(m!==null);T===null?w=T=c:T=T.next=c}else w=T=c;return m={baseState:y.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:y.shared,effects:y.effects},void(l.updateQueue=m)}(l=m.lastBaseUpdate)===null?m.firstBaseUpdate=c:l.next=c,m.lastBaseUpdate=c}function Lh(l,c,m,y){var w=l.updateQueue;Es=!1;var T=w.firstBaseUpdate,R=w.lastBaseUpdate,F=w.shared.pending;if(F!==null){w.shared.pending=null;var V=F,W=V.next;V.next=null,R===null?T=W:R.next=W,R=V;var q=l.alternate;q!==null&&(F=(q=q.updateQueue).lastBaseUpdate)!==R&&(F===null?q.firstBaseUpdate=W:F.next=W,q.lastBaseUpdate=V)}if(T!==null){var le=w.baseState;for(R=0,q=W=V=null,F=T;;){var Q=F.lane,ne=F.eventTime;if((y&Q)===Q){q!==null&&(q=q.next={eventTime:ne,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var ye=l,Ne=F;switch(Q=c,ne=m,Ne.tag){case 1:if(typeof(ye=Ne.payload)=="function"){le=ye.call(ne,le,Q);break e}le=ye;break e;case 3:ye.flags=-65537&ye.flags|128;case 0:if((Q=typeof(ye=Ne.payload)=="function"?ye.call(ne,le,Q):ye)==null)break e;le=i({},le,Q);break e;case 2:Es=!0}}F.callback!==null&&F.lane!==0&&(l.flags|=64,(Q=w.effects)===null?w.effects=[F]:Q.push(F))}else ne={eventTime:ne,lane:Q,tag:F.tag,payload:F.payload,callback:F.callback,next:null},q===null?(W=q=ne,V=le):q=q.next=ne,R|=Q;if((F=F.next)===null){if((F=w.shared.pending)===null)break;F=(Q=F).next,Q.next=null,w.lastBaseUpdate=Q,w.shared.pending=null}}if(q===null&&(V=le),w.baseState=V,w.firstBaseUpdate=W,w.lastBaseUpdate=q,(c=w.shared.interleaved)!==null){w=c;do R|=w.lane,w=w.next;while(w!==c)}else T===null&&(w.shared.lanes=0);Ao|=R,l.lanes=R,l.memoizedState=le}}function y1(l,c,m){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var y=l[c],w=y.callback;if(w!==null){if(y.callback=null,y=m,typeof w!="function")throw Error(s(191,w));w.call(y)}}}var v1=new r.Component().refs;function Km(l,c,m,y){m=(m=m(y,c=l.memoizedState))==null?c:i({},c,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Fh={isMounted:function(l){return!!(l=l._reactInternals)&&A(l)===l},enqueueSetState:function(l,c,m){l=l._reactInternals;var y=vr(),w=Rs(l),T=ji(y,w);T.payload=c,m!=null&&(T.callback=m),(c=Ts(l,T,w))!==null&&(xn(c,l,w,y),Dh(c,l,w))},enqueueReplaceState:function(l,c,m){l=l._reactInternals;var y=vr(),w=Rs(l),T=ji(y,w);T.tag=1,T.payload=c,m!=null&&(T.callback=m),(c=Ts(l,T,w))!==null&&(xn(c,l,w,y),Dh(c,l,w))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var m=vr(),y=Rs(l),w=ji(m,y);w.tag=2,c!=null&&(w.callback=c),(c=Ts(l,w,y))!==null&&(xn(c,l,y,m),Dh(c,l,y))}};function x1(l,c,m,y,w,T,R){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,T,R):!c.prototype||!c.prototype.isPureReactComponent||!Ih(m,y)||!Ih(w,T)}function _1(l,c,m){var y=!1,w=Ss,T=c.contextType;return typeof T=="object"&&T!==null?T=gn(T):(w=Qr(c)?So:mr.current,T=(y=(y=c.contextTypes)!=null)?wa(l,w):Ss),c=new c(m,T),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Fh,l.stateNode=c,c._reactInternals=l,y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=w,l.__reactInternalMemoizedMaskedChildContext=T),c}function w1(l,c,m,y){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,y),c.state!==l&&Fh.enqueueReplaceState(c,c.state,null)}function Qm(l,c,m,y){var w=l.stateNode;w.props=m,w.state=l.memoizedState,w.refs=v1,Ym(l);var T=c.contextType;typeof T=="object"&&T!==null?w.context=gn(T):(T=Qr(c)?So:mr.current,w.context=wa(l,T)),w.state=l.memoizedState,typeof(T=c.getDerivedStateFromProps)=="function"&&(Km(l,c,T,m),w.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&Fh.enqueueReplaceState(w,w.state,null),Lh(l,m,w,y),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308)}function lu(l,c,m){if((l=m.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(s(309));var y=m.stateNode}if(!y)throw Error(s(147,l));var w=y,T=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===T?c.ref:(c=function(R){var F=w.refs;F===v1&&(F=w.refs={}),R===null?delete F[T]:F[T]=R},c._stringRef=T,c)}if(typeof l!="string")throw Error(s(284));if(!m._owner)throw Error(s(290,l))}return l}function Nh(l,c){throw l=Object.prototype.toString.call(c),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function b1(l){return(0,l._init)(l._payload)}function S1(l){function c(Z,U){if(l){var $=Z.deletions;$===null?(Z.deletions=[U],Z.flags|=16):$.push(U)}}function m(Z,U){if(!l)return null;for(;U!==null;)c(Z,U),U=U.sibling;return null}function y(Z,U){for(Z=new Map;U!==null;)U.key!==null?Z.set(U.key,U):Z.set(U.index,U),U=U.sibling;return Z}function w(Z,U){return(Z=Ms(Z,U)).index=0,Z.sibling=null,Z}function T(Z,U,$){return Z.index=$,l?($=Z.alternate)!==null?($=$.index)<U?(Z.flags|=2,U):$:(Z.flags|=2,U):(Z.flags|=1048576,U)}function R(Z){return l&&Z.alternate===null&&(Z.flags|=2),Z}function F(Z,U,$,te){return U===null||U.tag!==6?((U=Ng($,Z.mode,te)).return=Z,U):((U=w(U,$)).return=Z,U)}function V(Z,U,$,te){var be=$.type;return be===h?q(Z,U,$.props.children,te,$.key):U!==null&&(U.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===S&&b1(be)===U.type)?((te=w(U,$.props)).ref=lu(Z,U,$),te.return=Z,te):((te=uf($.type,$.key,$.props,null,Z.mode,te)).ref=lu(Z,U,$),te.return=Z,te)}function W(Z,U,$,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?((U=Og($,Z.mode,te)).return=Z,U):((U=w(U,$.children||[])).return=Z,U)}function q(Z,U,$,te,be){return U===null||U.tag!==7?((U=Mo($,Z.mode,te,be)).return=Z,U):((U=w(U,$)).return=Z,U)}function le(Z,U,$){if(typeof U=="string"&&U!==""||typeof U=="number")return(U=Ng(""+U,Z.mode,$)).return=Z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case a:return($=uf(U.type,U.key,U.props,null,Z.mode,$)).ref=lu(Z,null,U),$.return=Z,$;case u:return(U=Og(U,Z.mode,$)).return=Z,U;case S:return le(Z,(0,U._init)(U._payload),$)}if(ie(U)||P(U))return(U=Mo(U,Z.mode,$,null)).return=Z,U;Nh(Z,U)}return null}function Q(Z,U,$,te){var be=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return be!==null?null:F(Z,U,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case a:return $.key===be?V(Z,U,$,te):null;case u:return $.key===be?W(Z,U,$,te):null;case S:return Q(Z,U,(be=$._init)($._payload),te)}if(ie($)||P($))return be!==null?null:q(Z,U,$,te,null);Nh(Z,$)}return null}function ne(Z,U,$,te,be){if(typeof te=="string"&&te!==""||typeof te=="number")return F(U,Z=Z.get($)||null,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case a:return V(U,Z=Z.get(te.key===null?$:te.key)||null,te,be);case u:return W(U,Z=Z.get(te.key===null?$:te.key)||null,te,be);case S:return ne(Z,U,$,(0,te._init)(te._payload),be)}if(ie(te)||P(te))return q(U,Z=Z.get($)||null,te,be,null);Nh(U,te)}return null}function ye(Z,U,$,te){for(var be=null,Ze=null,ve=U,Ye=U=0,ar=null;ve!==null&&Ye<$.length;Ye++){ve.index>Ye?(ar=ve,ve=null):ar=ve.sibling;var Je=Q(Z,ve,$[Ye],te);if(Je===null){ve===null&&(ve=ar);break}l&&ve&&Je.alternate===null&&c(Z,ve),U=T(Je,U,Ye),Ze===null?be=Je:Ze.sibling=Je,Ze=Je,ve=ar}if(Ye===$.length)return m(Z,ve),ht&&To(Z,Ye),be;if(ve===null){for(;Ye<$.length;Ye++)(ve=le(Z,$[Ye],te))!==null&&(U=T(ve,U,Ye),Ze===null?be=ve:Ze.sibling=ve,Ze=ve);return ht&&To(Z,Ye),be}for(ve=y(Z,ve);Ye<$.length;Ye++)(ar=ne(ve,Z,Ye,$[Ye],te))!==null&&(l&&ar.alternate!==null&&ve.delete(ar.key===null?Ye:ar.key),U=T(ar,U,Ye),Ze===null?be=ar:Ze.sibling=ar,Ze=ar);return l&&ve.forEach(function(ks){return c(Z,ks)}),ht&&To(Z,Ye),be}function Ne(Z,U,$,te){var be=P($);if(typeof be!="function")throw Error(s(150));if(($=be.call($))==null)throw Error(s(151));for(var Ze=be=null,ve=U,Ye=U=0,ar=null,Je=$.next();ve!==null&&!Je.done;Ye++,Je=$.next()){ve.index>Ye?(ar=ve,ve=null):ar=ve.sibling;var ks=Q(Z,ve,Je.value,te);if(ks===null){ve===null&&(ve=ar);break}l&&ve&&ks.alternate===null&&c(Z,ve),U=T(ks,U,Ye),Ze===null?be=ks:Ze.sibling=ks,Ze=ks,ve=ar}if(Je.done)return m(Z,ve),ht&&To(Z,Ye),be;if(ve===null){for(;!Je.done;Ye++,Je=$.next())(Je=le(Z,Je.value,te))!==null&&(U=T(Je,U,Ye),Ze===null?be=Je:Ze.sibling=Je,Ze=Je);return ht&&To(Z,Ye),be}for(ve=y(Z,ve);!Je.done;Ye++,Je=$.next())(Je=ne(ve,Z,Ye,Je.value,te))!==null&&(l&&Je.alternate!==null&&ve.delete(Je.key===null?Ye:Je.key),U=T(Je,U,Ye),Ze===null?be=Je:Ze.sibling=Je,Ze=Je);return l&&ve.forEach(function(F2){return c(Z,F2)}),ht&&To(Z,Ye),be}return function Z(U,$,te,be){if(typeof te=="object"&&te!==null&&te.type===h&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case a:e:{for(var Ze=te.key,ve=$;ve!==null;){if(ve.key===Ze){if((Ze=te.type)===h){if(ve.tag===7){m(U,ve.sibling),($=w(ve,te.props.children)).return=U,U=$;break e}}else if(ve.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===S&&b1(Ze)===ve.type){m(U,ve.sibling),($=w(ve,te.props)).ref=lu(U,ve,te),$.return=U,U=$;break e}m(U,ve);break}c(U,ve),ve=ve.sibling}te.type===h?(($=Mo(te.props.children,U.mode,be,te.key)).return=U,U=$):((be=uf(te.type,te.key,te.props,null,U.mode,be)).ref=lu(U,$,te),be.return=U,U=be)}return R(U);case u:e:{for(ve=te.key;$!==null;){if($.key===ve){if($.tag===4&&$.stateNode.containerInfo===te.containerInfo&&$.stateNode.implementation===te.implementation){m(U,$.sibling),($=w($,te.children||[])).return=U,U=$;break e}m(U,$);break}c(U,$),$=$.sibling}($=Og(te,U.mode,be)).return=U,U=$}return R(U);case S:return Z(U,$,(ve=te._init)(te._payload),be)}if(ie(te))return ye(U,$,te,be);if(P(te))return Ne(U,$,te,be);Nh(U,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,$!==null&&$.tag===6?(m(U,$.sibling),($=w($,te)).return=U,U=$):(m(U,$),($=Ng(te,U.mode,be)).return=U,U=$),R(U)):m(U,$)}}var Pa=S1(!0),E1=S1(!1),uu={},yn=bs(uu),cu=bs(uu),Aa=bs(uu);function mi(l){if(l===uu)throw Error(s(174));return l}function qm(l,c){st(Aa,c),st(cu,l),st(yn,uu),l=ee(c),ct(yn),st(yn,l)}function Ra(){ct(yn),ct(cu),ct(Aa)}function T1(l){var c=mi(Aa.current),m=mi(yn.current);m!==(c=B(m,l.type,c))&&(st(cu,l),st(yn,c))}function Zm(l){cu.current===l&&(ct(yn),ct(cu))}var At=bs(0);function Oh(l){for(var c=l;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&((m=m.dehydrated)===null||fn(m)||_s(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(128&c.flags)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Jm=[];function eg(){for(var l=0;l<Jm.length;l++){var c=Jm[l];tt?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}Jm.length=0}var Bh=o.ReactCurrentDispatcher,tg=o.ReactCurrentBatchConfig,Po=0,xt=null,qt=null,Zt=null,Uh=!1,hu=!1,fu=0,f2=0;function gr(){throw Error(s(321))}function rg(l,c){if(c===null)return!1;for(var m=0;m<c.length&&m<l.length;m++)if(!Ln(l[m],c[m]))return!1;return!0}function ng(l,c,m,y,w,T){if(Po=T,xt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Bh.current=l===null||l.memoizedState===null?g2:y2,l=m(y,w),hu){T=0;do{if(hu=!1,fu=0,25<=T)throw Error(s(301));T+=1,Zt=qt=null,c.updateQueue=null,Bh.current=v2,l=m(y,w)}while(hu)}if(Bh.current=jh,c=qt!==null&&qt.next!==null,Po=0,Zt=qt=xt=null,Uh=!1,c)throw Error(s(300));return l}function ig(){var l=fu!==0;return fu=0,l}function gi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?xt.memoizedState=Zt=l:Zt=Zt.next=l,Zt}function vn(){if(qt===null){var l=xt.alternate;l=l!==null?l.memoizedState:null}else l=qt.next;var c=Zt===null?xt.memoizedState:Zt.next;if(c!==null)Zt=c,qt=l;else{if(l===null)throw Error(s(310));l={memoizedState:(qt=l).memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Zt===null?xt.memoizedState=Zt=l:Zt=Zt.next=l}return Zt}function du(l,c){return typeof c=="function"?c(l):c}function sg(l){var c=vn(),m=c.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var y=qt,w=y.baseQueue,T=m.pending;if(T!==null){if(w!==null){var R=w.next;w.next=T.next,T.next=R}y.baseQueue=w=T,m.pending=null}if(w!==null){T=w.next,y=y.baseState;var F=R=null,V=null,W=T;do{var q=W.lane;if((Po&q)===q)V!==null&&(V=V.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),y=W.hasEagerState?W.eagerState:l(y,W.action);else{var le={lane:q,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};V===null?(F=V=le,R=y):V=V.next=le,xt.lanes|=q,Ao|=q}W=W.next}while(W!==null&&W!==T);V===null?R=y:V.next=F,Ln(y,c.memoizedState)||(Br=!0),c.memoizedState=y,c.baseState=R,c.baseQueue=V,m.lastRenderedState=y}if((l=m.interleaved)!==null){w=l;do T=w.lane,xt.lanes|=T,Ao|=T,w=w.next;while(w!==l)}else w===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function og(l){var c=vn(),m=c.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var y=m.dispatch,w=m.pending,T=c.memoizedState;if(w!==null){m.pending=null;var R=w=w.next;do T=l(T,R.action),R=R.next;while(R!==w);Ln(T,c.memoizedState)||(Br=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),m.lastRenderedState=T}return[T,y]}function C1(){}function P1(l,c){var m=xt,y=vn(),w=c(),T=!Ln(y.memoizedState,w);if(T&&(y.memoizedState=w,Br=!0),y=y.queue,ag(I1.bind(null,m,y,l),[l]),y.getSnapshot!==c||T||Zt!==null&&1&Zt.memoizedState.tag){if(m.flags|=2048,pu(9,R1.bind(null,m,y,w,c),void 0,null),Jt===null)throw Error(s(349));30&Po||A1(m,c,w)}return w}function A1(l,c,m){l.flags|=16384,l={getSnapshot:c,value:m},(c=xt.updateQueue)===null?(c={lastEffect:null,stores:null},xt.updateQueue=c,c.stores=[l]):(m=c.stores)===null?c.stores=[l]:m.push(l)}function R1(l,c,m,y){c.value=m,c.getSnapshot=y,M1(c)&&k1(l)}function I1(l,c,m){return m(function(){M1(c)&&k1(l)})}function M1(l){var c=l.getSnapshot;l=l.value;try{var m=c();return!Ln(l,m)}catch{return!0}}function k1(l){var c=pi(l,1);c!==null&&xn(c,l,1,-1)}function D1(l){var c=gi();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:l},c.queue=l,l=l.dispatch=m2.bind(null,xt,l),[c.memoizedState,l]}function pu(l,c,m,y){return l={tag:l,create:c,destroy:m,deps:y,next:null},(c=xt.updateQueue)===null?(c={lastEffect:null,stores:null},xt.updateQueue=c,c.lastEffect=l.next=l):(m=c.lastEffect)===null?c.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,c.lastEffect=l),l}function L1(){return vn().memoizedState}function zh(l,c,m,y){var w=gi();xt.flags|=l,w.memoizedState=pu(1|c,m,void 0,y===void 0?null:y)}function Vh(l,c,m,y){var w=vn();y=y===void 0?null:y;var T=void 0;if(qt!==null){var R=qt.memoizedState;if(T=R.destroy,y!==null&&rg(y,R.deps))return void(w.memoizedState=pu(c,m,T,y))}xt.flags|=l,w.memoizedState=pu(1|c,m,T,y)}function F1(l,c){return zh(8390656,8,l,c)}function ag(l,c){return Vh(2048,8,l,c)}function N1(l,c){return Vh(4,2,l,c)}function O1(l,c){return Vh(4,4,l,c)}function B1(l,c){return typeof c=="function"?(l=l(),c(l),function(){c(null)}):c!=null?(l=l(),c.current=l,function(){c.current=null}):void 0}function U1(l,c,m){return m=m!=null?m.concat([l]):null,Vh(4,4,B1.bind(null,c,l),m)}function lg(){}function z1(l,c){var m=vn();c=c===void 0?null:c;var y=m.memoizedState;return y!==null&&c!==null&&rg(c,y[1])?y[0]:(m.memoizedState=[l,c],l)}function V1(l,c){var m=vn();c=c===void 0?null:c;var y=m.memoizedState;return y!==null&&c!==null&&rg(c,y[1])?y[0]:(l=l(),m.memoizedState=[l,c],l)}function j1(l,c,m){return 21&Po?(Ln(m,c)||(m=n1(),xt.lanes|=m,Ao|=m,l.baseState=!0),c):(l.baseState&&(l.baseState=!1,Br=!0),l.memoizedState=m)}function d2(l,c){var m=Xe;Xe=m!==0&&4>m?m:4,l(!0);var y=tg.transition;tg.transition={};try{l(!1),c()}finally{Xe=m,tg.transition=y}}function G1(){return vn().memoizedState}function p2(l,c,m){var y=Rs(l);m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},H1(l)?$1(c,m):(m=p1(l,c,m,y))!==null&&(xn(m,l,y,vr()),W1(m,c,y))}function m2(l,c,m){var y=Rs(l),w={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(H1(l))$1(c,w);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer)!==null)try{var R=c.lastRenderedState,F=T(R,m);if(w.hasEagerState=!0,w.eagerState=F,Ln(F,R)){var V=c.interleaved;return V===null?(w.next=w,Xm(c)):(w.next=V.next,V.next=w),void(c.interleaved=w)}}catch{}(m=p1(l,c,w,y))!==null&&(xn(m,l,y,w=vr()),W1(m,c,y))}}function H1(l){var c=l.alternate;return l===xt||c!==null&&c===xt}function $1(l,c){hu=Uh=!0;var m=l.pending;m===null?c.next=c:(c.next=m.next,m.next=c),l.pending=c}function W1(l,c,m){if(4194240&m){var y=c.lanes;m|=y&=l.pendingLanes,c.lanes=m,Lm(l,m)}}var jh={readContext:gn,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},g2={readContext:gn,useCallback:function(l,c){return gi().memoizedState=[l,c===void 0?null:c],l},useContext:gn,useEffect:F1,useImperativeHandle:function(l,c,m){return m=m!=null?m.concat([l]):null,zh(4194308,4,B1.bind(null,c,l),m)},useLayoutEffect:function(l,c){return zh(4194308,4,l,c)},useInsertionEffect:function(l,c){return zh(4,2,l,c)},useMemo:function(l,c){var m=gi();return c=c===void 0?null:c,l=l(),m.memoizedState=[l,c],l},useReducer:function(l,c,m){var y=gi();return c=m!==void 0?m(c):c,y.memoizedState=y.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},y.queue=l,l=l.dispatch=p2.bind(null,xt,l),[y.memoizedState,l]},useRef:function(l){return l={current:l},gi().memoizedState=l},useState:D1,useDebugValue:lg,useDeferredValue:function(l){return gi().memoizedState=l},useTransition:function(){var l=D1(!1),c=l[0];return l=d2.bind(null,l[1]),gi().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,m){var y=xt,w=gi();if(ht){if(m===void 0)throw Error(s(407));m=m()}else{if(m=c(),Jt===null)throw Error(s(349));30&Po||A1(y,c,m)}w.memoizedState=m;var T={value:m,getSnapshot:c};return w.queue=T,F1(I1.bind(null,y,T,l),[l]),y.flags|=2048,pu(9,R1.bind(null,y,T,m,c),void 0,null),m},useId:function(){var l=gi(),c=Jt.identifierPrefix;if(ht){var m=Vi;c=":"+c+"R"+(m=(di&~(1<<32-Dn(di)-1)).toString(32)+m),0<(m=fu++)&&(c+="H"+m.toString(32)),c+=":"}else c=":"+c+"r"+(m=f2++).toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},y2={readContext:gn,useCallback:z1,useContext:gn,useEffect:ag,useImperativeHandle:U1,useInsertionEffect:N1,useLayoutEffect:O1,useMemo:V1,useReducer:sg,useRef:L1,useState:function(){return sg(du)},useDebugValue:lg,useDeferredValue:function(l){return j1(vn(),qt.memoizedState,l)},useTransition:function(){return[sg(du)[0],vn().memoizedState]},useMutableSource:C1,useSyncExternalStore:P1,useId:G1,unstable_isNewReconciler:!1},v2={readContext:gn,useCallback:z1,useContext:gn,useEffect:ag,useImperativeHandle:U1,useInsertionEffect:N1,useLayoutEffect:O1,useMemo:V1,useReducer:og,useRef:L1,useState:function(){return og(du)},useDebugValue:lg,useDeferredValue:function(l){var c=vn();return qt===null?c.memoizedState=l:j1(c,qt.memoizedState,l)},useTransition:function(){return[og(du)[0],vn().memoizedState]},useMutableSource:C1,useSyncExternalStore:P1,useId:G1,unstable_isNewReconciler:!1};function Ia(l,c){try{var m="",y=c;do m+=h2(y),y=y.return;while(y);var w=m}catch(T){w=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:c,stack:w,digest:null}}function ug(l,c,m){return{value:l,source:null,stack:m??null,digest:c??null}}function cg(l,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var x2=typeof WeakMap=="function"?WeakMap:Map;function X1(l,c,m){(m=ji(-1,m)).tag=3,m.payload={element:null};var y=c.value;return m.callback=function(){rf||(rf=!0,Rg=y),cg(0,c)},m}function Y1(l,c,m){(m=ji(-1,m)).tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var w=c.value;m.payload=function(){return y(w)},m.callback=function(){cg(0,c)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){cg(0,c),typeof y!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})}),m}function K1(l,c,m){var y=l.pingCache;if(y===null){y=l.pingCache=new x2;var w=new Set;y.set(c,w)}else(w=y.get(c))===void 0&&(w=new Set,y.set(c,w));w.has(m)||(w.add(m),l=A2.bind(null,l,c,m),c.then(l,l))}function Q1(l){do{var c;if((c=l.tag===13)&&(c=(c=l.memoizedState)===null||c.dehydrated!==null),c)return l;l=l.return}while(l!==null);return null}function q1(l,c,m,y,w){return 1&l.mode?(l.flags|=65536,l.lanes=w,l):(l===c?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((c=ji(-1,1)).tag=2,Ts(m,c,1))),m.lanes|=1),l)}var _2=o.ReactCurrentOwner,Br=!1;function Ur(l,c,m,y){c.child=l===null?E1(c,null,m,y):Pa(c,l.child,m,y)}function Z1(l,c,m,y,w){m=m.render;var T=c.ref;return Ca(c,w),y=ng(l,c,m,y,T,w),m=ig(),l===null||Br?(ht&&m&&Bm(c),c.flags|=1,Ur(l,c,y,w),c.child):(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~w,Gi(l,c,w))}function J1(l,c,m,y,w){if(l===null){var T=m.type;return typeof T!="function"||Fg(T)||T.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((l=uf(m.type,null,y,c,c.mode,w)).ref=c.ref,l.return=c,c.child=l):(c.tag=15,c.type=T,ew(l,c,T,y,w))}if(T=l.child,(l.lanes&w)==0){var R=T.memoizedProps;if((m=(m=m.compare)!==null?m:Ih)(R,y)&&l.ref===c.ref)return Gi(l,c,w)}return c.flags|=1,(l=Ms(T,y)).ref=c.ref,l.return=c,c.child=l}function ew(l,c,m,y,w){if(l!==null){var T=l.memoizedProps;if(Ih(T,y)&&l.ref===c.ref){if(Br=!1,c.pendingProps=y=T,(l.lanes&w)==0)return c.lanes=l.lanes,Gi(l,c,w);131072&l.flags&&(Br=!0)}}return hg(l,c,m,y,w)}function tw(l,c,m){var y=c.pendingProps,w=y.children,T=l!==null?l.memoizedState:null;if(y.mode==="hidden")if(!(1&c.mode))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ka,Zr),Zr|=m;else{if(!(1073741824&m))return l=T!==null?T.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,st(ka,Zr),Zr|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=T!==null?T.baseLanes:m,st(ka,Zr),Zr|=y}else T!==null?(y=T.baseLanes|m,c.memoizedState=null):y=m,st(ka,Zr),Zr|=y;return Ur(l,c,w,m),c.child}function rw(l,c){var m=c.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function hg(l,c,m,y,w){var T=Qr(m)?So:mr.current;return T=wa(c,T),Ca(c,w),m=ng(l,c,m,y,T,w),y=ig(),l===null||Br?(ht&&y&&Bm(c),c.flags|=1,Ur(l,c,m,w),c.child):(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~w,Gi(l,c,w))}function nw(l,c,m,y,w){if(Qr(m)){var T=!0;Sh(c)}else T=!1;if(Ca(c,w),c.stateNode===null)Wh(l,c),_1(c,m,y),Qm(c,m,y,w),y=!0;else if(l===null){var R=c.stateNode,F=c.memoizedProps;R.props=F;var V=R.context,W=m.contextType;typeof W=="object"&&W!==null?W=gn(W):W=wa(c,W=Qr(m)?So:mr.current);var q=m.getDerivedStateFromProps,le=typeof q=="function"||typeof R.getSnapshotBeforeUpdate=="function";le||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(F!==y||V!==W)&&w1(c,R,y,W),Es=!1;var Q=c.memoizedState;R.state=Q,Lh(c,y,R,w),V=c.memoizedState,F!==y||Q!==V||Or.current||Es?(typeof q=="function"&&(Km(c,m,q,y),V=c.memoizedState),(F=Es||x1(c,m,F,y,Q,V,W))?(le||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=V),R.props=y,R.state=V,R.context=W,y=F):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{R=c.stateNode,m1(l,c),F=c.memoizedProps,W=c.type===c.elementType?F:Nn(c.type,F),R.props=W,le=c.pendingProps,Q=R.context,typeof(V=m.contextType)=="object"&&V!==null?V=gn(V):V=wa(c,V=Qr(m)?So:mr.current);var ne=m.getDerivedStateFromProps;(q=typeof ne=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(F!==le||Q!==V)&&w1(c,R,y,V),Es=!1,Q=c.memoizedState,R.state=Q,Lh(c,y,R,w);var ye=c.memoizedState;F!==le||Q!==ye||Or.current||Es?(typeof ne=="function"&&(Km(c,m,ne,y),ye=c.memoizedState),(W=Es||x1(c,m,W,y,Q,ye,V)||!1)?(q||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(y,ye,V),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(y,ye,V)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||F===l.memoizedProps&&Q===l.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||F===l.memoizedProps&&Q===l.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=ye),R.props=y,R.state=ye,R.context=V,y=W):(typeof R.componentDidUpdate!="function"||F===l.memoizedProps&&Q===l.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||F===l.memoizedProps&&Q===l.memoizedState||(c.flags|=1024),y=!1)}return fg(l,c,m,y,T,w)}function fg(l,c,m,y,w,T){rw(l,c);var R=(128&c.flags)!=0;if(!y&&!R)return w&&r1(c,m,!1),Gi(l,c,T);y=c.stateNode,_2.current=c;var F=R&&typeof m.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,l!==null&&R?(c.child=Pa(c,l.child,null,T),c.child=Pa(c,null,F,T)):Ur(l,c,F,T),c.memoizedState=y.state,w&&r1(c,m,!0),c.child}function iw(l){var c=l.stateNode;c.pendingContext?e1(0,c.pendingContext,c.pendingContext!==c.context):c.context&&e1(0,c.context,!1),qm(l,c.containerInfo)}function sw(l,c,m,y,w){return Ea(),jm(w),c.flags|=256,Ur(l,c,m,y),c.child}var mu,gu,Gh,Hh,dg={dehydrated:null,treeContext:null,retryLane:0};function pg(l){return{baseLanes:l,cachePool:null,transitions:null}}function ow(l,c,m){var y,w=c.pendingProps,T=At.current,R=!1,F=(128&c.flags)!=0;if((y=F)||(y=(l===null||l.memoizedState!==null)&&(2&T)!=0),y?(R=!0,c.flags&=-129):l!==null&&l.memoizedState===null||(T|=1),st(At,1&T),l===null)return Vm(c),(l=c.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&c.mode?_s(l)?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(F=w.children,l=w.fallback,R?(w=c.mode,R=c.child,F={mode:"hidden",children:F},!(1&w)&&R!==null?(R.childLanes=0,R.pendingProps=F):R=cf(F,w,0,null),l=Mo(l,w,m,null),R.return=c,l.return=c,R.sibling=l,c.child=R,c.child.memoizedState=pg(m),c.memoizedState=dg,l):mg(c,F));if((T=l.memoizedState)!==null&&(y=T.dehydrated)!==null)return function(W,q,le,Q,ne,ye,Ne){if(le)return 256&q.flags?(q.flags&=-257,$h(W,q,Ne,Q=ug(Error(s(422))))):q.memoizedState!==null?(q.child=W.child,q.flags|=128,null):(ye=Q.fallback,ne=q.mode,Q=cf({mode:"visible",children:Q.children},ne,0,null),(ye=Mo(ye,ne,Ne,null)).flags|=2,Q.return=q,ye.return=q,Q.sibling=ye,q.child=Q,1&q.mode&&Pa(q,W.child,null,Ne),q.child.memoizedState=pg(Ne),q.memoizedState=dg,ye);if(!(1&q.mode))return $h(W,q,Ne,null);if(_s(ne))return Q=tu(ne).digest,ye=Error(s(419)),Q=ug(ye,Q,void 0),$h(W,q,Ne,Q);if(le=(Ne&W.childLanes)!=0,Br||le){if((Q=Jt)!==null){switch(Ne&-Ne){case 4:ne=2;break;case 16:ne=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ne=32;break;case 536870912:ne=268435456;break;default:ne=0}(ne=ne&(Q.suspendedLanes|Ne)?0:ne)!==0&&ne!==ye.retryLane&&(ye.retryLane=ne,pi(W,ne),xn(Q,W,ne,-1))}return Lg(),$h(W,q,Ne,Q=ug(Error(s(421))))}return fn(ne)?(q.flags|=128,q.child=W.child,q=R2.bind(null,W),ru(ne,q),null):(W=ye.treeContext,Oe&&(mn=ci(ne),qr=q,ht=!0,Fn=null,au=!1,W!==null&&(dn[pn++]=di,dn[pn++]=Vi,dn[pn++]=Eo,di=W.id,Vi=W.overflow,Eo=q)),q=mg(q,Q.children),q.flags|=4096,q)}(l,c,F,w,y,T,m);if(R){R=w.fallback,F=c.mode,y=(T=l.child).sibling;var V={mode:"hidden",children:w.children};return!(1&F)&&c.child!==T?((w=c.child).childLanes=0,w.pendingProps=V,c.deletions=null):(w=Ms(T,V)).subtreeFlags=14680064&T.subtreeFlags,y!==null?R=Ms(y,R):(R=Mo(R,F,m,null)).flags|=2,R.return=c,w.return=c,w.sibling=R,c.child=w,w=R,R=c.child,F=(F=l.child.memoizedState)===null?pg(m):{baseLanes:F.baseLanes|m,cachePool:null,transitions:F.transitions},R.memoizedState=F,R.childLanes=l.childLanes&~m,c.memoizedState=dg,w}return l=(R=l.child).sibling,w=Ms(R,{mode:"visible",children:w.children}),!(1&c.mode)&&(w.lanes=m),w.return=c,w.sibling=null,l!==null&&((m=c.deletions)===null?(c.deletions=[l],c.flags|=16):m.push(l)),c.child=w,c.memoizedState=null,w}function mg(l,c){return(c=cf({mode:"visible",children:c},l.mode,0,null)).return=l,l.child=c}function $h(l,c,m,y){return y!==null&&jm(y),Pa(c,l.child,null,m),(l=mg(c,c.pendingProps.children)).flags|=2,c.memoizedState=null,l}function aw(l,c,m){l.lanes|=c;var y=l.alternate;y!==null&&(y.lanes|=c),Wm(l.return,c,m)}function gg(l,c,m,y,w){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:w}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=y,T.tail=m,T.tailMode=w)}function lw(l,c,m){var y=c.pendingProps,w=y.revealOrder,T=y.tail;if(Ur(l,c,y.children,m),(2&(y=At.current))!=0)y=1&y|2,c.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&aw(l,m,c);else if(l.tag===19)aw(l,m,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(st(At,y),(1&c.mode)==0)c.memoizedState=null;else switch(w){case"forwards":for(m=c.child,w=null;m!==null;)(l=m.alternate)!==null&&Oh(l)===null&&(w=m),m=m.sibling;(m=w)===null?(w=c.child,c.child=null):(w=m.sibling,m.sibling=null),gg(c,!1,w,m,T);break;case"backwards":for(m=null,w=c.child,c.child=null;w!==null;){if((l=w.alternate)!==null&&Oh(l)===null){c.child=w;break}l=w.sibling,w.sibling=m,m=w,w=l}gg(c,!0,m,null,T);break;case"together":gg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Wh(l,c){!(1&c.mode)&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function Gi(l,c,m){if(l!==null&&(c.dependencies=l.dependencies),Ao|=c.lanes,(m&c.childLanes)==0)return null;if(l!==null&&c.child!==l.child)throw Error(s(153));if(c.child!==null){for(m=Ms(l=c.child,l.pendingProps),c.child=m,m.return=c;l.sibling!==null;)l=l.sibling,(m=m.sibling=Ms(l,l.pendingProps)).return=c;m.sibling=null}return c.child}function yi(l){l.flags|=4}function uw(l,c){if(l!==null&&l.child===c.child)return!0;if(16&c.flags)return!1;for(l=c.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Pe)mu=function(l,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)se(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},gu=function(){},Gh=function(l,c,m,y,w){if((l=l.memoizedProps)!==y){var T=c.stateNode,R=mi(yn.current);m=fe(T,m,l,y,w,R),(c.updateQueue=m)&&yi(c)}},Hh=function(l,c,m,y){m!==y&&yi(c)};else if(Qe){mu=function(l,c,m,y){for(var w=c.child;w!==null;){if(w.tag===5){var T=w.stateNode;m&&y&&(T=li(T,w.type,w.memoizedProps,w)),se(l,T)}else if(w.tag===6)T=w.stateNode,m&&y&&(T=ui(T,w.memoizedProps,w)),se(l,T);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)(T=w.child)!==null&&(T.return=w),mu(l,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var cw=function(l,c,m,y){for(var w=c.child;w!==null;){if(w.tag===5){var T=w.stateNode;m&&y&&(T=li(T,w.type,w.memoizedProps,w)),Ke(l,T)}else if(w.tag===6)T=w.stateNode,m&&y&&(T=ui(T,w.memoizedProps,w)),Ke(l,T);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)(T=w.child)!==null&&(T.return=w),cw(l,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};gu=function(l,c){var m=c.stateNode;if(!uw(l,c)){l=m.containerInfo;var y=Gt(l);cw(y,c,!1,!1),m.pendingChildren=y,yi(c),vt(l,y)}},Gh=function(l,c,m,y,w){var T=l.stateNode,R=l.memoizedProps;if((l=uw(l,c))&&R===y)c.stateNode=T;else{var F=c.stateNode,V=mi(yn.current),W=null;R!==y&&(W=fe(F,m,R,y,w,V)),l&&W===null?c.stateNode=T:(T=it(T,W,m,R,y,c,l,F),Ce(T,m,y,w,V)&&yi(c),c.stateNode=T,l?yi(c):mu(T,c,!1,!1))}},Hh=function(l,c,m,y){m!==y?(l=mi(Aa.current),m=mi(yn.current),c.stateNode=Re(y,l,m,c),yi(c)):c.stateNode=l.stateNode}}else gu=function(){},Gh=function(){},Hh=function(){};function yu(l,c){if(!ht)switch(l.tailMode){case"hidden":c=l.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Ar(l){var c=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(c)for(var w=l.child;w!==null;)m|=w.lanes|w.childLanes,y|=14680064&w.subtreeFlags,y|=14680064&w.flags,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)m|=w.lanes|w.childLanes,y|=w.subtreeFlags,y|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=y,l.childLanes=m,c}function w2(l,c,m){var y=c.pendingProps;switch(Um(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(c),null;case 1:case 17:return Qr(c.type)&&Rm(),Ar(c),null;case 3:return m=c.stateNode,Ra(),ct(Or),ct(mr),eg(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),l!==null&&l.child!==null||(Rh(c)?yi(c):l===null||l.memoizedState.isDehydrated&&!(256&c.flags)||(c.flags|=1024,Fn!==null&&(kg(Fn),Fn=null))),gu(l,c),Ar(c),null;case 5:Zm(c),m=mi(Aa.current);var w=c.type;if(l!==null&&c.stateNode!=null)Gh(l,c,w,y,m),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(s(166));return Ar(c),null}if(l=mi(yn.current),Rh(c)){if(!Oe)throw Error(s(175));l=nu(c.stateNode,c.type,c.memoizedProps,m,l,c,!au),c.updateQueue=l,l!==null&&yi(c)}else{var T=Y(w,y,m,l,c);mu(T,c,!1,!1),c.stateNode=T,Ce(T,w,y,m,l)&&yi(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Ar(c),null;case 6:if(l&&c.stateNode!=null)Hh(l,c,l.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(s(166));if(l=mi(Aa.current),m=mi(yn.current),Rh(c)){if(!Oe)throw Error(s(176));if(l=c.stateNode,m=c.memoizedProps,(y=kt(l,m,c,!au))&&(w=qr)!==null)switch(w.tag){case 3:e2(w.stateNode.containerInfo,l,m,(1&w.mode)!=0);break;case 5:t2(w.type,w.memoizedProps,w.stateNode,l,m,(1&w.mode)!=0)}y&&yi(c)}else c.stateNode=Re(y,l,m,c)}return Ar(c),null;case 13:if(ct(At),y=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(ht&&mn!==null&&1&c.mode&&!(128&c.flags))f1(),Ea(),c.flags|=98560,w=!1;else if(w=Rh(c),y!==null&&y.dehydrated!==null){if(l===null){if(!w)throw Error(s(318));if(!Oe)throw Error(s(344));if(!(w=(w=c.memoizedState)!==null?w.dehydrated:null))throw Error(s(317));bo(w,c)}else Ea(),!(128&c.flags)&&(c.memoizedState=null),c.flags|=4;Ar(c),w=!1}else Fn!==null&&(kg(Fn),Fn=null),w=!0;if(!w)return 65536&c.flags?c:null}return 128&c.flags?(c.lanes=m,c):((m=y!==null)!=(l!==null&&l.memoizedState!==null)&&m&&(c.child.flags|=8192,1&c.mode&&(l===null||1&At.current?Ht===0&&(Ht=3):Lg())),c.updateQueue!==null&&(c.flags|=4),Ar(c),null);case 4:return Ra(),gu(l,c),l===null&&Kt(c.stateNode.containerInfo),Ar(c),null;case 10:return $m(c.type._context),Ar(c),null;case 19:if(ct(At),(w=c.memoizedState)===null)return Ar(c),null;if(y=(128&c.flags)!=0,(T=w.rendering)===null)if(y)yu(w,!1);else{if(Ht!==0||l!==null&&128&l.flags)for(l=c.child;l!==null;){if((T=Oh(l))!==null){for(c.flags|=128,yu(w,!1),(l=T.updateQueue)!==null&&(c.updateQueue=l,c.flags|=4),c.subtreeFlags=0,l=m,m=c.child;m!==null;)w=l,(y=m).flags&=14680066,(T=y.alternate)===null?(y.childLanes=0,y.lanes=w,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,w=T.dependencies,y.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),m=m.sibling;return st(At,1&At.current|2),c.child}l=l.sibling}w.tail!==null&&Qt()>Ag&&(c.flags|=128,y=!0,yu(w,!1),c.lanes=4194304)}else{if(!y)if((l=Oh(T))!==null){if(c.flags|=128,y=!0,(l=l.updateQueue)!==null&&(c.updateQueue=l,c.flags|=4),yu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!ht)return Ar(c),null}else 2*Qt()-w.renderingStartTime>Ag&&m!==1073741824&&(c.flags|=128,y=!0,yu(w,!1),c.lanes=4194304);w.isBackwards?(T.sibling=c.child,c.child=T):((l=w.last)!==null?l.sibling=T:c.child=T,w.last=T)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=Qt(),c.sibling=null,l=At.current,st(At,y?1&l|2:1&l),c):(Ar(c),null);case 22:case 23:return Dg(),m=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(c.flags|=8192),m&&1&c.mode?1073741824&Zr&&(Ar(c),Pe&&6&c.subtreeFlags&&(c.flags|=8192)):Ar(c),null;case 24:case 25:return null}throw Error(s(156,c.tag))}function b2(l,c){switch(Um(c),c.tag){case 1:return Qr(c.type)&&Rm(),65536&(l=c.flags)?(c.flags=-65537&l|128,c):null;case 3:return Ra(),ct(Or),ct(mr),eg(),65536&(l=c.flags)&&!(128&l)?(c.flags=-65537&l|128,c):null;case 5:return Zm(c),null;case 13:if(ct(At),(l=c.memoizedState)!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(s(340));Ea()}return 65536&(l=c.flags)?(c.flags=-65537&l|128,c):null;case 19:return ct(At),null;case 4:return Ra(),null;case 10:return $m(c.type._context),null;case 22:case 23:return Dg(),null;default:return null}}var Xh=!1,yr=!1,S2=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ma(l,c){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){ft(l,c,y)}else m.current=null}function hw(l,c,m){try{m()}catch(y){ft(l,c,y)}}var fw=!1;function vu(l,c,m){var y=c.updateQueue;if((y=y!==null?y.lastEffect:null)!==null){var w=y=y.next;do{if((w.tag&l)===l){var T=w.destroy;w.destroy=void 0,T!==void 0&&hw(c,m,T)}w=w.next}while(w!==y)}}function Yh(l,c){if((c=(c=c.updateQueue)!==null?c.lastEffect:null)!==null){var m=c=c.next;do{if((m.tag&l)===l){var y=m.create;m.destroy=y()}m=m.next}while(m!==c)}}function yg(l){var c=l.ref;if(c!==null){var m=l.stateNode;l.tag===5?l=ae(m):l=m,typeof c=="function"?c(l):c.current=l}}function dw(l){var c=l.alternate;c!==null&&(l.alternate=null,dw(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode)!==null&&xo(c),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function pw(l){return l.tag===5||l.tag===3||l.tag===4}function mw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||pw(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function vg(l,c,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?j(m,l,c):bm(m,l);else if(y!==4&&(l=l.child)!==null)for(vg(l,c,m),l=l.sibling;l!==null;)vg(l,c,m),l=l.sibling}function xg(l,c,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?Em(m,l,c):Jl(m,l);else if(y!==4&&(l=l.child)!==null)for(xg(l,c,m),l=l.sibling;l!==null;)xg(l,c,m),l=l.sibling}var Rr=null,vi=!1;function xi(l,c,m){for(m=m.child;m!==null;)_g(l,c,m),m=m.sibling}function _g(l,c,m){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(Th,m)}catch{}switch(m.tag){case 5:yr||Ma(m,c);case 6:if(Pe){var y=Rr,w=vi;Rr=null,xi(l,c,m),vi=w,(Rr=y)!==null&&(vi?J(Rr,m.stateNode):H(Rr,m.stateNode))}else xi(l,c,m);break;case 18:Pe&&Rr!==null&&(vi?ZM(Rr,m.stateNode):qM(Rr,m.stateNode));break;case 4:Pe?(y=Rr,w=vi,Rr=m.stateNode.containerInfo,vi=!0,xi(l,c,m),Rr=y,vi=w):(Qe&&(y=m.stateNode.containerInfo,w=Gt(y),Pt(y,w)),xi(l,c,m));break;case 0:case 11:case 14:case 15:if(!yr&&(y=m.updateQueue)!==null&&(y=y.lastEffect)!==null){w=y=y.next;do{var T=w,R=T.destroy;T=T.tag,R!==void 0&&(2&T||4&T)&&hw(m,c,R),w=w.next}while(w!==y)}xi(l,c,m);break;case 1:if(!yr&&(Ma(m,c),typeof(y=m.stateNode).componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(F){ft(m,c,F)}xi(l,c,m);break;case 21:xi(l,c,m);break;case 22:1&m.mode?(yr=(y=yr)||m.memoizedState!==null,xi(l,c,m),yr=y):xi(l,c,m);break;default:xi(l,c,m)}}function gw(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new S2),c.forEach(function(y){var w=I2.bind(null,l,y);m.has(y)||(m.add(y),y.then(w,w))})}}function On(l,c){var m=c.deletions;if(m!==null)for(var y=0;y<m.length;y++){var w=m[y];try{var T=l,R=c;if(Pe){var F=R;e:for(;F!==null;){switch(F.tag){case 5:Rr=F.stateNode,vi=!1;break e;case 3:case 4:Rr=F.stateNode.containerInfo,vi=!0;break e}F=F.return}if(Rr===null)throw Error(s(160));_g(T,R,w),Rr=null,vi=!1}else _g(T,R,w);var V=w.alternate;V!==null&&(V.return=null),w.return=null}catch(W){ft(w,c,W)}}if(12854&c.subtreeFlags)for(c=c.child;c!==null;)yw(c,l),c=c.sibling}function yw(l,c){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(On(c,l),_i(l),4&y){try{vu(3,l,l.return),Yh(3,l)}catch(Q){ft(l,l.return,Q)}try{vu(5,l,l.return)}catch(Q){ft(l,l.return,Q)}}break;case 1:On(c,l),_i(l),512&y&&m!==null&&Ma(m,m.return);break;case 5:if(On(c,l),_i(l),512&y&&m!==null&&Ma(m,m.return),Pe){if(32&l.flags){var w=l.stateNode;try{pe(w)}catch(Q){ft(l,l.return,Q)}}if(4&y&&(w=l.stateNode)!=null){var T=l.memoizedProps;if(m=m!==null?m.memoizedProps:T,y=l.type,c=l.updateQueue,l.updateQueue=null,c!==null)try{wh(w,c,y,m,T,l)}catch(Q){ft(l,l.return,Q)}}}break;case 6:if(On(c,l),_i(l),4&y&&Pe){if(l.stateNode===null)throw Error(s(162));w=l.stateNode,T=l.memoizedProps,m=m!==null?m.memoizedProps:T;try{_h(w,m,T)}catch(Q){ft(l,l.return,Q)}}break;case 3:if(On(c,l),_i(l),4&y){if(Pe&&Oe&&m!==null&&m.memoizedState.isDehydrated)try{Tm(c.containerInfo)}catch(Q){ft(l,l.return,Q)}if(Qe){w=c.containerInfo,T=c.pendingChildren;try{Pt(w,T)}catch(Q){ft(l,l.return,Q)}}}break;case 4:if(On(c,l),_i(l),4&y&&Qe){w=(T=l.stateNode).containerInfo,T=T.pendingChildren;try{Pt(w,T)}catch(Q){ft(l,l.return,Q)}}break;case 13:On(c,l),_i(l),8192&(w=l.child).flags&&(T=w.memoizedState!==null,w.stateNode.isHidden=T,!T||w.alternate!==null&&w.alternate.memoizedState!==null||(Pg=Qt())),4&y&&gw(l);break;case 22:var R=m!==null&&m.memoizedState!==null;if(1&l.mode?(yr=(m=yr)||R,On(c,l),yr=m):On(c,l),_i(l),8192&y){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!R&&(1&l.mode)!=0)for(me=l,y=l.child;y!==null;){for(c=me=y;me!==null;){var F=(R=me).child;switch(R.tag){case 0:case 11:case 14:case 15:vu(4,R,R.return);break;case 1:Ma(R,R.return);var V=R.stateNode;if(typeof V.componentWillUnmount=="function"){var W=R,q=R.return;try{var le=W;V.props=le.memoizedProps,V.state=le.memoizedState,V.componentWillUnmount()}catch(Q){ft(W,q,Q)}}break;case 5:Ma(R,R.return);break;case 22:if(R.memoizedState!==null){_w(c);continue}}F!==null?(F.return=R,me=F):_w(c)}y=y.sibling}if(Pe){e:if(y=null,Pe)for(c=l;;){if(c.tag===5){if(y===null){y=c;try{w=c.stateNode,m?ke(w):Me(c.stateNode,c.memoizedProps)}catch(Q){ft(l,l.return,Q)}}}else if(c.tag===6){if(y===null)try{T=c.stateNode,m?Ie(T):Se(T,c.memoizedProps)}catch(Q){ft(l,l.return,Q)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;y===c&&(y=null),c=c.return}y===c&&(y=null),c.sibling.return=c.return,c=c.sibling}}}break;case 19:On(c,l),_i(l),4&y&&gw(l);break;case 21:break;default:On(c,l),_i(l)}}function _i(l){var c=l.flags;if(2&c){try{if(Pe){e:{for(var m=l.return;m!==null;){if(pw(m)){var y=m;break e}m=m.return}throw Error(s(160))}switch(y.tag){case 5:var w=y.stateNode;32&y.flags&&(pe(w),y.flags&=-33),xg(l,mw(l),w);break;case 3:case 4:var T=y.stateNode.containerInfo;vg(l,mw(l),T);break;default:throw Error(s(161))}}}catch(R){ft(l,l.return,R)}l.flags&=-3}4096&c&&(l.flags&=-4097)}function E2(l,c,m){me=l,vw(l)}function vw(l,c,m){for(var y=(1&l.mode)!=0;me!==null;){var w=me,T=w.child;if(w.tag===22&&y){var R=w.memoizedState!==null||Xh;if(!R){var F=w.alternate,V=F!==null&&F.memoizedState!==null||yr;F=Xh;var W=yr;if(Xh=R,(yr=V)&&!W)for(me=w;me!==null;)V=(R=me).child,R.tag===22&&R.memoizedState!==null?ww(w):V!==null?(V.return=R,me=V):ww(w);for(;T!==null;)me=T,vw(T),T=T.sibling;me=w,Xh=F,yr=W}xw(l)}else 8772&w.subtreeFlags&&T!==null?(T.return=w,me=T):xw(l)}}function xw(l){for(;me!==null;){var c=me;if(8772&c.flags){var m=c.alternate;try{if(8772&c.flags)switch(c.tag){case 0:case 11:case 15:yr||Yh(5,c);break;case 1:var y=c.stateNode;if(4&c.flags&&!yr)if(m===null)y.componentDidMount();else{var w=c.elementType===c.type?m.memoizedProps:Nn(c.type,m.memoizedProps);y.componentDidUpdate(w,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var T=c.updateQueue;T!==null&&y1(c,T,y);break;case 3:var R=c.updateQueue;if(R!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=ae(c.child.stateNode);break;case 1:m=c.child.stateNode}y1(c,R,m)}break;case 5:var F=c.stateNode;m===null&&4&c.flags&&Sm(F,c.type,c.memoizedProps,c);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Oe&&c.memoizedState===null){var V=c.alternate;if(V!==null){var W=V.memoizedState;if(W!==null){var q=W.dehydrated;q!==null&&QM(q)}}}break;default:throw Error(s(163))}yr||512&c.flags&&yg(c)}catch(le){ft(c,c.return,le)}}if(c===l){me=null;break}if((m=c.sibling)!==null){m.return=c.return,me=m;break}me=c.return}}function _w(l){for(;me!==null;){var c=me;if(c===l){me=null;break}var m=c.sibling;if(m!==null){m.return=c.return,me=m;break}me=c.return}}function ww(l){for(;me!==null;){var c=me;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{Yh(4,c)}catch(V){ft(c,m,V)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var w=c.return;try{y.componentDidMount()}catch(V){ft(c,w,V)}}var T=c.return;try{yg(c)}catch(V){ft(c,T,V)}break;case 5:var R=c.return;try{yg(c)}catch(V){ft(c,R,V)}}}catch(V){ft(c,c.return,V)}if(c===l){me=null;break}var F=c.sibling;if(F!==null){F.return=c.return,me=F;break}me=c.return}}var Kh=0,Qh=1,qh=2,Zh=3,Jh=4;if(typeof Symbol=="function"&&Symbol.for){var xu=Symbol.for;Kh=xu("selector.component"),Qh=xu("selector.has_pseudo_class"),qh=xu("selector.role"),Zh=xu("selector.test_id"),Jh=xu("selector.text")}function wg(l){var c=Fr(l);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(s(364));return c}if((l=mh(l))===null)throw Error(s(362));return l.stateNode.current}function bg(l,c){switch(c.$$typeof){case Kh:if(l.type===c.value)return!0;break;case Qh:e:{c=c.value,l=[l,0];for(var m=0;m<l.length;){var y=l[m++],w=l[m++],T=c[w];if(y.tag!==5||!_o(y)){for(;T!=null&&bg(y,T);)T=c[++w];if(w===c.length){c=!0;break e}for(y=y.child;y!==null;)l.push(y,w),y=y.sibling}}c=!1}return c;case qh:if(l.tag===5&&vh(l.stateNode,c.value))return!0;break;case Jh:if((l.tag===5||l.tag===6)&&(l=yh(l))!==null&&0<=l.indexOf(c.value))return!0;break;case Zh:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===c.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Sg(l){switch(l.$$typeof){case Kh:return"<"+(k(l.value)||"Unknown")+">";case Qh:return":has("+(Sg(l)||"")+")";case qh:return'[role="'+l.value+'"]';case Jh:return'"'+l.value+'"';case Zh:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function bw(l,c){var m=[];l=[l,0];for(var y=0;y<l.length;){var w=l[y++],T=l[y++],R=c[T];if(w.tag!==5||!_o(w)){for(;R!=null&&bg(w,R);)R=c[++T];if(T===c.length)m.push(w);else for(w=w.child;w!==null;)l.push(w,T),w=w.sibling}}return m}function Eg(l,c){if(!Nr)throw Error(s(363));l=bw(l=wg(l),c),c=[],l=Array.from(l);for(var m=0;m<l.length;){var y=l[m++];if(y.tag===5)_o(y)||c.push(y.stateNode);else for(y=y.child;y!==null;)l.push(y),y=y.sibling}return c}var T2=Math.ceil,ef=o.ReactCurrentDispatcher,Tg=o.ReactCurrentOwner,Dt=o.ReactCurrentBatchConfig,He=0,Jt=null,Bt=null,or=0,Zr=0,ka=bs(0),Ht=0,_u=null,Ao=0,tf=0,Cg=0,wu=null,Jr=null,Pg=0,Ag=1/0,Cs=null;function Da(){Ag=Qt()+500}var Sw,rf=!1,Rg=null,Ps=null,nf=!1,As=null,sf=0,bu=0,Ig=null,of=-1,af=0;function vr(){return 6&He?Qt():of!==-1?of:of=Qt()}function Rs(l){return 1&l.mode?2&He&&or!==0?or&-or:c2.transition!==null?(af===0&&(af=n1()),af):(l=Xe)!==0?l:ai():1}function xn(l,c,m,y){if(50<bu)throw bu=0,Ig=null,Error(s(185));ou(l,m,y),2&He&&l===Jt||(l===Jt&&(!(2&He)&&(tf|=m),Ht===4&&Is(l,or)),zr(l,y),m===1&&He===0&&!(1&c.mode)&&(Da(),Ch&&fi()))}function zr(l,c){var m=l.callbackNode;(function(w,T){for(var R=w.suspendedLanes,F=w.pingedLanes,V=w.expirationTimes,W=w.pendingLanes;0<W;){var q=31-Dn(W),le=1<<q,Q=V[q];Q===-1?le&R&&!(le&F)||(V[q]=s2(le,T)):Q<=T&&(w.expiredLanes|=le),W&=~le}})(l,c);var y=Eh(l,l===Jt?or:0);if(y===0)m!==null&&s1(m),l.callbackNode=null,l.callbackPriority=0;else if(c=y&-y,l.callbackPriority!==c){if(m!=null&&s1(m),c===1)l.tag===0?function(w){Ch=!0,a1(w)}(Tw.bind(null,l)):a1(Tw.bind(null,l)),Mn?Zl(function(){!(6&He)&&fi()}):Fm(Nm,fi),m=null;else{switch(i1(y)){case 1:m=Nm;break;case 4:m=l2;break;case 16:default:m=o1;break;case 536870912:m=u2}m=Dw(m,Ew.bind(null,l))}l.callbackPriority=c,l.callbackNode=m}}function Ew(l,c){if(of=-1,af=0,(6&He)!=0)throw Error(s(327));var m=l.callbackNode;if(Io()&&l.callbackNode!==m)return null;var y=Eh(l,l===Jt?or:0);if(y===0)return null;if(30&y||y&l.expiredLanes||c)c=lf(l,y);else{c=y;var w=He;He|=2;var T=Aw();for(Jt===l&&or===c||(Cs=null,Da(),Ro(l,c));;)try{P2();break}catch(F){Pw(l,F)}Hm(),ef.current=T,He=w,Bt!==null?c=0:(Jt=null,or=0,c=Ht)}if(c!==0){if(c===2&&(w=km(l))!==0&&(y=w,c=Mg(l,w)),c===1)throw m=_u,Ro(l,0),Is(l,y),zr(l,Qt()),m;if(c===6)Is(l,y);else{if(w=l.current.alternate,(30&y)==0&&!function(F){for(var V=F;;){if(16384&V.flags){var W=V.updateQueue;if(W!==null&&(W=W.stores)!==null)for(var q=0;q<W.length;q++){var le=W[q],Q=le.getSnapshot;le=le.value;try{if(!Ln(Q(),le))return!1}catch{return!1}}}if(W=V.child,16384&V.subtreeFlags&&W!==null)W.return=V,V=W;else{if(V===F)break;for(;V.sibling===null;){if(V.return===null||V.return===F)return!0;V=V.return}V.sibling.return=V.return,V=V.sibling}}return!0}(w)&&((c=lf(l,y))===2&&(T=km(l))!==0&&(y=T,c=Mg(l,T)),c===1))throw m=_u,Ro(l,0),Is(l,y),zr(l,Qt()),m;switch(l.finishedWork=w,l.finishedLanes=y,c){case 0:case 1:throw Error(s(345));case 2:case 5:La(l,Jr,Cs);break;case 3:if(Is(l,y),(130023424&y)===y&&10<(c=Pg+500-Qt())){if(Eh(l,0)!==0)break;if(((w=l.suspendedLanes)&y)!==y){vr(),l.pingedLanes|=l.suspendedLanes&w;break}l.timeoutHandle=Ue(La.bind(null,l,Jr,Cs),c);break}La(l,Jr,Cs);break;case 4:if(Is(l,y),(4194240&y)===y)break;for(c=l.eventTimes,w=-1;0<y;){var R=31-Dn(y);T=1<<R,(R=c[R])>w&&(w=R),y&=~T}if(y=w,10<(y=(120>(y=Qt()-y)?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*T2(y/1960))-y)){l.timeoutHandle=Ue(La.bind(null,l,Jr,Cs),y);break}La(l,Jr,Cs);break;default:throw Error(s(329))}}}return zr(l,Qt()),l.callbackNode===m?Ew.bind(null,l):null}function Mg(l,c){var m=wu;return l.current.memoizedState.isDehydrated&&(Ro(l,c).flags|=256),(l=lf(l,c))!==2&&(c=Jr,Jr=m,c!==null&&kg(c)),l}function kg(l){Jr===null?Jr=l:Jr.push.apply(Jr,l)}function Is(l,c){for(c&=~Cg,c&=~tf,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var m=31-Dn(c),y=1<<m;l[m]=-1,c&=~y}}function Tw(l){if(6&He)throw Error(s(327));Io();var c=Eh(l,0);if(!(1&c))return zr(l,Qt()),null;var m=lf(l,c);if(l.tag!==0&&m===2){var y=km(l);y!==0&&(c=y,m=Mg(l,y))}if(m===1)throw m=_u,Ro(l,0),Is(l,c),zr(l,Qt()),m;if(m===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,La(l,Jr,Cs),zr(l,Qt()),null}function Cw(l){As!==null&&As.tag===0&&!(6&He)&&Io();var c=He;He|=1;var m=Dt.transition,y=Xe;try{if(Dt.transition=null,Xe=1,l)return l()}finally{Xe=y,Dt.transition=m,!(6&(He=c))&&fi()}}function Dg(){Zr=ka.current,ct(ka)}function Ro(l,c){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==yt&&(l.timeoutHandle=yt,et(m)),Bt!==null)for(m=Bt.return;m!==null;){var y=m;switch(Um(y),y.tag){case 1:(y=y.type.childContextTypes)!=null&&Rm();break;case 3:Ra(),ct(Or),ct(mr),eg();break;case 5:Zm(y);break;case 4:Ra();break;case 13:case 19:ct(At);break;case 10:$m(y.type._context);break;case 22:case 23:Dg()}m=m.return}if(Jt=l,Bt=l=Ms(l.current,null),or=Zr=c,Ht=0,_u=null,Cg=tf=Ao=0,Jr=wu=null,Co!==null){for(c=0;c<Co.length;c++)if((y=(m=Co[c]).interleaved)!==null){m.interleaved=null;var w=y.next,T=m.pending;if(T!==null){var R=T.next;T.next=w,y.next=R}m.pending=y}Co=null}return l}function Pw(l,c){for(;;){var m=Bt;try{if(Hm(),Bh.current=jh,Uh){for(var y=xt.memoizedState;y!==null;){var w=y.queue;w!==null&&(w.pending=null),y=y.next}Uh=!1}if(Po=0,Zt=qt=xt=null,hu=!1,fu=0,Tg.current=null,m===null||m.return===null){Ht=1,_u=c,Bt=null;break}e:{var T=l,R=m.return,F=m,V=c;if(c=or,F.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=V,q=F,le=q.tag;if(!(1&q.mode)&&(le===0||le===11||le===15)){var Q=q.alternate;Q?(q.updateQueue=Q.updateQueue,q.memoizedState=Q.memoizedState,q.lanes=Q.lanes):(q.updateQueue=null,q.memoizedState=null)}var ne=Q1(R);if(ne!==null){ne.flags&=-257,q1(ne,R,F,0,c),1&ne.mode&&K1(T,W,c),V=W;var ye=(c=ne).updateQueue;if(ye===null){var Ne=new Set;Ne.add(V),c.updateQueue=Ne}else ye.add(V);break e}if(!(1&c)){K1(T,W,c),Lg();break e}V=Error(s(426))}else if(ht&&1&F.mode){var Z=Q1(R);if(Z!==null){!(65536&Z.flags)&&(Z.flags|=256),q1(Z,R,F,0,c),jm(Ia(V,F));break e}}T=V=Ia(V,F),Ht!==4&&(Ht=2),wu===null?wu=[T]:wu.push(T),T=R;do{switch(T.tag){case 3:T.flags|=65536,c&=-c,T.lanes|=c,g1(T,X1(0,V,c));break e;case 1:F=V;var U=T.type,$=T.stateNode;if(!(128&T.flags)&&(typeof U.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ps===null||!Ps.has($)))){T.flags|=65536,c&=-c,T.lanes|=c,g1(T,Y1(T,F,c));break e}}T=T.return}while(T!==null)}Iw(m)}catch(te){c=te,Bt===m&&m!==null&&(Bt=m=m.return);continue}break}}function Aw(){var l=ef.current;return ef.current=jh,l===null?jh:l}function Lg(){Ht!==0&&Ht!==3&&Ht!==2||(Ht=4),Jt===null||!(268435455&Ao)&&!(268435455&tf)||Is(Jt,or)}function lf(l,c){var m=He;He|=2;var y=Aw();for(Jt===l&&or===c||(Cs=null,Ro(l,c));;)try{C2();break}catch(w){Pw(l,w)}if(Hm(),He=m,ef.current=y,Bt!==null)throw Error(s(261));return Jt=null,or=0,Ht}function C2(){for(;Bt!==null;)Rw(Bt)}function P2(){for(;Bt!==null&&!o2();)Rw(Bt)}function Rw(l){var c=Sw(l.alternate,l,Zr);l.memoizedProps=l.pendingProps,c===null?Iw(l):Bt=c,Tg.current=null}function Iw(l){var c=l;do{var m=c.alternate;if(l=c.return,(32768&c.flags)==0){if((m=w2(m,c,Zr))!==null)return void(Bt=m)}else{if((m=b2(m,c))!==null)return m.flags&=32767,void(Bt=m);if(l===null)return Ht=6,void(Bt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((c=c.sibling)!==null)return void(Bt=c);Bt=c=l}while(c!==null);Ht===0&&(Ht=5)}function La(l,c,m){var y=Xe,w=Dt.transition;try{Dt.transition=null,Xe=1,function(T,R,F,V){do Io();while(As!==null);if(6&He)throw Error(s(327));F=T.finishedWork;var W=T.finishedLanes;if(F===null)return null;if(T.finishedWork=null,T.finishedLanes=0,F===T.current)throw Error(s(177));T.callbackNode=null,T.callbackPriority=0;var q=F.lanes|F.childLanes;if(function(ne,ye){var Ne=ne.pendingLanes&~ye;ne.pendingLanes=ye,ne.suspendedLanes=0,ne.pingedLanes=0,ne.expiredLanes&=ye,ne.mutableReadLanes&=ye,ne.entangledLanes&=ye,ye=ne.entanglements;var Z=ne.eventTimes;for(ne=ne.expirationTimes;0<Ne;){var U=31-Dn(Ne),$=1<<U;ye[U]=0,Z[U]=-1,ne[U]=-1,Ne&=~$}}(T,q),T===Jt&&(Bt=Jt=null,or=0),!(2064&F.subtreeFlags)&&!(2064&F.flags)||nf||(nf=!0,Dw(o1,function(){return Io(),null})),q=(15990&F.flags)!=0,(15990&F.subtreeFlags)!=0||q){q=Dt.transition,Dt.transition=null;var le=Xe;Xe=1;var Q=He;He|=4,Tg.current=null,function(ne,ye){for(X(ne.containerInfo),me=ye;me!==null;)if(ye=(ne=me).child,(1028&ne.subtreeFlags)!=0&&ye!==null)ye.return=ne,me=ye;else for(;me!==null;){ne=me;try{var Ne=ne.alternate;if(1024&ne.flags)switch(ne.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Ne!==null){var Z=Ne.memoizedProps,U=Ne.memoizedState,$=ne.stateNode,te=$.getSnapshotBeforeUpdate(ne.elementType===ne.type?Z:Nn(ne.type,Z),U);$.__reactInternalSnapshotBeforeUpdate=te}break;case 3:Pe&&_e(ne.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(be){ft(ne,ne.return,be)}if((ye=ne.sibling)!==null){ye.return=ne.return,me=ye;break}me=ne.return}Ne=fw,fw=!1}(T,F),yw(F,T),O(T.containerInfo),T.current=F,E2(F),a2(),He=Q,Xe=le,Dt.transition=q}else T.current=F;if(nf&&(nf=!1,As=T,sf=W),q=T.pendingLanes,q===0&&(Ps=null),function(ne){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(Th,ne,void 0,(128&ne.current.flags)==128)}catch{}}(F.stateNode),zr(T,Qt()),R!==null)for(V=T.onRecoverableError,F=0;F<R.length;F++)W=R[F],V(W.value,{componentStack:W.stack,digest:W.digest});if(rf)throw rf=!1,T=Rg,Rg=null,T;1&sf&&T.tag!==0&&Io(),q=T.pendingLanes,1&q?T===Ig?bu++:(bu=0,Ig=T):bu=0,fi()}(l,c,m,y)}finally{Dt.transition=w,Xe=y}return null}function Io(){if(As!==null){var l=i1(sf),c=Dt.transition,m=Xe;try{if(Dt.transition=null,Xe=16>l?16:l,As===null)var y=!1;else{if(l=As,As=null,sf=0,(6&He)!=0)throw Error(s(331));var w=He;for(He|=4,me=l.current;me!==null;){var T=me,R=T.child;if(16&me.flags){var F=T.deletions;if(F!==null){for(var V=0;V<F.length;V++){var W=F[V];for(me=W;me!==null;){var q=me;switch(q.tag){case 0:case 11:case 15:vu(8,q,T)}var le=q.child;if(le!==null)le.return=q,me=le;else for(;me!==null;){var Q=(q=me).sibling,ne=q.return;if(dw(q),q===W){me=null;break}if(Q!==null){Q.return=ne,me=Q;break}me=ne}}}var ye=T.alternate;if(ye!==null){var Ne=ye.child;if(Ne!==null){ye.child=null;do{var Z=Ne.sibling;Ne.sibling=null,Ne=Z}while(Ne!==null)}}me=T}}if(2064&T.subtreeFlags&&R!==null)R.return=T,me=R;else e:for(;me!==null;){if(2048&(T=me).flags)switch(T.tag){case 0:case 11:case 15:vu(9,T,T.return)}var U=T.sibling;if(U!==null){U.return=T.return,me=U;break e}me=T.return}}var $=l.current;for(me=$;me!==null;){var te=(R=me).child;if(2064&R.subtreeFlags&&te!==null)te.return=R,me=te;else e:for(R=$;me!==null;){if(2048&(F=me).flags)try{switch(F.tag){case 0:case 11:case 15:Yh(9,F)}}catch(Ze){ft(F,F.return,Ze)}if(F===R){me=null;break e}var be=F.sibling;if(be!==null){be.return=F.return,me=be;break e}me=F.return}}if(He=w,fi(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(Th,l)}catch{}y=!0}return y}finally{Xe=m,Dt.transition=c}}return!1}function Mw(l,c,m){l=Ts(l,c=X1(0,c=Ia(m,c),1),1),c=vr(),l!==null&&(ou(l,1,c),zr(l,c))}function ft(l,c,m){if(l.tag===3)Mw(l,l,m);else for(;c!==null;){if(c.tag===3){Mw(c,l,m);break}if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ps===null||!Ps.has(y))){c=Ts(c,l=Y1(c,l=Ia(m,l),1),1),l=vr(),c!==null&&(ou(c,1,l),zr(c,l));break}}c=c.return}}function A2(l,c,m){var y=l.pingCache;y!==null&&y.delete(c),c=vr(),l.pingedLanes|=l.suspendedLanes&m,Jt===l&&(or&m)===m&&(Ht===4||Ht===3&&(130023424&or)===or&&500>Qt()-Pg?Ro(l,0):Cg|=m),zr(l,c)}function kw(l,c){c===0&&(1&l.mode?(c=Mm,!(130023424&(Mm<<=1))&&(Mm=4194304)):c=1);var m=vr();(l=pi(l,c))!==null&&(ou(l,c,m),zr(l,m))}function R2(l){var c=l.memoizedState,m=0;c!==null&&(m=c.retryLane),kw(l,m)}function I2(l,c){var m=0;switch(l.tag){case 13:var y=l.stateNode,w=l.memoizedState;w!==null&&(m=w.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(s(314))}y!==null&&y.delete(c),kw(l,m)}function Dw(l,c){return Fm(l,c)}function M2(l,c,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(l,c,m,y){return new M2(l,c,m,y)}function Fg(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Ms(l,c){var m=l.alternate;return m===null?((m=_n(l.tag,c,l.key,l.mode)).elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=c,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&l.flags,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,c=l.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function uf(l,c,m,y,w,T){var R=2;if(y=l,typeof l=="function")Fg(l)&&(R=1);else if(typeof l=="string")R=5;else e:switch(l){case h:return Mo(m.children,w,T,c);case f:R=8,w|=8;break;case d:return(l=_n(12,m,c,2|w)).elementType=d,l.lanes=T,l;case b:return(l=_n(13,m,c,w)).elementType=b,l.lanes=T,l;case C:return(l=_n(19,m,c,w)).elementType=C,l.lanes=T,l;case x:return cf(m,w,T,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case p:R=10;break e;case g:R=9;break e;case v:R=11;break e;case E:R=14;break e;case S:R=16,y=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(c=_n(R,m,c,w)).elementType=l,c.type=y,c.lanes=T,c}function Mo(l,c,m,y){return(l=_n(7,l,y,c)).lanes=m,l}function cf(l,c,m,y){return(l=_n(22,l,y,c)).elementType=x,l.lanes=m,l.stateNode={isHidden:!1},l}function Ng(l,c,m){return(l=_n(6,l,null,c)).lanes=m,l}function Og(l,c,m){return(c=_n(4,l.children!==null?l.children:[],l.key,c)).lanes=m,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function k2(l,c,m,y,w){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=yt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=y,this.onRecoverableError=w,Oe&&(this.mutableSourceEagerHydrationData=null)}function Lw(l,c,m,y,w,T,R,F,V){return l=new k2(l,c,m,F,V),c===1?(c=1,T===!0&&(c|=8)):c=0,T=_n(3,null,null,c),l.current=T,T.stateNode=l,T.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ym(T),l}function Fw(l){if(!l)return Ss;e:{if(A(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Qr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(s(171))}if(l.tag===1){var m=l.type;if(Qr(m))return t1(l,m,c)}return c}function Nw(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=L(c))===null?null:l.stateNode}function Ow(l,c){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<c?m:c}}function hf(l,c){Ow(l,c),(l=l.alternate)&&Ow(l,c)}function D2(l){return(l=L(l))===null?null:l.stateNode}function L2(){return null}return Sw=function(l,c,m){if(l!==null)if(l.memoizedProps!==c.pendingProps||Or.current)Br=!0;else{if(!(l.lanes&m)&&!(128&c.flags))return Br=!1,function(le,Q,ne){switch(Q.tag){case 3:iw(Q),Ea();break;case 5:T1(Q);break;case 1:Qr(Q.type)&&Sh(Q);break;case 4:qm(Q,Q.stateNode.containerInfo);break;case 10:d1(0,Q.type._context,Q.memoizedProps.value);break;case 13:var ye=Q.memoizedState;if(ye!==null)return ye.dehydrated!==null?(st(At,1&At.current),Q.flags|=128,null):ne&Q.child.childLanes?ow(le,Q,ne):(st(At,1&At.current),(le=Gi(le,Q,ne))!==null?le.sibling:null);st(At,1&At.current);break;case 19:if(ye=(ne&Q.childLanes)!=0,(128&le.flags)!=0){if(ye)return lw(le,Q,ne);Q.flags|=128}var Ne=Q.memoizedState;if(Ne!==null&&(Ne.rendering=null,Ne.tail=null,Ne.lastEffect=null),st(At,At.current),ye)break;return null;case 22:case 23:return Q.lanes=0,tw(le,Q,ne)}return Gi(le,Q,ne)}(l,c,m);Br=(131072&l.flags)!=0}else Br=!1,ht&&1048576&c.flags&&l1(c,Ah,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;Wh(l,c),l=c.pendingProps;var w=wa(c,mr.current);Ca(c,m),w=ng(null,c,y,l,w,m);var T=ig();return c.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Qr(y)?(T=!0,Sh(c)):T=!1,c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Ym(c),w.updater=Fh,c.stateNode=w,w._reactInternals=c,Qm(c,y,l,m),c=fg(null,c,y,!0,T,m)):(c.tag=0,ht&&T&&Bm(c),Ur(null,c,w,m),c=c.child),c;case 16:y=c.elementType;e:{switch(Wh(l,c),l=c.pendingProps,y=(w=y._init)(y._payload),c.type=y,w=c.tag=function(le){if(typeof le=="function")return Fg(le)?1:0;if(le!=null){if((le=le.$$typeof)===v)return 11;if(le===E)return 14}return 2}(y),l=Nn(y,l),w){case 0:c=hg(null,c,y,l,m);break e;case 1:c=nw(null,c,y,l,m);break e;case 11:c=Z1(null,c,y,l,m);break e;case 14:c=J1(null,c,y,Nn(y.type,l),m);break e}throw Error(s(306,y,""))}return c;case 0:return y=c.type,w=c.pendingProps,hg(l,c,y,w=c.elementType===y?w:Nn(y,w),m);case 1:return y=c.type,w=c.pendingProps,nw(l,c,y,w=c.elementType===y?w:Nn(y,w),m);case 3:e:{if(iw(c),l===null)throw Error(s(387));y=c.pendingProps,w=(T=c.memoizedState).element,m1(l,c),Lh(c,y,null,m);var R=c.memoizedState;if(y=R.element,Oe&&T.isDehydrated){if(T={element:y,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},c.updateQueue.baseState=T,c.memoizedState=T,256&c.flags){c=sw(l,c,y,m,w=Ia(Error(s(423)),c));break e}if(y!==w){c=sw(l,c,y,m,w=Ia(Error(s(424)),c));break e}for(Oe&&(mn=Kr(c.stateNode.containerInfo),qr=c,ht=!0,Fn=null,au=!1),m=E1(c,null,y,m),c.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(Ea(),y===w){c=Gi(l,c,m);break e}Ur(l,c,y,m)}c=c.child}return c;case 5:return T1(c),l===null&&Vm(c),y=c.type,w=c.pendingProps,T=l!==null?l.memoizedProps:null,R=w.children,Le(y,w)?R=null:T!==null&&Le(y,T)&&(c.flags|=32),rw(l,c),Ur(l,c,R,m),c.child;case 6:return l===null&&Vm(c),null;case 13:return ow(l,c,m);case 4:return qm(c,c.stateNode.containerInfo),y=c.pendingProps,l===null?c.child=Pa(c,null,y,m):Ur(l,c,y,m),c.child;case 11:return y=c.type,w=c.pendingProps,Z1(l,c,y,w=c.elementType===y?w:Nn(y,w),m);case 7:return Ur(l,c,c.pendingProps,m),c.child;case 8:case 12:return Ur(l,c,c.pendingProps.children,m),c.child;case 10:e:{if(y=c.type._context,w=c.pendingProps,T=c.memoizedProps,d1(0,y,R=w.value),T!==null)if(Ln(T.value,R)){if(T.children===w.children&&!Or.current){c=Gi(l,c,m);break e}}else for((T=c.child)!==null&&(T.return=c);T!==null;){var F=T.dependencies;if(F!==null){R=T.child;for(var V=F.firstContext;V!==null;){if(V.context===y){if(T.tag===1){(V=ji(-1,m&-m)).tag=2;var W=T.updateQueue;if(W!==null){var q=(W=W.shared).pending;q===null?V.next=V:(V.next=q.next,q.next=V),W.pending=V}}T.lanes|=m,(V=T.alternate)!==null&&(V.lanes|=m),Wm(T.return,m,c),F.lanes|=m;break}V=V.next}}else if(T.tag===10)R=T.type===c.type?null:T.child;else if(T.tag===18){if((R=T.return)===null)throw Error(s(341));R.lanes|=m,(F=R.alternate)!==null&&(F.lanes|=m),Wm(R,m,c),R=T.sibling}else R=T.child;if(R!==null)R.return=T;else for(R=T;R!==null;){if(R===c){R=null;break}if((T=R.sibling)!==null){T.return=R.return,R=T;break}R=R.return}T=R}Ur(l,c,w.children,m),c=c.child}return c;case 9:return w=c.type,y=c.pendingProps.children,Ca(c,m),y=y(w=gn(w)),c.flags|=1,Ur(l,c,y,m),c.child;case 14:return w=Nn(y=c.type,c.pendingProps),J1(l,c,y,w=Nn(y.type,w),m);case 15:return ew(l,c,c.type,c.pendingProps,m);case 17:return y=c.type,w=c.pendingProps,w=c.elementType===y?w:Nn(y,w),Wh(l,c),c.tag=1,Qr(y)?(l=!0,Sh(c)):l=!1,Ca(c,m),_1(c,y,w),Qm(c,y,w,m),fg(null,c,y,!0,l,m);case 19:return lw(l,c,m);case 22:return tw(l,c,m)}throw Error(s(156,c.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var c=pi(l,134217728);c!==null&&xn(c,l,134217728,vr()),hf(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var c=pi(l,1);c!==null&&xn(c,l,1,vr()),hf(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var c=Rs(l),m=pi(l,c);m!==null&&xn(m,l,c,vr()),hf(l,c)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var m=su(c.pendingLanes);m!==0&&(Lm(c,1|m),zr(c,Qt()),!(6&He)&&(Da(),fi()))}break;case 13:Cw(function(){var y=pi(l,1);if(y!==null){var w=vr();xn(y,l,1,w)}}),hf(l,1)}},e.batchedUpdates=function(l,c){var m=He;He|=1;try{return l(c)}finally{(He=m)===0&&(Da(),Ch&&fi())}},e.createComponentSelector=function(l){return{$$typeof:Kh,value:l}},e.createContainer=function(l,c,m,y,w,T,R){return Lw(l,c,!1,null,0,y,0,T,R)},e.createHasPseudoClassSelector=function(l){return{$$typeof:Qh,value:l}},e.createHydrationContainer=function(l,c,m,y,w,T,R,F,V){return(l=Lw(m,y,!0,l,0,T,0,F,V)).context=Fw(null),m=l.current,(T=ji(y=vr(),w=Rs(m))).callback=c??null,Ts(m,T,w),l.current.lanes=w,ou(l,w,y),zr(l,y),l},e.createPortal=function(l,c,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:l,containerInfo:c,implementation:m}},e.createRoleSelector=function(l){return{$$typeof:qh,value:l}},e.createTestNameSelector=function(l){return{$$typeof:Zh,value:l}},e.createTextSelector=function(l){return{$$typeof:Jh,value:l}},e.deferredUpdates=function(l){var c=Xe,m=Dt.transition;try{return Dt.transition=null,Xe=16,l()}finally{Xe=c,Dt.transition=m}},e.discreteUpdates=function(l,c,m,y,w){var T=Xe,R=Dt.transition;try{return Dt.transition=null,Xe=1,l(c,m,y,w)}finally{Xe=T,Dt.transition=R,He===0&&Da()}},e.findAllNodes=Eg,e.findBoundingRects=function(l,c){if(!Nr)throw Error(s(363));c=Eg(l,c),l=[];for(var m=0;m<c.length;m++)l.push(gh(c[m]));for(c=l.length-1;0<c;c--)for(var y=(m=l[c]).x,w=y+m.width,T=m.y,R=T+m.height,F=c-1;0<=F;F--)if(c!==F){var V=l[F],W=V.x,q=W+V.width,le=V.y,Q=le+V.height;if(y>=W&&T>=le&&w<=q&&R<=Q){l.splice(c,1);break}if(!(y!==W||m.width!==V.width||Q<T||le>R)){le>T&&(V.height+=le-T,V.y=T),Q<R&&(V.height=R-le),l.splice(c,1);break}if(!(T!==le||m.height!==V.height||q<y||W>w)){W>y&&(V.width+=W-y,V.x=y),q<w&&(V.width=w-W),l.splice(c,1);break}}return l},e.findHostInstance=Nw,e.findHostInstanceWithNoPortals=function(l){return(l=(l=D(l))!==null?G(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return Nw(l)},e.flushControlled=function(l){var c=He;He|=1;var m=Dt.transition,y=Xe;try{Dt.transition=null,Xe=1,l()}finally{Xe=y,Dt.transition=m,(He=c)===0&&(Da(),fi())}},e.flushPassiveEffects=Io,e.flushSync=Cw,e.focusWithin=function(l,c){if(!Nr)throw Error(s(363));for(c=bw(l=wg(l),c),c=Array.from(c),l=0;l<c.length;){var m=c[l++];if(!_o(m)){if(m.tag===5&&xa(m.stateNode))return!0;for(m=m.child;m!==null;)c.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Xe},e.getFindAllNodesFailureDescription=function(l,c){if(!Nr)throw Error(s(363));var m=0,y=[];l=[wg(l),0];for(var w=0;w<l.length;){var T=l[w++],R=l[w++],F=c[R];if((T.tag!==5||!_o(T))&&(bg(T,F)&&(y.push(Sg(F)),++R>m&&(m=R)),R<c.length))for(T=T.child;T!==null;)l.push(T,R),T=T.sibling}if(m<c.length){for(l=[];m<c.length;m++)l.push(Sg(c[m]));return`findAllNodes was able to match part of the selector:
  `+y.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?ae(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:D2,findFiberByHostInstance:l.findFiberByHostInstance||L2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)l=!0;else{try{Th=c.inject(l),hi=c}catch{}l=!!c.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,c,m,y){if(!Nr)throw Error(s(363));l=Eg(l,c);var w=xh(l,m,y).disconnect;return{disconnect:function(){w()}}},e.registerMutableSourceForHydration=function(l,c){var m=c._getVersion;m=m(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,m]:l.mutableSourceEagerHydrationData.push(c,m)},e.runWithPriority=function(l,c){var m=Xe;try{return Xe=l,c()}finally{Xe=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,c,m,y){var w=c.current,T=vr(),R=Rs(w);return m=Fw(m),c.context===null?c.context=m:c.pendingContext=m,(c=ji(T,R)).payload={element:l},(y=y===void 0?null:y)!==null&&(c.callback=y),(l=Ts(w,c,R))!==null&&(xn(l,w,R,T),Dh(l,w,R)),R},e}),NE}({get exports(){return X0},set exports(t){X0=t}}).exports=O4();var B4=c4(X0),cI={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},K0={},Zf={get exports(){return K0},set exports(t){K0=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Zf.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Zf.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Zf.exports=function(){return Date.now()-r},r=Date.now()):(Zf.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(u4);var UE,cl={},Lo={};({get exports(){return cl},set exports(t){cl=t}}).exports=(UE||(UE=1,Lo.ConcurrentRoot=1,Lo.ContinuousEventPriority=4,Lo.DefaultEventPriority=16,Lo.DiscreteEventPriority=1,Lo.IdleEventPriority=536870912,Lo.LegacyRoot=0),Lo);var U4={};function qy(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function hI(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&ps(t.children).forEach(function(s){hI(s,t)})}function zE(t,e){var r;hI(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,u=n.destroyTexture,h=u!==void 0&&u,f=n.destroyBaseTexture,d=f!==void 0&&f;s&&e.destroy({children:a,texture:h,baseTexture:d})}function VE(t,e,r){Mt(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var jE=null,Jn=B4({getRootHostContext:function(){return U4},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return cl.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return cl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return cl.ContinuousEventPriority;default:return cl.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=D4[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=uI[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Oi)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return jE=function(o,a,u,h){var f=null;for(var d in u)!h.hasOwnProperty(d)&&u.hasOwnProperty(d)&&u[d]!==null&&(d===$0||(f||(f=[]),f.push(d,null)));for(var p in h){var g=h[p],v=u!==null?u[p]:void 0;!h.hasOwnProperty(p)||g===v||g===null&&v===null||p===$0||(f||(f=[]),f.push(p,g))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){Mt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:K0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=zE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=zE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:VE,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=VE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=Oi),(a(t,n,i)||jE)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),z4=cI.dependencies["react-dom"].replace(/[^0-9.]/g,""),V4=cI.name;Jn.injectIntoDevTools({bundleType:0,version:z4,rendererPackageName:V4,findHostInstanceByFiber:Jn.findHostInstance});var to=new Map;function fI(t){if(Mt(Pr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),to.has(t)){var e=to.get(t).pixiFiberContainer;Jn.updateContainer(null,e,void 0,function(){to.delete(t)})}}function dI(t){Mt(Pr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=to.get(t);if(Mt(!e,"Pixi React: createRoot should only be called once"),!e){var r=Jn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Jn.updateContainer(n,r,void 0),Jn.getPublicRootInstance(r)},unmount:function(){fI(t),to.delete(t)}}},to.set(t,e)}return e.reactRoot}function j4(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),to.has(e)?n=to.get(e).reactRoot:n=dI(e),n.render(t)}function G4(t){fI(t)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xc.apply(this,arguments)}function H4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oI(n.key),n)}}function Wi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yp(t,e){return yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},yp(t,e)}function W4(t,e){if(e&&(an(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wi(t)}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vp(t)}var dm=sn.createContext(null),pI=dm.Provider,mI=dm.Consumer,X4=function(t){var e=sn.forwardRef(function(r,n){return sn.createElement(mI,null,function(i){return sn.createElement(t,Xc({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function Y4(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=vp(t);if(e){var i=vp(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return W4(this,r)}}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){Lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var HE=function(){},gI={width:lt.number,height:lt.number,onMount:lt.func,onUnmount:lt.func,raf:lt.bool,renderOnComponentChange:lt.bool,children:lt.node,options:lt.shape({autoStart:lt.bool,width:lt.number,height:lt.number,useContextAlpha:lt.bool,backgroundAlpha:lt.number,autoDensity:lt.bool,antialias:lt.bool,preserveDrawingBuffer:lt.bool,resolution:lt.number,forceCanvas:lt.bool,backgroundColor:lt.number,clearBeforeRender:lt.bool,powerPreference:lt.string,sharedTicker:lt.bool,sharedLoader:lt.bool,resizeTo:function(t,e){var r=t[e];r&&Mt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(an(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&Mt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(an(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},K4={width:800,height:600,onMount:HE,onUnmount:HE,raf:!0,renderOnComponentChange:!0},Q0=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&yp(s,o)})(i,sn.Component);var e,r,n=Y4(i);function i(){var s;H4(this,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return Lt(Wi(s=n.call.apply(n,[this].concat(a))),"_canvas",null),Lt(Wi(s),"_mediaQuery",null),Lt(Wi(s),"_ticker",null),Lt(Wi(s),"_needsUpdate",!0),Lt(Wi(s),"app",null),Lt(Wi(s),"updateSize",function(){var h=s.props,f=h.width,d=h.height,p=h.options;p!=null&&p.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,d)}),Lt(Wi(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),Lt(Wi(s),"renderStage",function(){var h=s.props,f=h.renderOnComponentChange;!h.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,u=s.height,h=s.options,f=s.raf,d=s.renderOnComponentChange;this.app=new uh(Jf(Jf({width:a,height:u,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Jn.createContainer(this.app.stage),Jn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),d&&!f&&(this._ticker=new Ot,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var u,h=this.props,f=h.width,d=h.height,p=h.raf,g=h.renderOnComponentChange,v=h.options;(v==null?void 0:v.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(v==null?void 0:v.resolution)&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===d&&s.width===f&&((u=s.options)===null||u===void 0?void 0:u.resolution)===(v==null?void 0:v.resolution)||this.updateSize(),s.raf!==p&&this.app.ticker[p?"start":"stop"](),Jn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===d&&s.raf===p&&s.renderOnComponentChange===g&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return sn.createElement(pI,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Jn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,u=this.props.options;return u&&u.view?(Mt(u.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):sn.createElement("canvas",Xc({},(s=this.props,o=[].concat(ps(Object.keys(gI)),ps(Object.keys(W0))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,f){return Jf(Jf({},h),{},Lt({},f,s[f]))},{})),{ref:function(h){return a._canvas=h}}))}}])&&$4(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Q0.propTypes=gI,Q0.defaultProps=K4;var Q4=Q0;function yI(){var t=K.useContext(dm);return Mt(t instanceof uh,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function q4(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=yI();Mt(typeof t=="function","`useTick` needs a callback function."),Mt(r instanceof uh,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=K.useRef(null);K.useEffect(function(){n.current=t},[t]),K.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function Z4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q0(t,e,r){return q0=Z4()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&yp(a,s.prototype),a},q0.apply(null,arguments)}var J4=["children","apply"];function $E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ed(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(r),!0).forEach(function(n){Lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var e5=function(t,e){Mt(an(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=yo(i,J4),u=K.useRef(K.useMemo(function(){return r.map(function(d){var p,g=(a==null||(p=a[d])===null||p===void 0?void 0:p.construct)||[];return q0(e[d],ps(g))})},[r])),h=K.useMemo(function(){return r.reduce(function(d,p,g){return ed(ed({},d),{},Lt({},p,u.current[g]))},{})},[r]),f=K.useMemo(function(){return Object.keys(a).filter(lI(aI(r))).reduce(function(d,p){return ed(ed({},d),{},Lt({},p,a[p]))},{})},[a,r]);return r.forEach(function(d,p){return Object.assign(u.current[p],a[d])}),o&&function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return p.every(function(v){return typeof v=="function"})}(o)&&o.call(t,h),sn.createElement(t,Xc({},f,{filters:u.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:lt.node,apply:lt.func},n},t5=Yr.BitmapText,r5=Yr.Container,n5=Yr.Graphics,i5=Yr.NineSlicePlane,s5=Yr.ParticleContainer,o5=Yr.Sprite,a5=Yr.AnimatedSprite,l5=Yr.Text,u5=Yr.TilingSprite,c5=Yr.SimpleMesh,h5=Yr.SimpleRope;const f5=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:a5,AppConsumer:mI,AppContext:dm,AppProvider:pI,BitmapText:t5,Container:r5,Graphics:n5,NineSlicePlane:i5,ParticleContainer:s5,PixiComponent:L4,PixiFiber:Jn,SimpleMesh:c5,SimpleRope:h5,Sprite:o5,Stage:Q4,TYPES:Yr,Text:l5,TilingSprite:u5,applyDefaultProps:Oi,createRoot:dI,eventHandlers:gp,render:j4,unmountComponentAtNode:G4,useApp:yI,useTick:q4,withFilters:e5,withPixiApp:X4},Symbol.toStringTag,{value:"Module"})),d5=aC(f5);qp.exports=d5;var ms=qp.exports;function vI(){const[t,e]=K.useState([window.innerWidth,window.innerHeight]),r=()=>{e([window.innerWidth,window.innerHeight])};return K.useEffect(()=>{window.addEventListener("resize",r,!1)},[]),t}const xI=new mt;gt.prototype._cacheAsBitmap=!1;gt.prototype._cacheData=null;gt.prototype._cacheAsBitmapResolution=null;gt.prototype._cacheAsBitmapMultisample=null;class p5{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(gt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new p5),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});gt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};gt.prototype._initCachedDisplayObject=function(e){var p,g;if((p=this._cacheData)!=null&&p.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(null,!0).clone();if((g=this.filters)!=null&&g.length){const v=this.filters[0].padding;n.pad(v)}n.ceil(ce.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,u=ma.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),h=`cacheAsBitmap_${ca()}`;this._cacheData.textureCacheId=h,De.addToCache(u.baseTexture,h),ue.addToCache(u,h);const f=this.transform.localTransform.copyTo(xI).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:f,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new Bi(u);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(n.x/n.width),d.anchor.y=-(n.y/n.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)};gt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};gt.prototype._initCachedDisplayObjectCanvas=function(e){var f;if((f=this._cacheData)!=null&&f.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;r.ceil(ce.RESOLUTION);const o=ma.create({width:r.width,height:r.height}),a=`cacheAsBitmap_${ca()}`;this._cacheData.textureCacheId=a,De.addToCache(o.baseTexture,a),ue.addToCache(o,a);const u=xI;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=r.x,u.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new Bi(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)};gt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};gt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};gt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,De.removeFromCache(this._cacheData.textureCacheId),ue.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};gt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};gt.prototype.name=null;Pr.prototype.getChildByName=function(e,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};gt.prototype.getGlobalPosition=function(e=new de,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var m5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class g5 extends fr{constructor(e=1){super(U3,m5,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const y5={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},v5=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function x5(t){const e=y5[t],r=e.length;let n=v5,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const _5=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function w5(t,e){const r=Math.ceil(t/2);let n=_5,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class Z0 extends fr{constructor(e,r=8,n=4,i=fr.defaultResolution,s=5){const o=w5(s,e),a=x5(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,u=s;this.state.blend=!1,e.applyFilter(this,a,u,Pi.CLEAR);for(let h=1;h<this.passes-1;h++){e.bindAndClear(a,Pi.BLIT),this.uniforms.uSampler=u;const f=u;u=a,a=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class b5 extends fr{constructor(e=8,r=4,n=fr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Z0(!0,e,r,n,i),this.blurYFilter=new Z0(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Pi.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var S5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class J0 extends fr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(zR,S5,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=rt.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),u=n+(1-n)*o,h=o*(1-n)-a*i,f=o*(1-n)+a*i,d=o*(1-n)+a*i,p=n+o*(1-n),g=o*(1-n)-a*i,v=o*(1-n)-a*i,b=o*(1-n)+a*i,C=n+o*(1-n),E=[u,h,f,0,0,d,p,g,0,0,v,b,C,0,0,0,0,0,1,0];this._loadMatrix(E,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=rt.shared,[a,u,h]=o.setValue(n).toArray(),[f,d,p]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,a,u,h,e,0,f,d,p,r,0,a-f,u-d,h-p,0,0];this._loadMatrix(g,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}J0.prototype.grayscale=J0.prototype.greyscale;var E5=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,T5=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class C5 extends fr{constructor(e,r){const n=new mt;e.renderable=!1,super(T5,E5,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new de(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var P5=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,A5=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class R5 extends fr{constructor(){super(A5,P5)}}var I5=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class M5 extends fr{constructor(e=.5,r=Math.random()){super(zR,I5,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const WE={AlphaFilter:g5,BlurFilter:b5,BlurFilterPass:Z0,ColorMatrixFilter:J0,DisplacementFilter:C5,FXAAFilter:R5,NoiseFilter:M5};Object.entries(WE).forEach(([t,e])=>{Object.defineProperty(WE,t,{get(){return Ve("7.1.0",`filters.${t} has moved to ${t}`),e}})});class k5{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Ot.system.add(this.tickerUpdate,this,uo.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Ot.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const js=new k5;class ch{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=ch.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new de,this.page=new de,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class xp extends ch{constructor(){super(...arguments),this.client=new de,this.movement=new de,this.offset=new de,this.global=new de,this.screen=new de}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,u,h,f,d,p,g,v,b){throw new Error("Method not implemented.")}}class jn extends xp{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class jl extends xp{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}jl.DOM_DELTA_PIXEL=0;jl.DOM_DELTA_LINE=1;jl.DOM_DELTA_PAGE=2;const D5=2048,L5=new de,Zy=new de;class F5{constructor(e){this.dispatch=new sh,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){js.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,L5.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<D5&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(js.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let d=f.length-1;d>=0;d--){const p=f[d],g=this.hitTestMoveRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s,o||s(e,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const v=e.isInteractive();(g.length>0||v)&&(v&&this._allInteractiveElements.push(e),g.push(e)),this._hitElements.length===0&&(this._hitElements=g),a=!0}}}const u=this._isInteractive(r),h=e.isInteractive();return h&&h&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(e,n)&&i(e,n)?h?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(js.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let h=u.length-1;h>=0;h--){const f=u[h],d=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(d){if(d.length>0&&!d[d.length-1].parent)continue;const p=e.isInteractive();return(d.length>0||p)&&d.push(e),d}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Zy),!e.hitArea.contains(Zy.x,Zy.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof jn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var u,h;if(!(e instanceof jn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(e,f,s);if(this.dispatchEvent(d,"pointerout"),n&&this.dispatchEvent(d,"mouseout"),!r.composedPath().includes(s)){const p=this.createPointerEvent(e,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!r.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(d)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(r,f);this.dispatchEvent(d,"pointerover"),n&&this.dispatchEvent(d,"mouseover");let p=s==null?void 0:s.parent;for(;p&&p!==this.rootTarget.parent&&p!==r.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const v=this.clonePointerEvent(r,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==s&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),n&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(d)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof jn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof jn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof jn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const u=i.clicksByButton[e.button];if(u.target===a.target&&r-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=r,a.detail=u.clickCount,a.pointerType==="mouse"){const h=a.button===2;this.dispatchEvent(a,h?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof jn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof jl)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(jn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(jl);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(jn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof jn&&r instanceof jn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof xp&&r instanceof xp&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const N5=1,O5={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},ex=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new F5(null),js.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new jn(null),this.rootWheelEvent=new jl(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...ex.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,ex._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;js.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,js.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;js.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;js.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=N5),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=O5[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let Yc=ex;Yc.extension={name:"events",type:[he.RendererSystem,he.CanvasRendererSystem]};Yc.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};we.add(Yc);function XE(t){return t==="dynamic"||t==="static"}const B5={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??XE(Yc.defaultEventMode)},set interactive(t){Ve("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Yc.defaultEventMode},set eventMode(t){this._internalInteractive=XE(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof ch))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};gt.mixin(B5);const U5={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};gt.mixin(U5);const z5=9,td=100,V5=0,j5=0,YE=2,KE=1,G5=-1e3,H5=-1e3,$5=2;class _I{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(es.tablet||es.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${td}px`,r.style.height=`${td}px`,r.style.position="absolute",r.style.top=`${V5}px`,r.style.left=`${j5}px`,r.style.zIndex=YE.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${KE}px`,e.style.height=`${KE}px`,e.style.position="absolute",e.style.top=`${G5}px`,e.style.left=`${H5}px`,e.style.zIndex=$5.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(es.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:u}=this.renderer,h=i/o*u,f=s/a*u;let d=this.div;d.style.left=`${r}px`,d.style.top=`${n}px`,d.style.width=`${o}px`,d.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const g=this.children[p];if(g.renderId!==this.renderId)g._accessibleActive=!1,Cl(this.children,p,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,p--;else{d=g._accessibleDiv;let v=g.hitArea;const b=g.worldTransform;g.hitArea?(d.style.left=`${(b.tx+v.x*b.a)*h}px`,d.style.top=`${(b.ty+v.y*b.d)*f}px`,d.style.width=`${v.width*b.a*h}px`,d.style.height=`${v.height*b.d*f}px`):(v=g.getBounds(),this.capHitArea(v),d.style.left=`${v.x*h}px`,d.style.top=`${v.y*f}px`,d.style.width=`${v.width*h}px`,d.style.height=`${v.height*f}px`,d.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(d.title=g.accessibleTitle),d.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&d.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==d.title||g.tabIndex!==d.tabIndex)&&(d.title=g.accessibleTitle,d.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${td}px`,r.style.height=`${td}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=YE.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new ch(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===z5&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}_I.extension={name:"accessibility",type:[he.RendererPlugin,he.CanvasRendererPlugin]};we.add(_I);var tn=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(tn||{});const _p={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Xi,$a;function QE(){$a={s3tc:Xi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Xi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Xi.getExtension("WEBGL_compressed_texture_etc"),etc1:Xi.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Xi.getExtension("WEBGL_compressed_texture_pvrtc")||Xi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Xi.getExtension("WEBGL_compressed_texture_atc"),astc:Xi.getExtension("WEBGL_compressed_texture_astc")}}const W5={extension:{type:he.DetectionParser,priority:2},test:async()=>{const e=ce.ADAPTER.createCanvas().getContext("webgl");return e?(Xi=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{$a||QE();const e=[];for(const r in $a)$a[r]&&e.push(r);return[...e,...t]},remove:async t=>($a||QE(),t.filter(e=>!(e in $a)))};we.add(W5);class X5 extends ah{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new I0(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new I0(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class ra extends X5{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=ra._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||ra._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:u,levelWidth:h,levelHeight:f,levelBuffer:d}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,u,this.format,h,f,0,d)}return!0}onBlobLoaded(){this._levelBuffers=ra._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const u=new Array(n);let h=e.byteOffset,f=o,d=a,p=f+i-1&~(i-1),g=d+s-1&~(s-1),v=p*g*_p[r];for(let b=0;b<n;b++)u[b]={levelID:b,levelWidth:n>1?f:p,levelHeight:n>1?d:g,levelBuffer:new Uint8Array(e.buffer,h,v)},h+=v,f=f>>1||1,d=d>>1||1,p=f+i-1&~(i-1),g=d+s-1&~(s-1),v=p*g*_p[r];return u}}const Jy=4,rd=124,Y5=32,qE=20,K5=542327876,nd={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Q5={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},id={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},q5=1,Z5=2,J5=4,ez=64,tz=512,rz=131072,nz=827611204,iz=861165636,sz=894720068,oz=808540228,az=4,lz={[nz]:tn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[iz]:tn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[sz]:tn.COMPRESSED_RGBA_S3TC_DXT5_EXT},uz={70:tn.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:tn.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:tn.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:tn.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:tn.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:tn.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:tn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:tn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:tn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function cz(t){const e=new Uint32Array(t);if(e[0]!==K5)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(t,0,rd/Uint32Array.BYTES_PER_ELEMENT),i=n[nd.HEIGHT],s=n[nd.WIDTH],o=n[nd.MIPMAP_COUNT],a=new Uint32Array(t,nd.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Y5/Uint32Array.BYTES_PER_ELEMENT),u=a[q5];if(u&J5){const h=a[Q5.FOURCC];if(h!==oz){const x=lz[h],_=Jy+rd,P=new Uint8Array(t,_);return[new ra(P,{format:x,width:s,height:i,levels:o})]}const f=Jy+rd,d=new Uint32Array(e.buffer,f,qE/Uint32Array.BYTES_PER_ELEMENT),p=d[id.DXGI_FORMAT],g=d[id.RESOURCE_DIMENSION],v=d[id.MISC_FLAG],b=d[id.ARRAY_SIZE],C=uz[p];if(C===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(v===az)throw new Error("DDSParser does not support cubemap textures");if(g===6)throw new Error("DDSParser does not supported 3D texture data");const E=new Array,S=Jy+rd+qE;if(b===1)E.push(new Uint8Array(t,S));else{const x=_p[C];let _=0,P=s,k=i;for(let A=0;A<o;A++){const I=Math.max(1,P+3&-4),D=Math.max(1,k+3&-4),L=I*D*x;_+=L,P=P>>>1,k=k>>>1}let M=S;for(let A=0;A<b;A++)E.push(new Uint8Array(t,M,_)),M+=_}return E.map(x=>new ra(x,{format:C,width:s,height:i,levels:o}))}throw u&ez?new Error("DDSParser does not support uncompressed texture data."):u&tz?new Error("DDSParser does not supported YUV uncompressed texture data."):u&rz?new Error("DDSParser does not support single-channel (lumninance) texture data!"):u&Z5?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const ZE=[171,75,84,88,32,49,49,187,13,10,26,10],hz=67305985,zn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},tx=64,JE={[Ee.UNSIGNED_BYTE]:1,[Ee.UNSIGNED_SHORT]:2,[Ee.INT]:4,[Ee.UNSIGNED_INT]:4,[Ee.FLOAT]:4,[Ee.HALF_FLOAT]:8},fz={[oe.RGBA]:4,[oe.RGB]:3,[oe.RG]:2,[oe.RED]:1,[oe.LUMINANCE]:1,[oe.LUMINANCE_ALPHA]:2,[oe.ALPHA]:1},dz={[Ee.UNSIGNED_SHORT_4_4_4_4]:2,[Ee.UNSIGNED_SHORT_5_5_5_1]:2,[Ee.UNSIGNED_SHORT_5_6_5]:2};function pz(t,e,r=!1){const n=new DataView(e);if(!mz(t,n))return null;const i=n.getUint32(zn.ENDIANNESS,!0)===hz,s=n.getUint32(zn.GL_TYPE,i),o=n.getUint32(zn.GL_FORMAT,i),a=n.getUint32(zn.GL_INTERNAL_FORMAT,i),u=n.getUint32(zn.PIXEL_WIDTH,i),h=n.getUint32(zn.PIXEL_HEIGHT,i)||1,f=n.getUint32(zn.PIXEL_DEPTH,i)||1,d=n.getUint32(zn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(zn.NUMBER_OF_FACES,i),g=n.getUint32(zn.NUMBER_OF_MIPMAP_LEVELS,i),v=n.getUint32(zn.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||f!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(d!==1)throw new Error("WebGL does not support array textures");const b=4,C=4,E=u+3&-4,S=h+3&-4,x=new Array(d);let _=u*h;s===0&&(_=E*S);let P;if(s!==0?JE[s]?P=JE[s]*fz[o]:P=dz[s]:P=_p[a],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const k=r?yz(n,v,i):null;let A=_*P,I=u,D=h,L=E,N=S,G=tx+v;for(let z=0;z<g;z++){const ie=n.getUint32(G,i);let ae=G+4;for(let ee=0;ee<d;ee++){let B=x[ee];B||(B=x[ee]=new Array(g)),B[z]={levelID:z,levelWidth:g>1||s!==0?I:L,levelHeight:g>1||s!==0?D:N,levelBuffer:new Uint8Array(e,ae,A)},ae+=A}G+=ie+4,G=G%4!==0?G+4-G%4:G,I=I>>1||1,D=D>>1||1,L=I+b-1&~(b-1),N=D+C-1&~(C-1),A=L*N*P}return s!==0?{uncompressed:x.map(z=>{let ie=z[0].levelBuffer,ae=!1;return s===Ee.FLOAT?ie=new Float32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4):s===Ee.UNSIGNED_INT?(ae=!0,ie=new Uint32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)):s===Ee.INT&&(ae=!0,ie=new Int32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)),{resource:new ah(ie,{width:z[0].levelWidth,height:z[0].levelHeight}),type:s,format:ae?gz(o):o}}),kvData:k}:{compressed:x.map(z=>new ra(null,{format:a,width:u,height:h,levels:g,levelBuffers:z})),kvData:k}}function mz(t,e){for(let r=0;r<ZE.length;r++)if(e.getUint8(r)!==ZE[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function gz(t){switch(t){case oe.RGBA:return oe.RGBA_INTEGER;case oe.RGB:return oe.RGB_INTEGER;case oe.RG:return oe.RG_INTEGER;case oe.RED:return oe.RED_INTEGER;default:return t}}function yz(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(tx+i,r),o=tx+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<s&&t.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(t.buffer,o,u)),f=new DataView(t.buffer,o+u+1,s-u-1);n.set(h,f),i+=4+s+a}return n}const vz={extension:{type:he.LoadParser,priority:Ui.High},name:"loadDDS",test(t){return ga(t,".dds")},async load(t,e,r){const i=await(await ce.ADAPTER.fetch(t)).arrayBuffer(),o=cz(i).map(a=>{const u=new De(a,{mipmap:Fi.OFF,alphaMode:oi.NO_PREMULTIPLIED_ALPHA,resolution:oo(t),...e.data});return cm(u,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};we.add(vz);const xz={extension:{type:he.LoadParser,priority:Ui.High},name:"loadKTX",test(t){return ga(t,".ktx")},async load(t,e,r){const i=await(await ce.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=pz(t,i),u=s??o,h={mipmap:Fi.OFF,alphaMode:oi.NO_PREMULTIPLIED_ALPHA,resolution:oo(t),...e.data},f=u.map(d=>{u===o&&Object.assign(h,{type:d.type,format:d.format});const p=new De(d,h);return p.ktxKeyValueData=a,cm(p,r,t)});return f.length===1?f[0]:f},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};we.add(xz);const _z={extension:he.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var n,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((n=ce.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=ce.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};we.add(_z);const wz=new Fe,bz=4,Zu=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const a=new FileReader;a.onload=()=>i(a.result),a.onerror=s,a.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const a=new FileReader;a.onload=()=>s(a.result),a.onerror=o,a.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&Zu._flipY(r,n,i),Zu._unpremultiplyAlpha(r);const o=new CB(n,i,1),a=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(a,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&Zu._flipY(r,n,i),Zu._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof ma?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const d=s.framebuffer.glFramebuffers[r.CONTEXT_UID];d.blitFramebuffer&&r.framebuffer.bind(d.blitFramebuffer)}}else n=r.resolution,e||(e=wz,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const a=Math.round(e.width*n),u=Math.round(e.height*n),h=new Uint8Array(bz*a*u),f=r.gl;return f.readPixels(Math.round(e.x*n),Math.round(e.y*n),a,u,f.RGBA,f.UNSIGNED_BYTE,h),o&&(s==null||s.destroy(!0)),{pixels:h,width:a,height:u,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const a=o*n,u=(r-o-1)*n;s.set(t.subarray(a,a+n)),t.copyWithin(a,u,u+n),t.set(s,u)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let wI=Zu;wI.extension={name:"extract",type:he.RendererSystem};we.add(wI);class Sz{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Ez(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ue){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function Tz(t,e){if(t.baseTexture instanceof De){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Cz(t,e){if(t._texture&&t._texture instanceof ue){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Pz(t,e){return e instanceof lm?(e.updateText(!0),!0):!1}function Az(t,e){if(e instanceof ds){const r=e.toFontString();return ur.measureFont(r),!0}return!1}function Rz(t,e){if(t instanceof lm){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Iz(t,e){return t instanceof ds?(e.includes(t)||e.push(t),!0):!1}const bI=class{constructor(t){this.limiter=new Sz(bI.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Rz),this.registerFindHook(Iz),this.registerFindHook(Ez),this.registerFindHook(Tz),this.registerFindHook(Cz),this.registerUploadHook(Pz),this.registerUploadHook(Az)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Ot.system.addOnce(this.tick,this,uo.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Ot.system.addOnce(this.tick,this,uo.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Pr)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Ot.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let wp=bI;wp.uploadsPerFrame=4;Object.defineProperties(ce,{UPLOADS_PER_FRAME:{get(){return wp.uploadsPerFrame},set(t){Ve("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),wp.uploadsPerFrame=t}}});function SI(t,e){return e instanceof De?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Mz(t,e){if(!(e instanceof ta))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&SI(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function kz(t,e){return t instanceof ta?(e.push(t),!0):!1}class EI extends wp{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(kz),this.registerUploadHook(SI),this.registerUploadHook(Mz)}}EI.extension={name:"prepare",type:he.RendererSystem};we.add(EI);const Ju=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof ue?t:null,this.baseTexture=t instanceof De?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=oo(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ju.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=Ju.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,a=null;const u=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,h=new Fe(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);i.rotated?o=new Fe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Fe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new Fe(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new ue(this.baseTexture,o,h,a,i.rotated?2:0,i.anchor,i.borders),ue.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ju.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ju.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let rx=Ju;rx.BATCH_SIZE=1e3;const Dz=["jpg","png","jpeg","avif","webp"];function TI(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Er.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=TI([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const Lz={extension:he.Asset,cache:{test:t=>t instanceof rx,getCacheableAssets:(t,e)=>TI(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&Dz.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=ce.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:he.LoadParser,priority:Ui.Normal},async testParse(t,e){return Er.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var h,f;let n=Er.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=G0(i,e.src);const o=(await r.load([i]))[i],a=new rx(o.baseTexture,t,e.src);await a.parse();const u=(h=t==null?void 0:t.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(u)){const d=[];for(const g of u){if(typeof g!="string")continue;let v=n+g;(f=e.data)!=null&&f.ignoreMultiPack||(v=G0(v,e.src),d.push(r.load({src:v,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(d);a.linkedSheets=p,p.forEach(g=>{g.linkedSheets=[a].concat(a.linkedSheets.filter(v=>v!==g))})}return a},unload(t){t.destroy(!0)}}};we.add(Lz);const Wa=class extends ds{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Wa(Object.keys(Wa.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Wa.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=Wa;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ce.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),a=new FileReader;a.onload=()=>i([o,a.result]),a.onerror=s,a.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:Er.basename(t,Er.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=bB(t)),typeof t=="number"?wB(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,Wa.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=ce.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let mc=Wa;mc.availableFonts={};mc.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const Xa=class extends Bi{constructor(t="",e={}){super(ue.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=ue.from(r,{scaleMode:ce.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new Fe,n.trim=new Fe,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject"),u=document.createElementNS(s,"div"),h=document.createElementNS(s,"style");a.setAttribute("width","10000"),a.setAttribute("height","10000"),a.style.overflow="hidden",o.appendChild(a),this.maxWidth=Xa.defaultMaxWidth,this.maxHeight=Xa.defaultMaxHeight,this._domElement=u,this._styleElement=h,this._svgRoot=o,this._foreignObject=a,this._foreignObject.appendChild(h),this._foreignObject.appendChild(u),this._image=r,this._loadImage=new Image,this._autoResolution=Xa.defaultAutoResolution,this._resolution=Xa.defaultResolution??ce.RESOLUTION,this.text=t,this.style=e}measureText(t){var a,u;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(a=this._style)==null?void 0:a.toCSS(n)}),this._styleElement.textContent=(u=this._style)==null?void 0:u.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const a=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(a)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Xa.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Ws(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Ws(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof mc?(this.ownsStyle=!1,this._style=t):t instanceof ds?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=mc.from(t)):(this.ownsStyle=!0,this._style=new mc(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let pm=Xa;pm.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};pm.defaultMaxWidth=2024;pm.defaultMaxHeight=2024;pm.defaultAutoResolution=!0;var CI={exports:{}},PI=Fz,eT=+(Math.pow(2,27)+1);function Fz(t,e,r){var n=t*e,i=eT*t,s=i-t,o=i-s,a=t-o,u=eT*e,h=u-e,f=u-h,d=e-f,p=n-o*f,g=p-a*f,v=g-o*d,b=a*d-v;return r?(r[0]=b,r[1]=n,r):[b,n]}var Nz=Bz;function Oz(t,e){var r=t+e,n=r-t,i=r-n,s=e-n,o=t-i,a=o+s;return a?[a,r]:[r]}function Bz(t,e){var r=t.length|0,n=e.length|0;if(r===1&&n===1)return Oz(t[0],e[0]);var i=r+n,s=new Array(i),o=0,a=0,u=0,h=Math.abs,f=t[a],d=h(f),p=e[u],g=h(p),v,b;d<g?(b=f,a+=1,a<r&&(f=t[a],d=h(f))):(b=p,u+=1,u<n&&(p=e[u],g=h(p))),a<r&&d<g||u>=n?(v=f,a+=1,a<r&&(f=t[a],d=h(f))):(v=p,u+=1,u<n&&(p=e[u],g=h(p)));for(var C=v+b,E=C-v,S=b-E,x=S,_=C,P,k,M,A,I;a<r&&u<n;)d<g?(v=f,a+=1,a<r&&(f=t[a],d=h(f))):(v=p,u+=1,u<n&&(p=e[u],g=h(p))),b=x,C=v+b,E=C-v,S=b-E,S&&(s[o++]=S),P=_+C,k=P-_,M=P-k,A=C-k,I=_-M,x=I+A,_=P;for(;a<r;)v=f,b=x,C=v+b,E=C-v,S=b-E,S&&(s[o++]=S),P=_+C,k=P-_,M=P-k,A=C-k,I=_-M,x=I+A,_=P,a+=1,a<r&&(f=t[a]);for(;u<n;)v=p,b=x,C=v+b,E=C-v,S=b-E,S&&(s[o++]=S),P=_+C,k=P-_,M=P-k,A=C-k,I=_-M,x=I+A,_=P,u+=1,u<n&&(p=e[u]);return x&&(s[o++]=x),_&&(s[o++]=_),o||(s[o++]=0),s.length=o,s}var Uz=zz;function zz(t,e,r){var n=t+e,i=n-t,s=n-i,o=e-i,a=t-s;return r?(r[0]=a+o,r[1]=n,r):[a+o,n]}var ev=PI,Vz=Uz,jz=Gz;function Gz(t,e){var r=t.length;if(r===1){var n=ev(t[0],e);return n[0]?n:[n[1]]}var i=new Array(2*r),s=[.1,.1],o=[.1,.1],a=0;ev(t[0],e,s),s[0]&&(i[a++]=s[0]);for(var u=1;u<r;++u){ev(t[u],e,o);var h=s[1];Vz(h,o[0],s),s[0]&&(i[a++]=s[0]);var f=o[1],d=s[1],p=f+d,g=p-f,v=d-g;s[1]=p,v&&(i[a++]=v)}return s[1]&&(i[a++]=s[1]),a===0&&(i[a++]=0),i.length=a,i}var Hz=Wz;function $z(t,e){var r=t+e,n=r-t,i=r-n,s=e-n,o=t-i,a=o+s;return a?[a,r]:[r]}function Wz(t,e){var r=t.length|0,n=e.length|0;if(r===1&&n===1)return $z(t[0],-e[0]);var i=r+n,s=new Array(i),o=0,a=0,u=0,h=Math.abs,f=t[a],d=h(f),p=-e[u],g=h(p),v,b;d<g?(b=f,a+=1,a<r&&(f=t[a],d=h(f))):(b=p,u+=1,u<n&&(p=-e[u],g=h(p))),a<r&&d<g||u>=n?(v=f,a+=1,a<r&&(f=t[a],d=h(f))):(v=p,u+=1,u<n&&(p=-e[u],g=h(p)));for(var C=v+b,E=C-v,S=b-E,x=S,_=C,P,k,M,A,I;a<r&&u<n;)d<g?(v=f,a+=1,a<r&&(f=t[a],d=h(f))):(v=p,u+=1,u<n&&(p=-e[u],g=h(p))),b=x,C=v+b,E=C-v,S=b-E,S&&(s[o++]=S),P=_+C,k=P-_,M=P-k,A=C-k,I=_-M,x=I+A,_=P;for(;a<r;)v=f,b=x,C=v+b,E=C-v,S=b-E,S&&(s[o++]=S),P=_+C,k=P-_,M=P-k,A=C-k,I=_-M,x=I+A,_=P,a+=1,a<r&&(f=t[a]);for(;u<n;)v=p,b=x,C=v+b,E=C-v,S=b-E,S&&(s[o++]=S),P=_+C,k=P-_,M=P-k,A=C-k,I=_-M,x=I+A,_=P,u+=1,u<n&&(p=-e[u]);return x&&(s[o++]=x),_&&(s[o++]=_),o||(s[o++]=0),s.length=o,s}(function(t){var e=PI,r=Nz,n=jz,i=Hz,s=5,o=11102230246251565e-32,a=(3+16*o)*o,u=(7+56*o)*o;function h(x,_,P,k){return function(A,I,D){var L=x(x(_(I[1],D[0]),_(-D[1],I[0])),x(_(A[1],I[0]),_(-I[1],A[0]))),N=x(_(A[1],D[0]),_(-D[1],A[0])),G=k(L,N);return G[G.length-1]}}function f(x,_,P,k){return function(A,I,D,L){var N=x(x(P(x(_(D[1],L[0]),_(-L[1],D[0])),I[2]),x(P(x(_(I[1],L[0]),_(-L[1],I[0])),-D[2]),P(x(_(I[1],D[0]),_(-D[1],I[0])),L[2]))),x(P(x(_(I[1],L[0]),_(-L[1],I[0])),A[2]),x(P(x(_(A[1],L[0]),_(-L[1],A[0])),-I[2]),P(x(_(A[1],I[0]),_(-I[1],A[0])),L[2])))),G=x(x(P(x(_(D[1],L[0]),_(-L[1],D[0])),A[2]),x(P(x(_(A[1],L[0]),_(-L[1],A[0])),-D[2]),P(x(_(A[1],D[0]),_(-D[1],A[0])),L[2]))),x(P(x(_(I[1],D[0]),_(-D[1],I[0])),A[2]),x(P(x(_(A[1],D[0]),_(-D[1],A[0])),-I[2]),P(x(_(A[1],I[0]),_(-I[1],A[0])),D[2])))),z=k(N,G);return z[z.length-1]}}function d(x,_,P,k){return function(A,I,D,L,N){var G=x(x(x(P(x(P(x(_(L[1],N[0]),_(-N[1],L[0])),D[2]),x(P(x(_(D[1],N[0]),_(-N[1],D[0])),-L[2]),P(x(_(D[1],L[0]),_(-L[1],D[0])),N[2]))),I[3]),x(P(x(P(x(_(L[1],N[0]),_(-N[1],L[0])),I[2]),x(P(x(_(I[1],N[0]),_(-N[1],I[0])),-L[2]),P(x(_(I[1],L[0]),_(-L[1],I[0])),N[2]))),-D[3]),P(x(P(x(_(D[1],N[0]),_(-N[1],D[0])),I[2]),x(P(x(_(I[1],N[0]),_(-N[1],I[0])),-D[2]),P(x(_(I[1],D[0]),_(-D[1],I[0])),N[2]))),L[3]))),x(P(x(P(x(_(D[1],L[0]),_(-L[1],D[0])),I[2]),x(P(x(_(I[1],L[0]),_(-L[1],I[0])),-D[2]),P(x(_(I[1],D[0]),_(-D[1],I[0])),L[2]))),-N[3]),x(P(x(P(x(_(L[1],N[0]),_(-N[1],L[0])),I[2]),x(P(x(_(I[1],N[0]),_(-N[1],I[0])),-L[2]),P(x(_(I[1],L[0]),_(-L[1],I[0])),N[2]))),A[3]),P(x(P(x(_(L[1],N[0]),_(-N[1],L[0])),A[2]),x(P(x(_(A[1],N[0]),_(-N[1],A[0])),-L[2]),P(x(_(A[1],L[0]),_(-L[1],A[0])),N[2]))),-I[3])))),x(x(P(x(P(x(_(I[1],N[0]),_(-N[1],I[0])),A[2]),x(P(x(_(A[1],N[0]),_(-N[1],A[0])),-I[2]),P(x(_(A[1],I[0]),_(-I[1],A[0])),N[2]))),L[3]),x(P(x(P(x(_(I[1],L[0]),_(-L[1],I[0])),A[2]),x(P(x(_(A[1],L[0]),_(-L[1],A[0])),-I[2]),P(x(_(A[1],I[0]),_(-I[1],A[0])),L[2]))),-N[3]),P(x(P(x(_(D[1],L[0]),_(-L[1],D[0])),I[2]),x(P(x(_(I[1],L[0]),_(-L[1],I[0])),-D[2]),P(x(_(I[1],D[0]),_(-D[1],I[0])),L[2]))),A[3]))),x(P(x(P(x(_(D[1],L[0]),_(-L[1],D[0])),A[2]),x(P(x(_(A[1],L[0]),_(-L[1],A[0])),-D[2]),P(x(_(A[1],D[0]),_(-D[1],A[0])),L[2]))),-I[3]),x(P(x(P(x(_(I[1],L[0]),_(-L[1],I[0])),A[2]),x(P(x(_(A[1],L[0]),_(-L[1],A[0])),-I[2]),P(x(_(A[1],I[0]),_(-I[1],A[0])),L[2]))),D[3]),P(x(P(x(_(I[1],D[0]),_(-D[1],I[0])),A[2]),x(P(x(_(A[1],D[0]),_(-D[1],A[0])),-I[2]),P(x(_(A[1],I[0]),_(-I[1],A[0])),D[2]))),-L[3]))))),z=x(x(x(P(x(P(x(_(L[1],N[0]),_(-N[1],L[0])),D[2]),x(P(x(_(D[1],N[0]),_(-N[1],D[0])),-L[2]),P(x(_(D[1],L[0]),_(-L[1],D[0])),N[2]))),A[3]),P(x(P(x(_(L[1],N[0]),_(-N[1],L[0])),A[2]),x(P(x(_(A[1],N[0]),_(-N[1],A[0])),-L[2]),P(x(_(A[1],L[0]),_(-L[1],A[0])),N[2]))),-D[3])),x(P(x(P(x(_(D[1],N[0]),_(-N[1],D[0])),A[2]),x(P(x(_(A[1],N[0]),_(-N[1],A[0])),-D[2]),P(x(_(A[1],D[0]),_(-D[1],A[0])),N[2]))),L[3]),P(x(P(x(_(D[1],L[0]),_(-L[1],D[0])),A[2]),x(P(x(_(A[1],L[0]),_(-L[1],A[0])),-D[2]),P(x(_(A[1],D[0]),_(-D[1],A[0])),L[2]))),-N[3]))),x(x(P(x(P(x(_(D[1],N[0]),_(-N[1],D[0])),I[2]),x(P(x(_(I[1],N[0]),_(-N[1],I[0])),-D[2]),P(x(_(I[1],D[0]),_(-D[1],I[0])),N[2]))),A[3]),P(x(P(x(_(D[1],N[0]),_(-N[1],D[0])),A[2]),x(P(x(_(A[1],N[0]),_(-N[1],A[0])),-D[2]),P(x(_(A[1],D[0]),_(-D[1],A[0])),N[2]))),-I[3])),x(P(x(P(x(_(I[1],N[0]),_(-N[1],I[0])),A[2]),x(P(x(_(A[1],N[0]),_(-N[1],A[0])),-I[2]),P(x(_(A[1],I[0]),_(-I[1],A[0])),N[2]))),D[3]),P(x(P(x(_(I[1],D[0]),_(-D[1],I[0])),A[2]),x(P(x(_(A[1],D[0]),_(-D[1],A[0])),-I[2]),P(x(_(A[1],I[0]),_(-I[1],A[0])),D[2]))),-N[3])))),ie=k(G,z);return ie[ie.length-1]}}function p(x){var _=x===3?h:x===4?f:d;return _(r,e,n,i)}var g=p(3),v=p(4),b=[function(){return 0},function(){return 0},function(_,P){return P[0]-_[0]},function(_,P,k){var M=(_[1]-k[1])*(P[0]-k[0]),A=(_[0]-k[0])*(P[1]-k[1]),I=M-A,D;if(M>0){if(A<=0)return I;D=M+A}else if(M<0){if(A>=0)return I;D=-(M+A)}else return I;var L=a*D;return I>=L||I<=-L?I:g(_,P,k)},function(_,P,k,M){var A=_[0]-M[0],I=P[0]-M[0],D=k[0]-M[0],L=_[1]-M[1],N=P[1]-M[1],G=k[1]-M[1],z=_[2]-M[2],ie=P[2]-M[2],ae=k[2]-M[2],ee=I*G,B=D*N,X=D*L,O=A*G,Y=A*N,se=I*L,Ce=z*(ee-B)+ie*(X-O)+ae*(Y-se),fe=(Math.abs(ee)+Math.abs(B))*Math.abs(z)+(Math.abs(X)+Math.abs(O))*Math.abs(ie)+(Math.abs(Y)+Math.abs(se))*Math.abs(ae),Le=u*fe;return Ce>Le||-Ce>Le?Ce:v(_,P,k,M)}];function C(x){var _=b[x.length];return _||(_=b[x.length]=p(x.length)),_.apply(void 0,x)}function E(x,_,P,k,M,A,I){return function(L,N,G,z,ie){switch(arguments.length){case 0:case 1:return 0;case 2:return k(L,N);case 3:return M(L,N,G);case 4:return A(L,N,G,z);case 5:return I(L,N,G,z,ie)}for(var ae=new Array(arguments.length),ee=0;ee<arguments.length;++ee)ae[ee]=arguments[ee];return x(ae)}}function S(){for(;b.length<=s;)b.push(p(b.length));t.exports=E.apply(void 0,[C].concat(b));for(var x=0;x<=s;++x)t.exports[x]=b[x]}S()})(CI);var Xz=CI.exports,Yz=Kz,sd=Xz;function Kz(t,e){for(var r=e[0],n=e[1],i=t.length,s=1,o=i,a=0,u=i-1;a<o;u=a++){var h=t[a],f=t[u],d=h[1],p=f[1];if(p<d){if(p<n&&n<d){var g=sd(h,f,e);if(g===0)return 0;s^=0<g|0}else if(n===d){var v=t[(a+1)%i],b=v[1];if(d<b){var g=sd(h,f,e);if(g===0)return 0;s^=0<g|0}}}else if(d<p){if(d<n&&n<p){var g=sd(h,f,e);if(g===0)return 0;s^=g<0|0}else if(n===d){var v=t[(a+1)%i],b=v[1];if(b<d){var g=sd(h,f,e);if(g===0)return 0;s^=g<0|0}}}else if(n===d){var C=Math.min(h[0],f[0]),E=Math.max(h[0],f[0]);if(a===0){for(;u>0;){var S=(u+i-1)%i,x=t[S];if(x[1]!==n)break;var _=x[0];C=Math.min(C,_),E=Math.max(E,_),u=S}if(u===0)return C<=r&&r<=E?0:1;o=u+1}for(var P=t[(u+i-1)%i][1];a+1<o;){var x=t[a+1];if(x[1]!==n)break;var _=x[0];C=Math.min(C,_),E=Math.max(E,_),a+=1}if(C<=r&&r<=E)return 0;var k=t[(a+1)%i][1];r<C&&P<n!=k<n&&(s^=1)}}return 2*s-1}const Qz=Zc(Yz);function AI(t,e){const r=t.map(n=>n.clone());for(let n=0;n<t.length;n++)if(t[n].x<0){r[n].x=e.x+t[n].x;const i=new hr(t[n].x-r[n].x,t[n].y-r[n].y);for(let s=0;s<t.length;s++)r[s].x=t[s].x-i.x,r[s].y=t[s].y-i.y}else if(t[n].x>e.x){r[n].x=t[n].x-e.x;const i=new hr(t[n].x-r[n].x,t[n].y-r[n].y);for(let s=0;s<t.length;s++)r[s].x=t[s].x-i.x,r[s].y=t[s].y-i.y}else if(t[n].y<0){r[n].y=e.y+t[n].y;const i=new hr(t[n].x-r[n].x,t[n].y-r[n].y);for(let s=0;s<t.length;s++)r[s].x=t[s].x-i.x,r[s].y=t[s].y-i.y}else if(t[n].y>e.y){r[n].y=t[n].y-e.y;const i=new hr(t[n].x-r[n].x,t[n].y-r[n].y);for(let s=0;s<t.length;s++)r[s].x=t[s].x-i.x,r[s].y=t[s].y-i.y}return r}function od(t,e){if(e.length==0)return!1;let r=e[0].x,n=e[0].x,i=e[0].y,s=e[0].y;for(let o=1;o<e.length;o++){const a=e[o];r=Math.min(a.x,r),n=Math.max(a.x,n),i=Math.min(a.y,i),s=Math.max(a.y,s)}return t.x<r||t.x>n||t.y<i||t.y>s?!1:Qz(e.map(o=>[o.x,o.y]),[t.x,t.y])<=0}function RI(t,e,r=1){const n=t[0].x,i=t[0].y;e+=180;for(let s=1;s<t.length-1;s++){const o=t[s].x,a=t[s].y,u=n+(o-n)*r*Math.cos(e*Math.PI/180)-(i-a)*r*Math.sin(e*Math.PI/180),h=i+(i-a)*r*Math.cos(e*Math.PI/180)+(o-n)*r*Math.sin(e*Math.PI/180);t[s]=new de(u,h)}return t}class D_{constructor(e,r,n){er(this,"pos");er(this,"vel");er(this,"s");er(this,"r");er(this,"points");er(this,"altPoints");er(this,"bounds");er(this,"altBounds");this.pos=e,this.vel=r,this.s=n,this.r=Math.random()*360,this.points=[],this.altPoints=[],this.bounds=new Fe,this.altBounds=new Fe}move(e,r){return this.pos.x+=this.vel.x*e,this.pos.y+=this.vel.y*e,r}addVel(e,r){this.vel.x+=e.x*r,this.vel.y+=e.y*r}addRot(e){this.r+=e}draw(e,r=1){const n=this.pos.x,i=this.pos.y,s=RI([new de(n,i),new de(n+2,i-1),new de(n+3,i+1),new de(n+4,i+3),new de(n+2,i+5),new de(n+2,i+6),new de(n+3,i+7),new de(n-1,i+9),new de(n-3,i+7),new de(n-4,i+8),new de(n-6,i+7),new de(n-6,i+4),new de(n-5,i+2),new de(n-5,i-0),new de(n-3,i+1),new de(n-3,i-1),new de(n,i)],this.r,this.s),o=AI(s,e),a=h=>{h.clear(),h.lineStyle(2,"#ffffff"),h.drawPolygon(s)},u=h=>{h.clear(),h.lineStyle(2,"#ffffff"),h.drawPolygon(o)};return this.points=s,this.altPoints=o,this.pos.x=s[0].x<0||s[0].x>e.x||s[0].y<0||s[0].y>e.y?o[0].x:s[0].x,this.pos.y=s[0].x<0||s[0].x>e.x||s[0].y<0||s[0].y>e.y?o[0].y:s[0].y,[je.jsx(ms.Graphics,{draw:a},r*Math.random()*1e3),je.jsx(ms.Graphics,{draw:u},r*Math.random()*1e3)]}}class qz extends D_{constructor(){super(...arguments);er(this,"isMoving",!1)}super(r,n,i){this.pos=r,this.vel=n,this.s=i,this.r=0,this.points=[],this.altPoints=[]}move(r,n){return this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,this.isMoving=!0,n}draw(r,n=1){const i=this.pos.x,s=this.pos.y,o=[new de(i,s),new de(i-6,s-24),new de(i,s-36),new de(i+6,s-24),new de(i,s)];let a=[new de(i,s),new de(i+8,s-32),new de(i,s-20),new de(i-8,s-32)];this.isMoving?a.push(...o):a.push(new de(i,s)),a=RI(a,this.r,this.s);const u=AI(a,r),h=d=>{d.clear(),d.lineStyle(2,"#ffffff"),d.drawPolygon(a)},f=d=>{d.clear(),d.lineStyle(2,"#ffffff"),d.drawPolygon(u)};return this.points=a,this.altPoints=u,this.pos.x=a[0].x<0||a[0].x>r.x||a[0].y<0||a[0].y>r.y?u[0].x:a[0].x,this.pos.y=a[0].x<0||a[0].x>r.x||a[0].y<0||a[0].y>r.y?u[0].y:a[0].y,[je.jsx(ms.Graphics,{draw:h},n*Math.random()*1e3),je.jsx(ms.Graphics,{draw:f},n*Math.random()*1e3)]}}class hr{constructor(e,r){er(this,"x");er(this,"y");this.x=e,this.y=r}}class Zz{constructor(e){er(this,"asteroids");er(this,"ship");er(this,"bullets");er(this,"score");er(this,"level");er(this,"done");this.asteroids=[],this.ship=new qz(new hr(e.x/2,e.y/2),new hr(0,0),1.5),this.bullets=[],this.score=0,this.level=0,this.done=!1}}class bp extends D_{super(e,r,n){this.pos=e,this.vel=r,this.s=n,this.r=Math.random()*360,this.points=[],this.altPoints=[]}move(e,r){this.pos.x+=this.vel.x*e,this.pos.y+=this.vel.y*e;for(let n=0;n<r.bullets.length;n++)if(od(r.bullets[n].pos,this.points)||od(r.bullets[n].pos,this.altPoints)){this.s>5?(r.asteroids.push(new bp(new hr(this.pos.x+Math.random()*10,this.pos.y+Math.random()*10),new hr((Math.random()-.5)*.75,(Math.random()-.5)*.75),this.s/2)),r.asteroids.push(new bp(new hr(this.pos.x+Math.random()*10,this.pos.y+Math.random()*10),new hr((Math.random()-.5)*.75,(Math.random()-.5)*.75),this.s/2))):r.score+=0,r.score+=parseInt((5/this.s*10).toFixed(0)),r.asteroids.splice(r.asteroids.indexOf(this),1),r.bullets.splice(r.bullets.indexOf(r.bullets[n]),1);break}for(let n=0;n<r.ship.points.length;n++)(od(r.ship.points[n],this.points)||od(r.ship.points[n],this.altPoints))&&(r.done=!0);return r}}class Jz extends D_{super(e,r,n){this.pos=e,this.vel=r,this.s=n,this.r=0}draw(e,r=1){const n=this.pos.x,i=this.pos.y,s=[new de(n,i),new de(n+2,i-2),new de(n+2,i-2),new de(n+2,i-2),new de(n+2,i+2),new de(n,i)].map(a=>new de((a.x-n)*this.s+n,(a.y-i)*this.s+i)),o=a=>{a.clear(),a.lineStyle(2,"#ffffff"),a.drawPolygon(s)};return[je.jsx(ms.Graphics,{draw:o},r*Math.random()*1e3)]}}const tT=.05,rT=10;let $e;function II({player:t,screen:e,count:r,setLevel:n,setScore:i,gameOver:s}){const[o,a]=K.useState({forward:!1,space:!1,left:!1,right:!1});K.useEffect(()=>{const f=p=>{p.preventDefault(),p.key==" "&&a({...o,space:!0}),p.key=="w"&&a({...o,forward:!0}),p.key=="a"&&a({...o,left:!0}),p.key=="d"&&a({...o,right:!0})},d=p=>{p.preventDefault(),p.key==" "&&a({...o,space:!1}),p.key=="w"&&a({...o,forward:!1}),p.key=="a"&&a({...o,left:!1}),p.key=="d"&&a({...o,right:!1})};return document.addEventListener("keydown",f),document.addEventListener("keyup",d),function(){document.removeEventListener("keydown",f),document.removeEventListener("keyup",d)}},[o]);const[u,h]=K.useState(0);return $e==null&&($e=new Zz(e)),ms.useTick(f=>{if(h(u+1),$e.done)return s();{if($e.asteroids.length==0){$e.level++,n($e.level);for(let p=0;p<r+$e.level;p++){const g=new hr(0,0);let v=0;do g.x=Math.random()*e.x,g.y=Math.random()*e.y,v=Math.random()*12+5;while(Math.sqrt(Math.pow(g.x-$e.ship.pos.x,2)+Math.pow(g.y-$e.ship.pos.y,2))+v<200);$e.asteroids.push(new bp(g,new hr((Math.random()-.5)*.75,(Math.random()-.5)*.75),v))}}let d=!1;t&&(o.forward==!0&&($e.ship.addVel(new hr(tT*Math.sin(-$e.ship.r*Math.PI/180),tT*Math.cos(-$e.ship.r*Math.PI/180)),f),d=d||!0),o.left&&$e.ship.addRot(-2),o.right&&$e.ship.addRot(2),o.space&&($e.bullets.push(new Jz(new hr($e.ship.pos.x,$e.ship.pos.y),new hr(rT*Math.sin(-$e.ship.r*Math.PI/180),rT*Math.cos(-$e.ship.r*Math.PI/180)),1)),a({...o,space:!1}))),t&&$e.ship.move(f,$e),d||($e.ship.isMoving=!1,d=!1),$e.asteroids.forEach(p=>{p.move(f,$e)}),i($e.score),$e.bullets.forEach(p=>{if(p.pos.x>e.x||p.pos.x<0||p.pos.y>e.y||p.pos.y<0)return $e==null?void 0:$e.bullets.splice($e.bullets.indexOf(p),1);p.move(f,$e)})}}),je.jsxs(je.Fragment,{children:[$e.asteroids.map((f,d)=>f.draw(e,d+3)),$e.bullets.map((f,d)=>f.draw(e,d+2)),t?$e.ship.draw(e):je.jsx(ms.Graphics,{})]})}const MI=K.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),mm=K.createContext({}),L_=K.createContext(null),gm=typeof document<"u",nT=gm?K.useLayoutEffect:K.useEffect,kI=K.createContext({strict:!1});function e6(t,e,r,n){const{visualElement:i}=K.useContext(mm),s=K.useContext(kI),o=K.useContext(L_),a=K.useContext(MI).reducedMotion,u=K.useRef();n=n||s.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const h=u.current;return K.useInsertionEffect(()=>{h&&h.update(r,o)}),nT(()=>{h&&h.render()}),K.useEffect(()=>{h&&h.updateFeatures()}),(window.HandoffAppearAnimations?nT:K.useEffect)(()=>{h&&h.animationState&&h.animationState.animateChanges()}),h}function hl(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function t6(t,e,r){return K.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):hl(r)&&(r.current=n))},[e])}function Kc(t){return typeof t=="string"||Array.isArray(t)}function ym(t){return typeof t=="object"&&typeof t.start=="function"}const F_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],N_=["initial",...F_];function vm(t){return ym(t.animate)||N_.some(e=>Kc(t[e]))}function DI(t){return!!(vm(t)||t.variants)}function r6(t,e){if(vm(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Kc(r)?r:void 0,animate:Kc(n)?n:void 0}}return t.inherit!==!1?e:{}}function n6(t){const{initial:e,animate:r}=r6(t,K.useContext(mm));return K.useMemo(()=>({initial:e,animate:r}),[iT(e),iT(r)])}function iT(t){return Array.isArray(t)?t.join(" "):t}const sT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qc={};for(const t in sT)Qc[t]={isEnabled:e=>sT[t].some(r=>!!e[r])};function i6(t){for(const e in t)Qc[e]={...Qc[e],...t[e]}}const LI=K.createContext({}),FI=K.createContext({}),s6=Symbol.for("motionComponentSymbol");function o6({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&i6(t);function s(a,u){let h;const f={...K.useContext(MI),...a,layoutId:a6(a)},{isStatic:d}=f,p=n6(a),g=n(a,d);if(!d&&gm){p.visualElement=e6(i,g,f,e);const v=K.useContext(FI),b=K.useContext(kI).strict;p.visualElement&&(h=p.visualElement.loadFeatures(f,b,t,v))}return K.createElement(mm.Provider,{value:p},h&&p.visualElement?K.createElement(h,{visualElement:p.visualElement,...f}):null,r(i,a,t6(g,p.visualElement,u),g,d,p.visualElement))}const o=K.forwardRef(s);return o[s6]=i,o}function a6({layoutId:t}){const e=K.useContext(LI).id;return e&&t!==void 0?e+"-"+t:t}function l6(t){function e(n,i={}){return o6(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const u6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function O_(t){return typeof t!="string"||t.includes("-")?!1:!!(u6.indexOf(t)>-1||/[A-Z]/.test(t))}const Sp={};function c6(t){Object.assign(Sp,t)}const hh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ya=new Set(hh);function NI(t,{layout:e,layoutId:r}){return ya.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Sp[t]||t==="opacity")}const Xr=t=>!!(t&&t.getVelocity),h6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f6=hh.length;function d6(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let s="";for(let o=0;o<f6;o++){const a=hh[o];if(t[a]!==void 0){const u=h6[a]||a;s+=`${u}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,n?"":s):r&&n&&(s="none"),s}const OI=t=>e=>typeof e=="string"&&e.startsWith(t),BI=OI("--"),nx=OI("var(--"),p6=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,m6=(t,e)=>e&&typeof t=="number"?e.transform(t):t,co=(t,e,r)=>Math.min(Math.max(r,t),e),va={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gc={...va,transform:t=>co(0,1,t)},ad={...va,default:1},yc=t=>Math.round(t*1e5)/1e5,xm=/(-)?([\d]*\.?[\d])+/g,UI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,g6=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function fh(t){return typeof t=="string"}const dh=t=>({test:e=>fh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fs=dh("deg"),Li=dh("%"),Ae=dh("px"),y6=dh("vh"),v6=dh("vw"),oT={...Li,parse:t=>Li.parse(t)/100,transform:t=>Li.transform(t*100)},aT={...va,transform:Math.round},zI={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,size:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,rotate:Fs,rotateX:Fs,rotateY:Fs,rotateZ:Fs,scale:ad,scaleX:ad,scaleY:ad,scaleZ:ad,skew:Fs,skewX:Fs,skewY:Fs,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:gc,originX:oT,originY:oT,originZ:Ae,zIndex:aT,fillOpacity:gc,strokeOpacity:gc,numOctaves:aT};function B_(t,e,r,n){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let u=!1,h=!1,f=!0;for(const d in e){const p=e[d];if(BI(d)){s[d]=p;continue}const g=zI[d],v=m6(p,g);if(ya.has(d)){if(u=!0,o[d]=v,!f)continue;p!==(g.default||0)&&(f=!1)}else d.startsWith("origin")?(h=!0,a[d]=v):i[d]=v}if(e.transform||(u||n?i.transform=d6(t.transform,r,f,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;i.transformOrigin=`${d} ${p} ${g}`}}const U_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VI(t,e,r){for(const n in e)!Xr(e[n])&&!NI(n,r)&&(t[n]=e[n])}function x6({transformTemplate:t},e,r){return K.useMemo(()=>{const n=U_();return B_(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function _6(t,e,r){const n=t.style||{},i={};return VI(i,n,t),Object.assign(i,x6(t,e,r)),t.transformValues?t.transformValues(i):i}function w6(t,e,r){const n={},i=_6(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const b6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Ep(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||b6.has(t)}let jI=t=>!Ep(t);function S6(t){t&&(jI=e=>e.startsWith("on")?!Ep(e):t(e))}try{S6(require("@emotion/is-prop-valid").default)}catch{}function E6(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(jI(i)||r===!0&&Ep(i)||!e&&!Ep(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function lT(t,e,r){return typeof t=="string"?t:Ae.transform(e+r*t)}function T6(t,e,r){const n=lT(e,t.x,t.width),i=lT(r,t.y,t.height);return`${n} ${i}`}const C6={offset:"stroke-dashoffset",array:"stroke-dasharray"},P6={offset:"strokeDashoffset",array:"strokeDasharray"};function A6(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?C6:P6;t[s.offset]=Ae.transform(-n);const o=Ae.transform(e),a=Ae.transform(r);t[s.array]=`${o} ${a}`}function z_(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...h},f,d,p){if(B_(t,h,f,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v,dimensions:b}=t;g.transform&&(b&&(v.transform=g.transform),delete g.transform),b&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=T6(b,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&A6(g,o,a,u,!1)}const GI=()=>({...U_(),attrs:{}}),V_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function R6(t,e,r,n){const i=K.useMemo(()=>{const s=GI();return z_(s,e,{enableHardwareAcceleration:!1},V_(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};VI(s,t.style,t),i.style={...s,...i.style}}return i}function I6(t=!1){return(r,n,i,{latestValues:s},o)=>{const u=(O_(r)?R6:w6)(n,s,o,r),f={...E6(n,typeof r=="string",t),...u,ref:i},{children:d}=n,p=K.useMemo(()=>Xr(d)?d.get():d,[d]);return K.createElement(r,{...f,children:p})}}const j_=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function HI(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const $I=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WI(t,e,r,n){HI(t,e,void 0,n);for(const i in e.attrs)t.setAttribute($I.has(i)?i:j_(i),e.attrs[i])}function G_(t,e){const{style:r}=t,n={};for(const i in r)(Xr(r[i])||e.style&&Xr(e.style[i])||NI(i,t))&&(n[i]=r[i]);return n}function XI(t,e){const r=G_(t,e);for(const n in t)if(Xr(t[n])||Xr(e[n])){const i=hh.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function H_(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function M6(t){const e=K.useRef(null);return e.current===null&&(e.current=t()),e.current}const Tp=t=>Array.isArray(t),k6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),D6=t=>Tp(t)?t[t.length-1]||0:t;function Id(t){const e=Xr(t)?t.get():t;return k6(e)?e.toValue():e}function L6({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){const o={latestValues:F6(n,i,s,t),renderState:e()};return r&&(o.mount=a=>r(n,a,o)),o}const YI=t=>(e,r)=>{const n=K.useContext(mm),i=K.useContext(L_),s=()=>L6(t,e,n,i);return r?s():M6(s)};function F6(t,e,r,n){const i={},s=n(t,{});for(const p in s)i[p]=Id(s[p]);let{initial:o,animate:a}=t;const u=vm(t),h=DI(t);e&&h&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const d=f?a:o;return d&&typeof d!="boolean"&&!ym(d)&&(Array.isArray(d)?d:[d]).forEach(g=>{const v=H_(t,g);if(!v)return;const{transitionEnd:b,transition:C,...E}=v;for(const S in E){let x=E[S];if(Array.isArray(x)){const _=f?x.length-1:0;x=x[_]}x!==null&&(i[S]=x)}for(const S in b)i[S]=b[S]}),i}const N6={useVisualState:YI({scrapeMotionValuesFromProps:XI,createRenderState:GI,onMount:(t,e,{renderState:r,latestValues:n})=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}z_(r,n,{enableHardwareAcceleration:!1},V_(e.tagName),t.transformTemplate),WI(e,r)}})},O6={useVisualState:YI({scrapeMotionValuesFromProps:G_,createRenderState:U_})};function B6(t,{forwardMotionProps:e=!1},r,n){return{...O_(t)?N6:O6,preloadedFeatures:r,useRender:I6(e),createVisualElement:n,Component:t}}function rs(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const KI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function _m(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const U6=t=>e=>KI(e)&&t(e,_m(e));function as(t,e,r,n){return rs(t,e,U6(r),n)}const z6=(t,e)=>r=>e(t(r)),ro=(...t)=>t.reduce(z6);function QI(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const uT=QI("dragHorizontal"),cT=QI("dragVertical");function qI(t){let e=!1;if(t==="y")e=cT();else if(t==="x")e=uT();else{const r=uT(),n=cT();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function ZI(){const t=qI(!0);return t?(t(),!1):!0}class vo{constructor(e){this.isMounted=!1,this.node=e}update(){}}const It=t=>t;function V6(t){let e=[],r=[],n=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(u,h=!1,f=!1)=>{const d=f&&i,p=d?e:r;return h&&o.add(u),p.indexOf(u)===-1&&(p.push(u),d&&i&&(n=e.length)),u},cancel:u=>{const h=r.indexOf(u);h!==-1&&r.splice(h,1),o.delete(u)},process:u=>{if(i){s=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let h=0;h<n;h++){const f=e[h];f(u),o.has(f)&&(a.schedule(f),t())}i=!1,s&&(s=!1,a.process(u))}};return a}const ld=["prepare","read","update","preRender","render","postRender"],j6=40;function G6(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ld.reduce((d,p)=>(d[p]=V6(()=>r=!0),d),{}),o=d=>s[d].process(i),a=()=>{const d=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(d-i.timestamp,j6),1),i.timestamp=d,i.isProcessing=!0,ld.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(a))},u=()=>{r=!0,n=!0,i.isProcessing||t(a)};return{schedule:ld.reduce((d,p)=>{const g=s[p];return d[p]=(v,b=!1,C=!1)=>(r||u(),g.schedule(v,b,C)),d},{}),cancel:d=>ld.forEach(p=>s[p].cancel(d)),state:i,steps:s}}const{schedule:Et,cancel:gs,state:br,steps:tv}=G6(typeof requestAnimationFrame<"u"?requestAnimationFrame:It,!0);function hT(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||ZI())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[n]&&Et.update(()=>a[n](s,o))};return as(t.current,r,i,{passive:!t.getProps()[n]})}class H6 extends vo{mount(){this.unmount=ro(hT(this.node,!0),hT(this.node,!1))}unmount(){}}class $6 extends vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ro(rs(this.node.current,"focus",()=>this.onFocus()),rs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const JI=(t,e)=>e?t===e?!0:JI(t,e.parentElement):!1;function rv(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,_m(r))}class W6 extends vo{constructor(){super(...arguments),this.removeStartListeners=It,this.removeEndListeners=It,this.removeAccessibleListeners=It,this.startPointerPress=(e,r)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),s=as(window,"pointerup",(a,u)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:f}=this.node.getProps();Et.update(()=>{JI(this.node.current,a.target)?h&&h(a,u):f&&f(a,u)})},{passive:!(n.onTap||n.onPointerUp)}),o=as(window,"pointercancel",(a,u)=>this.cancelPress(a,u),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ro(s,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||rv("up",(u,h)=>{const{onTap:f}=this.node.getProps();f&&Et.update(()=>f(u,h))})};this.removeEndListeners(),this.removeEndListeners=rs(this.node.current,"keyup",o),rv("down",(a,u)=>{this.startPress(a,u)})},r=rs(this.node.current,"keydown",e),n=()=>{this.isPressing&&rv("cancel",(s,o)=>this.cancelPress(s,o))},i=rs(this.node.current,"blur",n);this.removeAccessibleListeners=ro(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Et.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ZI()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Et.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=as(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=rs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ro(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ix=new WeakMap,nv=new WeakMap,X6=t=>{const e=ix.get(t.target);e&&e(t)},Y6=t=>{t.forEach(X6)};function K6({root:t,...e}){const r=t||document;nv.has(r)||nv.set(r,{});const n=nv.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Y6,{root:t,...e})),n[i]}function Q6(t,e,r){const n=K6(e);return ix.set(t,r),n.observe(t),()=>{ix.delete(t),n.unobserve(t)}}const q6={some:0,all:1};class Z6 extends vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:q6[i]},a=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),p=h?f:d;p&&p(u)};return Q6(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(J6(e,r))&&this.startObserver()}unmount(){}}function J6({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const e8={inView:{Feature:Z6},tap:{Feature:W6},focus:{Feature:$6},hover:{Feature:H6}};function eM(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function t8(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function r8(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function wm(t,e,r){const n=t.getProps();return H_(n,e,r!==void 0?r:n.custom,t8(t),r8(t))}const n8="framerAppearId",i8="data-"+j_(n8);let s8=It,$_=It;const no=t=>t*1e3,ls=t=>t/1e3,o8={current:!1},tM=t=>Array.isArray(t)&&typeof t[0]=="number";function rM(t){return!!(!t||typeof t=="string"&&nM[t]||tM(t)||Array.isArray(t)&&t.every(rM))}const ec=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,nM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ec([0,.65,.55,1]),circOut:ec([.55,0,1,.45]),backIn:ec([.31,.01,.66,-.59]),backOut:ec([.33,1.53,.69,.99])};function iM(t){if(t)return tM(t)?ec(t):Array.isArray(t)?t.map(iM):nM[t]}function a8(t,e,r,{delay:n=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:u}={}){const h={[e]:r};u&&(h.offset=u);const f=iM(a);return Array.isArray(f)&&(h.easing=f),t.animate(h,{delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function l8(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const sM=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,u8=1e-7,c8=12;function h8(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=sM(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>u8&&++a<c8);return o}function ph(t,e,r,n){if(t===e&&r===n)return It;const i=s=>h8(s,0,1,t,r);return s=>s===0||s===1?s:sM(i(s),e,n)}const f8=ph(.42,0,1,1),d8=ph(0,0,.58,1),oM=ph(.42,0,.58,1),p8=t=>Array.isArray(t)&&typeof t[0]!="number",aM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lM=t=>e=>1-t(1-e),uM=t=>1-Math.sin(Math.acos(t)),W_=lM(uM),m8=aM(W_),cM=ph(.33,1.53,.69,.99),X_=lM(cM),g8=aM(X_),y8=t=>(t*=2)<1?.5*X_(t):.5*(2-Math.pow(2,-10*(t-1))),v8={linear:It,easeIn:f8,easeInOut:oM,easeOut:d8,circIn:uM,circInOut:m8,circOut:W_,backIn:X_,backInOut:g8,backOut:cM,anticipate:y8},fT=t=>{if(Array.isArray(t)){$_(t.length===4);const[e,r,n,i]=t;return ph(e,r,n,i)}else if(typeof t=="string")return v8[t];return t},Y_=(t,e)=>r=>!!(fh(r)&&g6.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),hM=(t,e,r)=>n=>{if(!fh(n))return n;const[i,s,o,a]=n.match(xm);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},x8=t=>co(0,255,t),iv={...va,transform:t=>Math.round(x8(t))},Qo={test:Y_("rgb","red"),parse:hM("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+iv.transform(t)+", "+iv.transform(e)+", "+iv.transform(r)+", "+yc(gc.transform(n))+")"};function _8(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const sx={test:Y_("#"),parse:_8,transform:Qo.transform},fl={test:Y_("hsl","hue"),parse:hM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Li.transform(yc(e))+", "+Li.transform(yc(r))+", "+yc(gc.transform(n))+")"},Ir={test:t=>Qo.test(t)||sx.test(t)||fl.test(t),parse:t=>Qo.test(t)?Qo.parse(t):fl.test(t)?fl.parse(t):sx.parse(t),transform:t=>fh(t)?t:t.hasOwnProperty("red")?Qo.transform(t):fl.transform(t)},St=(t,e,r)=>-r*t+r*e+t;function sv(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function w8({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,u=2*r-a;i=sv(u,a,t+1/3),s=sv(u,a,t),o=sv(u,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const ov=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},b8=[sx,Qo,fl],S8=t=>b8.find(e=>e.test(t));function dT(t){const e=S8(t);let r=e.parse(t);return e===fl&&(r=w8(r)),r}const fM=(t,e)=>{const r=dT(t),n=dT(e),i={...r};return s=>(i.red=ov(r.red,n.red,s),i.green=ov(r.green,n.green,s),i.blue=ov(r.blue,n.blue,s),i.alpha=St(r.alpha,n.alpha,s),Qo.transform(i))};function E8(t){var e,r;return isNaN(t)&&fh(t)&&(((e=t.match(xm))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(UI))===null||r===void 0?void 0:r.length)||0)>0}const dM={regex:p6,countKey:"Vars",token:"${v}",parse:It},pM={regex:UI,countKey:"Colors",token:"${c}",parse:Ir.parse},mM={regex:xm,countKey:"Numbers",token:"${n}",parse:va.parse};function av(t,{regex:e,countKey:r,token:n,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+r]=s.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...s.map(i)))}function Cp(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&av(r,dM),av(r,pM),av(r,mM),r}function gM(t){return Cp(t).values}function yM(t){const{values:e,numColors:r,numVars:n,tokenised:i}=Cp(t),s=e.length;return o=>{let a=i;for(let u=0;u<s;u++)u<n?a=a.replace(dM.token,o[u]):u<n+r?a=a.replace(pM.token,Ir.transform(o[u])):a=a.replace(mM.token,yc(o[u]));return a}}const T8=t=>typeof t=="number"?0:t;function C8(t){const e=gM(t);return yM(t)(e.map(T8))}const ho={test:E8,parse:gM,createTransformer:yM,getAnimatableNone:C8},vM=(t,e)=>r=>`${r>0?e:t}`;function xM(t,e){return typeof t=="number"?r=>St(t,e,r):Ir.test(t)?fM(t,e):t.startsWith("var(")?vM(t,e):wM(t,e)}const _M=(t,e)=>{const r=[...t],n=r.length,i=t.map((s,o)=>xM(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}},P8=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=xM(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}},wM=(t,e)=>{const r=ho.createTransformer(e),n=Cp(t),i=Cp(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?ro(_M(n.values,i.values),r):vM(t,e)},qc=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},pT=(t,e)=>r=>St(t,e,r);function A8(t){return typeof t=="number"?pT:typeof t=="string"?Ir.test(t)?fM:wM:Array.isArray(t)?_M:typeof t=="object"?P8:pT}function R8(t,e,r){const n=[],i=r||A8(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||It:e;a=ro(u,a)}n.push(a)}return n}function bM(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if($_(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=R8(e,n,i),a=o.length,u=h=>{let f=0;if(a>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const d=qc(t[f],t[f+1],h);return o[f](d)};return r?h=>u(co(t[0],t[s-1],h)):u}function I8(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=qc(0,e,n);t.push(St(r,1,i))}}function M8(t){const e=[0];return I8(e,t.length-1),e}function k8(t,e){return t.map(r=>r*e)}function D8(t,e){return t.map(()=>e||oM).splice(0,t.length-1)}function Pp({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=p8(n)?n.map(fT):fT(n),s={done:!1,value:e[0]},o=k8(r&&r.length===e.length?r:M8(e),t),a=bM(o,e,{ease:Array.isArray(i)?i:D8(e,i)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}function SM(t,e){return e?t*(1e3/e):0}const L8=5;function EM(t,e,r){const n=Math.max(e-L8,0);return SM(r-t(n),e-n)}const lv=.001,F8=.01,mT=10,N8=.05,O8=1;function B8({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,s;s8(t<=no(mT));let o=1-e;o=co(N8,O8,o),t=co(F8,mT,ls(t)),o<1?(i=h=>{const f=h*o,d=f*t,p=f-r,g=ox(h,o),v=Math.exp(-d);return lv-p/g*v},s=h=>{const d=h*o*t,p=d*r+r,g=Math.pow(o,2)*Math.pow(h,2)*t,v=Math.exp(-d),b=ox(Math.pow(h,2),o);return(-i(h)+lv>0?-1:1)*((p-g)*v)/b}):(i=h=>{const f=Math.exp(-h*t),d=(h-r)*t+1;return-lv+f*d},s=h=>{const f=Math.exp(-h*t),d=(r-h)*(t*t);return f*d});const a=5/t,u=z8(i,s,a);if(t=no(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const h=Math.pow(u,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:t}}}const U8=12;function z8(t,e,r){let n=r;for(let i=1;i<U8;i++)n=n-t(n)/e(n);return n}function ox(t,e){return t*Math.sqrt(1-e*e)}const V8=["duration","bounce"],j8=["stiffness","damping","mass"];function gT(t,e){return e.some(r=>t[r]!==void 0)}function G8(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!gT(t,j8)&&gT(t,V8)){const r=B8(t);e={...e,...r,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function TM({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:u,mass:h,velocity:f,duration:d,isResolvedFromDuration:p}=G8(n),g=f?-ls(f):0,v=u/(2*Math.sqrt(a*h)),b=s-i,C=ls(Math.sqrt(a/h)),E=Math.abs(b)<5;r||(r=E?.01:2),e||(e=E?.005:.5);let S;if(v<1){const x=ox(C,v);S=_=>{const P=Math.exp(-v*C*_);return s-P*((g+v*C*b)/x*Math.sin(x*_)+b*Math.cos(x*_))}}else if(v===1)S=x=>s-Math.exp(-C*x)*(b+(g+C*b)*x);else{const x=C*Math.sqrt(v*v-1);S=_=>{const P=Math.exp(-v*C*_),k=Math.min(x*_,300);return s-P*((g+v*C*b)*Math.sinh(k)+x*b*Math.cosh(k))/x}}return{calculatedDuration:p&&d||null,next:x=>{const _=S(x);if(p)o.done=x>=d;else{let P=g;x!==0&&(v<1?P=EM(S,x,_):P=0);const k=Math.abs(P)<=r,M=Math.abs(s-_)<=e;o.done=k&&M}return o.value=o.done?s:_,o}}}function yT({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:h=.5,restSpeed:f}){const d=t[0],p={done:!1,value:d},g=A=>a!==void 0&&A<a||u!==void 0&&A>u,v=A=>a===void 0?u:u===void 0||Math.abs(a-A)<Math.abs(u-A)?a:u;let b=r*e;const C=d+b,E=o===void 0?C:o(C);E!==C&&(b=E-d);const S=A=>-b*Math.exp(-A/n),x=A=>E+S(A),_=A=>{const I=S(A),D=x(A);p.done=Math.abs(I)<=h,p.value=p.done?E:D};let P,k;const M=A=>{g(p.value)&&(P=A,k=TM({keyframes:[p.value,v(p.value)],velocity:EM(x,A,p.value),damping:i,stiffness:s,restDelta:h,restSpeed:f}))};return M(0),{calculatedDuration:null,next:A=>{let I=!1;return!k&&P===void 0&&(I=!0,_(A),M(A)),P!==void 0&&A>P?k.next(A-P):(!I&&_(A),p)}}}const H8=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Et.update(e,!0),stop:()=>gs(e),now:()=>br.isProcessing?br.timestamp:performance.now()}},vT=2e4;function xT(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<vT;)e+=r,n=t.next(e);return e>=vT?1/0:e}const $8={decay:yT,inertia:yT,tween:Pp,keyframes:Pp,spring:TM};function Ap({autoplay:t=!0,delay:e=0,driver:r=H8,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:u,onStop:h,onComplete:f,onUpdate:d,...p}){let g=1,v=!1,b,C;const E=()=>{C=new Promise(Y=>{b=Y})};E();let S;const x=$8[i]||Pp;let _;x!==Pp&&typeof n[0]!="number"&&(_=bM([0,100],n,{clamp:!1}),n=[0,100]);const P=x({...p,keyframes:n});let k;a==="mirror"&&(k=x({...p,keyframes:[...n].reverse(),velocity:-(p.velocity||0)}));let M="idle",A=null,I=null,D=null;P.calculatedDuration===null&&s&&(P.calculatedDuration=xT(P));const{calculatedDuration:L}=P;let N=1/0,G=1/0;L!==null&&(N=L+o,G=N*(s+1)-o);let z=0;const ie=Y=>{if(I===null)return;g>0&&(I=Math.min(I,Y)),g<0&&(I=Math.min(Y-G/g,I)),A!==null?z=A:z=Math.round(Y-I)*g;const se=z-e*(g>=0?1:-1),Ce=g>=0?se<0:se>G;z=Math.max(se,0),M==="finished"&&A===null&&(z=G);let fe=z,Le=P;if(s){const yt=z/N;let tt=Math.floor(yt),Pe=yt%1;!Pe&&yt>=1&&(Pe=1),Pe===1&&tt--,tt=Math.min(tt,s+1);const Qe=!!(tt%2);Qe&&(a==="reverse"?(Pe=1-Pe,o&&(Pe-=o/N)):a==="mirror"&&(Le=k));let Oe=co(0,1,Pe);z>G&&(Oe=a==="reverse"&&Qe?1:0),fe=Oe*N}const Re=Ce?{done:!1,value:n[0]}:Le.next(fe);_&&(Re.value=_(Re.value));let{done:Ue}=Re;!Ce&&L!==null&&(Ue=g>=0?z>=G:z<=0);const et=A===null&&(M==="finished"||M==="running"&&Ue);return d&&d(Re.value),et&&B(),Re},ae=()=>{S&&S.stop(),S=void 0},ee=()=>{M="idle",ae(),b(),E(),I=D=null},B=()=>{M="finished",f&&f(),ae(),b()},X=()=>{if(v)return;S||(S=r(ie));const Y=S.now();u&&u(),A!==null?I=Y-A:(!I||M==="finished")&&(I=Y),M==="finished"&&E(),D=I,A=null,M="running",S.start()};t&&X();const O={then(Y,se){return C.then(Y,se)},get time(){return ls(z)},set time(Y){Y=no(Y),z=Y,A!==null||!S||g===0?A=Y:I=S.now()-Y/g},get duration(){const Y=P.calculatedDuration===null?xT(P):P.calculatedDuration;return ls(Y)},get speed(){return g},set speed(Y){Y===g||!S||(g=Y,O.time=ls(z))},get state(){return M},play:X,pause:()=>{M="paused",A=z},stop:()=>{v=!0,M!=="idle"&&(M="idle",h&&h(),ee())},cancel:()=>{D!==null&&ie(D),ee()},complete:()=>{M="finished"},sample:Y=>(I=0,ie(Y))};return O}function W8(t){let e;return()=>(e===void 0&&(e=t()),e)}const X8=W8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Y8=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ud=10,K8=2e4,Q8=(t,e)=>e.type==="spring"||t==="backgroundColor"||!rM(e.ease);function q8(t,e,{onUpdate:r,onComplete:n,...i}){if(!(X8()&&Y8.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,u;const h=()=>{u=new Promise(S=>{a=S})};h();let{keyframes:f,duration:d=300,ease:p,times:g}=i;if(Q8(e,i)){const S=Ap({...i,repeat:0,delay:0});let x={done:!1,value:f[0]};const _=[];let P=0;for(;!x.done&&P<K8;)x=S.sample(P),_.push(x.value),P+=ud;g=void 0,f=_,d=P-ud,p="linear"}const v=a8(t.owner.current,e,f,{...i,duration:d,ease:p,times:g}),b=()=>v.cancel(),C=()=>{Et.update(b),a(),h()};return v.onfinish=()=>{t.set(l8(f,i)),n&&n(),C()},{then(S,x){return u.then(S,x)},attachTimeline(S){return v.timeline=S,v.onfinish=null,It},get time(){return ls(v.currentTime||0)},set time(S){v.currentTime=no(S)},get speed(){return v.playbackRate},set speed(S){v.playbackRate=S},get duration(){return ls(d)},play:()=>{o||(v.play(),gs(b))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:S}=v;if(S){const x=Ap({...i,autoplay:!1});t.setWithVelocity(x.sample(S-ud).value,x.sample(S).value,ud)}C()},complete:()=>v.finish(),cancel:C}}function Z8({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:It,pause:It,stop:It,then:s=>(s(),Promise.resolve()),cancel:It,complete:It});return e?Ap({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const J8={type:"spring",stiffness:500,damping:25,restSpeed:10},eV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tV={type:"keyframes",duration:.8},rV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nV=(t,{keyframes:e})=>e.length>2?tV:ya.has(t)?t.startsWith("scale")?eV(e[1]):J8:rV,ax=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ho.test(e)||e==="0")&&!e.startsWith("url(")),iV=new Set(["brightness","contrast","saturate","opacity"]);function sV(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(xm)||[];if(!n)return t;const i=r.replace(n,"");let s=iV.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const oV=/([a-z-]*)\(.*?\)/g,lx={...ho,getAnimatableNone:t=>{const e=t.match(oV);return e?e.map(sV).join(" "):t}},aV={...zI,color:Ir,backgroundColor:Ir,outlineColor:Ir,fill:Ir,stroke:Ir,borderColor:Ir,borderTopColor:Ir,borderRightColor:Ir,borderBottomColor:Ir,borderLeftColor:Ir,filter:lx,WebkitFilter:lx},K_=t=>aV[t];function CM(t,e){let r=K_(t);return r!==lx&&(r=ho),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const PM=t=>/^0[^.\s]+$/.test(t);function lV(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||PM(t)}function uV(t,e,r,n){const i=ax(e,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const o=n.from!==void 0?n.from:t.get();let a;const u=[];for(let h=0;h<s.length;h++)s[h]===null&&(s[h]=h===0?o:s[h-1]),lV(s[h])&&u.push(h),typeof s[h]=="string"&&s[h]!=="none"&&s[h]!=="0"&&(a=s[h]);if(i&&u.length&&a)for(let h=0;h<u.length;h++){const f=u[h];s[f]=CM(e,a)}return s}function cV({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:h,...f}){return!!Object.keys(f).length}function AM(t,e){return t[e]||t.default||t}const Q_=(t,e,r,n={})=>i=>{const s=AM(n,t)||{},o=s.delay||n.delay||0;let{elapsed:a=0}=n;a=a-no(o);const u=uV(e,t,r,s),h=u[0],f=u[u.length-1],d=ax(t,h),p=ax(t,f);let g={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(cV(s)||(g={...g,...nV(t,g)}),g.duration&&(g.duration=no(g.duration)),g.repeatDelay&&(g.repeatDelay=no(g.repeatDelay)),!d||!p||o8.current||s.type===!1)return Z8(g);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=q8(e,t,g);if(v)return v}return Ap(g)};function Rp(t){return!!(Xr(t)&&t.add)}const hV=t=>/^\-?\d*\.?\d+$/.test(t);function q_(t,e){t.indexOf(e)===-1&&t.push(e)}function Z_(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class J_{constructor(){this.subscriptions=[]}add(e){return q_(this.subscriptions,e),()=>Z_(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fV=t=>!isNaN(parseFloat(t));class dV{constructor(e,r={}){this.version="10.15.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=br;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Et.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Et.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=fV(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new J_);const n=this.events[e].add(r);return e==="change"?()=>{n(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?SM(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gl(t,e){return new dV(t,e)}const RM=t=>e=>e.test(t),pV={test:t=>t==="auto",parse:t=>t},IM=[va,Ae,Li,Fs,v6,y6,pV],ju=t=>IM.find(RM(t)),mV=[...IM,Ir,ho],gV=t=>mV.find(RM(t));function yV(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Gl(r))}function vV(t,e){const r=wm(t,e);let{transitionEnd:n={},transition:i={},...s}=r?t.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const o in s){const a=D6(s[o]);yV(t,o,a)}}function xV(t,e,r){var n,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const u=s[a],h=e[u];let f=null;Array.isArray(h)&&(f=h[0]),f===null&&(f=(i=(n=r[u])!==null&&n!==void 0?n:t.readValue(u))!==null&&i!==void 0?i:e[u]),f!=null&&(typeof f=="string"&&(hV(f)||PM(f))?f=parseFloat(f):!gV(f)&&ho.test(h)&&(f=CM(u,h)),t.addValue(u,Gl(f,{owner:t})),r[u]===void 0&&(r[u]=f),f!==null&&t.setBaseTarget(u,f))}}function _V(t,e){return e?(e[t]||e.default||e).from:void 0}function wV(t,e,r){const n={};for(const i in t){const s=_V(i,e);if(s!==void 0)n[i]=s;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function bV({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function MM(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");n&&(s=n);const h=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const p=t.getValue(d),g=a[d];if(!p||g===void 0||f&&bV(f,d))continue;const v={delay:r,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const C=t.getProps()[i8];C&&(v.elapsed=window.HandoffAppearAnimations(C,d,p,Et))}p.start(Q_(d,p,g,t.shouldReduceMotion&&ya.has(d)?{type:!1}:v));const b=p.animation;Rp(u)&&(u.add(d),b.then(()=>u.remove(d))),h.push(b)}return o&&Promise.all(h).then(()=>{o&&vV(t,o)}),h}function ux(t,e,r={}){const n=wm(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(MM(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:d}=i;return SV(t,e,h+u,f,d,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,h]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>h())}else return Promise.all([s(),o(r.delay)])}function SV(t,e,r=0,n=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*n,u=i===1?(h=0)=>h*n:(h=0)=>a-h*n;return Array.from(t.variantChildren).sort(EV).forEach((h,f)=>{h.notify("AnimationStart",e),o.push(ux(h,e,{...s,delay:r+u(f)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function EV(t,e){return t.sortNodePosition(e)}function TV(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>ux(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=ux(t,e,r);else{const i=typeof e=="function"?wm(t,e,r.custom):e;n=Promise.all(MM(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const CV=[...F_].reverse(),PV=F_.length;function AV(t){return e=>Promise.all(e.map(({animation:r,options:n})=>TV(t,r,n)))}function RV(t){let e=AV(t);const r=MV();let n=!0;const i=(u,h)=>{const f=wm(t,h);if(f){const{transition:d,transitionEnd:p,...g}=f;u={...u,...g,...p}}return u};function s(u){e=u(t)}function o(u,h){const f=t.getProps(),d=t.getVariantContext(!0)||{},p=[],g=new Set;let v={},b=1/0;for(let E=0;E<PV;E++){const S=CV[E],x=r[S],_=f[S]!==void 0?f[S]:d[S],P=Kc(_),k=S===h?x.isActive:null;k===!1&&(b=E);let M=_===d[S]&&_!==f[S]&&P;if(M&&n&&t.manuallyAnimateOnMount&&(M=!1),x.protectedKeys={...v},!x.isActive&&k===null||!_&&!x.prevProp||ym(_)||typeof _=="boolean")continue;const A=IV(x.prevProp,_);let I=A||S===h&&x.isActive&&!M&&P||E>b&&P;const D=Array.isArray(_)?_:[_];let L=D.reduce(i,{});k===!1&&(L={});const{prevResolvedValues:N={}}=x,G={...N,...L},z=ie=>{I=!0,g.delete(ie),x.needsAnimating[ie]=!0};for(const ie in G){const ae=L[ie],ee=N[ie];v.hasOwnProperty(ie)||(ae!==ee?Tp(ae)&&Tp(ee)?!eM(ae,ee)||A?z(ie):x.protectedKeys[ie]=!0:ae!==void 0?z(ie):g.add(ie):ae!==void 0&&g.has(ie)?z(ie):x.protectedKeys[ie]=!0)}x.prevProp=_,x.prevResolvedValues=L,x.isActive&&(v={...v,...L}),n&&t.blockInitialAnimation&&(I=!1),I&&!M&&p.push(...D.map(ie=>({animation:ie,options:{type:S,...u}})))}if(g.size){const E={};g.forEach(S=>{const x=t.getBaseTarget(S);x!==void 0&&(E[S]=x)}),p.push({animation:E})}let C=!!p.length;return n&&f.initial===!1&&!t.manuallyAnimateOnMount&&(C=!1),n=!1,C?e(p):Promise.resolve()}function a(u,h,f){var d;if(r[u].isActive===h)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(u,h)}),r[u].isActive=h;const p=o(f,u);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r}}function IV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!eM(e,t):!1}function Fo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function MV(){return{animate:Fo(!0),whileInView:Fo(),whileHover:Fo(),whileTap:Fo(),whileDrag:Fo(),whileFocus:Fo(),exit:Fo()}}class kV extends vo{constructor(e){super(e),e.animationState||(e.animationState=RV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ym(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let DV=0;class LV extends vo{constructor(){super(...arguments),this.id=DV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const FV={animation:{Feature:kV},exit:{Feature:LV}},_T=(t,e)=>Math.abs(t-e);function NV(t,e){const r=_T(t.x,e.x),n=_T(t.y,e.y);return Math.sqrt(r**2+n**2)}class kM{constructor(e,r,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=cv(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,d=NV(h.offset,{x:0,y:0})>=3;if(!f&&!d)return;const{point:p}=h,{timestamp:g}=br;this.history.push({...p,timestamp:g});const{onStart:v,onMove:b}=this.handlers;f||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=uv(f,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,g=cv(h.type==="pointercancel"?this.lastMoveEventInfo:uv(f,this.transformPagePoint),this.history);this.startEvent&&d&&d(h,g),p&&p(h,g)},!KI(e))return;this.handlers=r,this.transformPagePoint=n;const i=_m(e),s=uv(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=br;this.history=[{...o,timestamp:a}];const{onSessionStart:u}=r;u&&u(e,cv(s,this.history)),this.removeListeners=ro(as(window,"pointermove",this.handlePointerMove),as(window,"pointerup",this.handlePointerUp),as(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function uv(t,e){return e?{point:e(t.point)}:t}function wT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cv({point:t},e){return{point:t,delta:wT(t,DM(e)),offset:wT(t,OV(e)),velocity:BV(e,.1)}}function OV(t){return t[0]}function DM(t){return t[t.length-1]}function BV(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=DM(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>no(e)));)r--;if(!n)return{x:0,y:0};const s=ls(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function un(t){return t.max-t.min}function cx(t,e=0,r=.01){return Math.abs(t-e)<=r}function bT(t,e,r,n=.5){t.origin=n,t.originPoint=St(e.min,e.max,t.origin),t.scale=un(r)/un(e),(cx(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=St(r.min,r.max,t.origin)-t.originPoint,(cx(t.translate)||isNaN(t.translate))&&(t.translate=0)}function vc(t,e,r,n){bT(t.x,e.x,r.x,n?n.originX:void 0),bT(t.y,e.y,r.y,n?n.originY:void 0)}function ST(t,e,r){t.min=r.min+e.min,t.max=t.min+un(e)}function UV(t,e,r){ST(t.x,e.x,r.x),ST(t.y,e.y,r.y)}function ET(t,e,r){t.min=e.min-r.min,t.max=t.min+un(e)}function xc(t,e,r){ET(t.x,e.x,r.x),ET(t.y,e.y,r.y)}function zV(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?St(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?St(r,t,n.max):Math.min(t,r)),t}function TT(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function VV(t,{top:e,left:r,bottom:n,right:i}){return{x:TT(t.x,r,i),y:TT(t.y,e,n)}}function CT(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function jV(t,e){return{x:CT(t.x,e.x),y:CT(t.y,e.y)}}function GV(t,e){let r=.5;const n=un(t),i=un(e);return i>n?r=qc(e.min,e.max-n,t.min):n>i&&(r=qc(t.min,t.max-i,e.min)),co(0,1,r)}function HV(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const hx=.35;function $V(t=hx){return t===!1?t=0:t===!0&&(t=hx),{x:PT(t,"left","right"),y:PT(t,"top","bottom")}}function PT(t,e,r){return{min:AT(t,e),max:AT(t,r)}}function AT(t,e){return typeof t=="number"?t:t[e]||0}const RT=()=>({translate:0,scale:1,origin:0,originPoint:0}),dl=()=>({x:RT(),y:RT()}),IT=()=>({min:0,max:0}),Ut=()=>({x:IT(),y:IT()});function Ci(t){return[t("x"),t("y")]}function LM({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function WV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function XV(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function hv(t){return t===void 0||t===1}function fx({scale:t,scaleX:e,scaleY:r}){return!hv(t)||!hv(e)||!hv(r)}function jo(t){return fx(t)||FM(t)||t.z||t.rotate||t.rotateX||t.rotateY}function FM(t){return MT(t.x)||MT(t.y)}function MT(t){return t&&t!=="0%"}function Ip(t,e,r){const n=t-r,i=e*n;return r+i}function kT(t,e,r,n,i){return i!==void 0&&(t=Ip(t,i,n)),Ip(t,r,n)+e}function dx(t,e=0,r=1,n,i){t.min=kT(t.min,e,r,n,i),t.max=kT(t.max,e,r,n,i)}function NM(t,{x:e,y:r}){dx(t.x,e.translate,e.scale,e.originPoint),dx(t.y,r.translate,r.scale,r.originPoint)}function YV(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const u=s.instance;u&&u.style&&u.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&pl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,NM(t,o)),n&&jo(s.latestValues)&&pl(t,s.latestValues))}e.x=DT(e.x),e.y=DT(e.y)}function DT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Us(t,e){t.min=t.min+e,t.max=t.max+e}function LT(t,e,[r,n,i]){const s=e[i]!==void 0?e[i]:.5,o=St(t.min,t.max,s);dx(t,e[r],e[n],o,e.scale)}const KV=["x","scaleX","originX"],QV=["y","scaleY","originY"];function pl(t,e){LT(t.x,e,KV),LT(t.y,e,QV)}function OM(t,e){return LM(XV(t.getBoundingClientRect(),e))}function qV(t,e,r){const n=OM(t,r),{scroll:i}=e;return i&&(Us(n.x,i.offset.x),Us(n.y,i.offset.y)),n}const ZV=new WeakMap;class JV{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{this.stopAnimation(),r&&this.snapToCursor(_m(u,"page").point)},s=(u,h)=>{const{drag:f,dragPropagation:d,onDragStart:p}=this.getProps();if(f&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=qI(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ci(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Li.test(b)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[v];E&&(b=un(E)*(parseFloat(b)/100))}}this.originPoint[v]=b}),p&&Et.update(()=>p(u,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:d,onDirectionLock:p,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:v}=h;if(d&&this.currentDirection===null){this.currentDirection=ej(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),g&&g(u,h)},a=(u,h)=>this.stop(u,h);this.panSession=new kM(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Et.update(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!cd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=zV(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),{layout:n}=this.visualElement.projection||{},i=this.constraints;e&&hl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=VV(n.layoutBox,e):this.constraints=!1,this.elastic=$V(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ci(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=HV(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!hl(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=qV(n,i.root,this.visualElement.getTransformPagePoint());let o=jV(i.layout.layoutBox,s);if(r){const a=r(WV(o));this.hasMutatedConstraints=!!a,a&&(o=LM(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},h=Ci(f=>{if(!cd(f,r,this.currentDirection))return;let d=u&&u[f]||{};o&&(d={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:n?e[f]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,v)});return Promise.all(h).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(Q_(e,n,0,r))}stopAnimation(){Ci(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ci(r=>{const{drag:n}=this.getProps();if(!cd(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-St(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!hl(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ci(o=>{const a=this.getAxisMotionValue(o);if(a){const u=a.get();i[o]=GV({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ci(o=>{if(!cd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];a.set(St(u,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;ZV.set(this.visualElement,this);const e=this.visualElement.current,r=as(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();hl(u)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=rs(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ci(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=u[f].translate,d.set(d.get()+u[f].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=hx,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function cd(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function ej(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class tj extends vo{constructor(e){super(e),this.removeGroupControls=It,this.removeListeners=It,this.controls=new JV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||It}unmount(){this.removeGroupControls(),this.removeListeners()}}const FT=t=>(e,r)=>{t&&Et.update(()=>t(e,r))};class rj extends vo{constructor(){super(...arguments),this.removePointerDownListener=It}onPointerDown(e){this.session=new kM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:FT(e),onStart:FT(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Et.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=as(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function nj(){const t=K.useContext(L_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=K.useId();return K.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const Md={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function NT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const r=NT(t,e.target.x),n=NT(t,e.target.y);return`${r}% ${n}%`}},ij={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=ho.parse(t);if(i.length>5)return n;const s=ho.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,u=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=u;const h=St(a,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),s(i)}};class sj extends sn.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;c6(oj),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Md.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Et.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function BM(t){const[e,r]=nj(),n=K.useContext(LI);return sn.createElement(sj,{...t,layoutGroup:n,switchLayoutGroup:K.useContext(FI),isPresent:e,safeToRemove:r})}const oj={borderRadius:{...Gu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gu,borderTopRightRadius:Gu,borderBottomLeftRadius:Gu,borderBottomRightRadius:Gu,boxShadow:ij},UM=["TopLeft","TopRight","BottomLeft","BottomRight"],aj=UM.length,OT=t=>typeof t=="string"?parseFloat(t):t,BT=t=>typeof t=="number"||Ae.test(t);function lj(t,e,r,n,i,s){i?(t.opacity=St(0,r.opacity!==void 0?r.opacity:1,uj(n)),t.opacityExit=St(e.opacity!==void 0?e.opacity:1,0,cj(n))):s&&(t.opacity=St(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<aj;o++){const a=`border${UM[o]}Radius`;let u=UT(e,a),h=UT(r,a);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||BT(u)===BT(h)?(t[a]=Math.max(St(OT(u),OT(h),n),0),(Li.test(h)||Li.test(u))&&(t[a]+="%")):t[a]=h}(e.rotate||r.rotate)&&(t.rotate=St(e.rotate||0,r.rotate||0,n))}function UT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uj=zM(0,.5,W_),cj=zM(.5,.95,It);function zM(t,e,r){return n=>n<t?0:n>e?1:r(qc(t,e,n))}function zT(t,e){t.min=e.min,t.max=e.max}function wn(t,e){zT(t.x,e.x),zT(t.y,e.y)}function VT(t,e,r,n,i){return t-=e,t=Ip(t,1/r,n),i!==void 0&&(t=Ip(t,1/i,n)),t}function hj(t,e=0,r=1,n=.5,i,s=t,o=t){if(Li.test(e)&&(e=parseFloat(e),e=St(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=St(s.min,s.max,n);t===s&&(a-=e),t.min=VT(t.min,e,r,a,i),t.max=VT(t.max,e,r,a,i)}function jT(t,e,[r,n,i],s,o){hj(t,e[r],e[n],e[i],e.scale,s,o)}const fj=["x","scaleX","originX"],dj=["y","scaleY","originY"];function GT(t,e,r,n){jT(t.x,e,fj,r?r.x:void 0,n?n.x:void 0),jT(t.y,e,dj,r?r.y:void 0,n?n.y:void 0)}function HT(t){return t.translate===0&&t.scale===1}function VM(t){return HT(t.x)&&HT(t.y)}function pj(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function jM(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function $T(t){return un(t.x)/un(t.y)}class mj{constructor(){this.members=[]}add(e){q_(this.members,e),e.scheduleRender()}remove(e){if(Z_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WT(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:u,rotateX:h,rotateY:f}=r;u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const gj=(t,e)=>t.depth-e.depth;class yj{constructor(){this.children=[],this.isDirty=!1}add(e){q_(this.children,e),this.isDirty=!0}remove(e){Z_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gj),this.isDirty=!1,this.children.forEach(e)}}function vj(t,e){const r=performance.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(gs(n),t(s-e))};return Et.read(n,!0),()=>gs(n)}function xj(t){window.MotionDebug&&window.MotionDebug.record(t)}function _j(t){return t instanceof SVGElement&&t.tagName!=="svg"}function wj(t,e,r){const n=Xr(t)?t:Gl(t);return n.start(Q_("",n,e,r)),n.animation}const XT=["","X","Y","Z"],YT=1e3;let bj=0;const Go={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function GM({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=bj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Go.totalNodes=Go.resolvedTargetDeltas=Go.recalculatedProjection=0,this.nodes.forEach(Tj),this.nodes.forEach(Ij),this.nodes.forEach(Mj),this.nodes.forEach(Cj),xj(Go)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new yj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new J_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_j(o),this.instance=o;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(h||u)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=vj(p,250),Md.hasAnimatedSinceResize&&(Md.hasAnimatedSinceResize=!1,this.nodes.forEach(QT))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||Nj,{onLayoutAnimationStart:C,onLayoutAnimationComplete:E}=f.getProps(),S=!this.targetLayout||!jM(this.targetLayout,v)||g,x=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const _={...AM(b,"layout"),onPlay:C,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else p||QT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KT);return}this.isUpdating||this.nodes.forEach(Aj),this.isUpdating=!1,this.nodes.forEach(Rj),this.nodes.forEach(Sj),this.nodes.forEach(Ej),this.clearAllSnapshots();const a=performance.now();br.delta=co(0,1e3/60,a-br.timestamp),br.timestamp=a,br.isProcessing=!0,tv.update.process(br),tv.preRender.process(br),tv.render.process(br),br.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Pj),this.sharedNodes.forEach(Dj)}scheduleUpdateProjection(){Et.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!VM(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&(a||jo(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),Oj(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ut();const a=o.measureViewportBox(),{scroll:u}=this.root;return u&&(Us(a.x,u.offset.x),Us(a.y,u.offset.y)),a}removeElementScroll(o){const a=Ut();wn(a,o);for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:d}=h;if(h!==this.root&&f&&d.layoutScroll){if(f.isRoot){wn(a,o);const{scroll:p}=this.root;p&&(Us(a.x,-p.offset.x),Us(a.y,-p.offset.y))}Us(a.x,f.offset.x),Us(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const u=Ut();wn(u,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&pl(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),jo(f.latestValues)&&pl(u,f.latestValues)}return jo(this.latestValues)&&pl(u,this.latestValues),u}removeTransform(o){const a=Ut();wn(a,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!jo(h.latestValues))continue;fx(h.latestValues)&&h.updateSnapshot();const f=Ut(),d=h.measurePageBox();wn(f,d),GT(a,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return jo(this.latestValues)&&GT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==br.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=br.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),xc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wn(this.target,this.layout.layoutBox),NM(this.target,this.targetDelta)):wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),xc(this.relativeTargetOrigin,this.target,g.target),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Go.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fx(this.parent.latestValues)||FM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let h=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===br.timestamp&&(h=!1),h)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;wn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;YV(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=dl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=dl(),this.projectionDeltaWithTransform=dl());const b=this.projectionTransform;vc(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=WT(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Go.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},d=dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ut(),g=u?u.source:void 0,v=this.layout?this.layout.source:void 0,b=g!==v,C=this.getStack(),E=!C||C.members.length<=1,S=!!(b&&!E&&this.options.crossfade===!0&&!this.path.some(Fj));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const P=_/1e3;qT(d.x,o.x,P),qT(d.y,o.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xc(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lj(this.relativeTarget,this.relativeTargetOrigin,p,P),x&&pj(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ut()),wn(x,this.relativeTarget)),b&&(this.animationValues=f,lj(f,h,this.latestValues,P,S,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{Md.hasAnimatedSinceResize=!0,this.currentAnimation=wj(0,YT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:h,latestValues:f}=o;if(!(!a||!u||!h)){if(this!==o&&this.layout&&h&&HM(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Ut();const d=un(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+d;const p=un(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}wn(a,u),pl(a,f),vc(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mj),this.sharedNodes.get(o).add(a);const h=a.options.initialPromotionConfig;a.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(a=!0),!a)return;const h={};for(let f=0;f<XT.length;f++){const d="rotate"+XT[f];u[d]&&(h[d]=u[d],o.setStaticValue(d,0))}o.render();for(const f in h)o.setStaticValue(f,h[f]);o.scheduleRender()}getProjectionStyles(o={}){var a,u;const h={};if(!this.instance||this.isSVG)return h;if(this.isVisible)h.visibility="";else return{visibility:"hidden"};const f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Id(o.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Id(o.pointerEvents)||""),this.hasProjected&&!jo(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),h.transform=WT(this.projectionDeltaWithTransform,this.treeScale,p),f&&(h.transform=f(p,h.transform));const{x:g,y:v}=this.projectionDelta;h.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,d.animationValues?h.opacity=d===this?(u=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:h.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Sp){if(p[b]===void 0)continue;const{correct:C,applyTo:E}=Sp[b],S=h.transform==="none"?p[b]:C(p[b],d);if(E){const x=E.length;for(let _=0;_<x;_++)h[E[_]]=S}else h[b]=S}return this.options.layoutId&&(h.pointerEvents=d===this?Id(o.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(KT),this.root.sharedNodes.clear()}}}function Sj(t){t.updateLayout()}function Ej(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=r.source!==t.layout.source;s==="size"?Ci(d=>{const p=o?r.measuredBox[d]:r.layoutBox[d],g=un(p);p.min=n[d].min,p.max=p.min+g}):HM(s,r.layoutBox,n)&&Ci(d=>{const p=o?r.measuredBox[d]:r.layoutBox[d],g=un(n[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=dl();vc(a,n,r.layoutBox);const u=dl();o?vc(u,t.applyTransform(i,!0),r.measuredBox):vc(u,n,r.layoutBox);const h=!VM(a);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const v=Ut();xc(v,r.layoutBox,p.layoutBox);const b=Ut();xc(b,n,g.layoutBox),jM(v,b)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:u,layoutDelta:a,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Tj(t){Go.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Cj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Pj(t){t.clearSnapshot()}function KT(t){t.clearMeasurements()}function Aj(t){t.isLayoutDirty=!1}function Rj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function QT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ij(t){t.resolveTargetDelta()}function Mj(t){t.calcProjection()}function kj(t){t.resetRotation()}function Dj(t){t.removeLeadSnapshot()}function qT(t,e,r){t.translate=St(e.translate,0,r),t.scale=St(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function ZT(t,e,r,n){t.min=St(e.min,r.min,n),t.max=St(e.max,r.max,n)}function Lj(t,e,r,n){ZT(t.x,e.x,r.x,n),ZT(t.y,e.y,r.y,n)}function Fj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Nj={duration:.45,ease:[.4,0,.1,1]},JT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),eC=JT("applewebkit/")&&!JT("chrome/")?Math.round:It;function tC(t){t.min=eC(t.min),t.max=eC(t.max)}function Oj(t){tC(t.x),tC(t.y)}function HM(t,e,r){return t==="position"||t==="preserve-aspect"&&!cx($T(e),$T(r),.2)}const Bj=GM({attachResizeListener:(t,e)=>rs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fv={current:void 0},$M=GM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fv.current){const t=new Bj({});t.mount(window),t.setOptions({layoutScroll:!0}),fv.current=t}return fv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uj={pan:{Feature:rj},drag:{Feature:tj,ProjectionNode:$M,MeasureLayout:BM}},zj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Vj(t){const e=zj.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function px(t,e,r=1){const[n,i]=Vj(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);return s?s.trim():nx(i)?px(i,e,r+1):i}function jj(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const s=i.get();if(!nx(s))return;const o=px(s,n);o&&i.set(o)});for(const i in e){const s=e[i];if(!nx(s))continue;const o=px(s,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=s))}return{target:e,transitionEnd:r}}const Gj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),WM=t=>Gj.has(t),Hj=t=>Object.keys(t).some(WM),rC=t=>t===va||t===Ae,nC=(t,e)=>parseFloat(t.split(", ")[e]),iC=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return nC(i[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?nC(s[1],t):0}},$j=new Set(["x","y","z"]),Wj=hh.filter(t=>!$j.has(t));function Xj(t){const e=[];return Wj.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Hl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:iC(4,13),y:iC(5,14)};Hl.translateX=Hl.x;Hl.translateY=Hl.y;const Yj=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(h=>{a[h]=Hl[h](n,s)}),e.render();const u=e.measureViewportBox();return r.forEach(h=>{const f=e.getValue(h);f&&f.jump(a[h]),t[h]=Hl[h](u,s)}),t},Kj=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(WM);let s=[],o=!1;const a=[];if(i.forEach(u=>{const h=t.getValue(u);if(!t.hasValue(u))return;let f=r[u],d=ju(f);const p=e[u];let g;if(Tp(p)){const v=p.length,b=p[0]===null?1:0;f=p[b],d=ju(f);for(let C=b;C<v&&p[C]!==null;C++)g?$_(ju(p[C])===g):g=ju(p[C])}else g=ju(p);if(d!==g)if(rC(d)&&rC(g)){const v=h.get();typeof v=="string"&&h.set(parseFloat(v)),typeof p=="string"?e[u]=parseFloat(p):Array.isArray(p)&&g===Ae&&(e[u]=p.map(parseFloat))}else d!=null&&d.transform&&(g!=null&&g.transform)&&(f===0||p===0)?f===0?h.set(g.transform(f)):e[u]=d.transform(p):(o||(s=Xj(t),o=!0),a.push(u),n[u]=n[u]!==void 0?n[u]:e[u],h.jump(p))}),a.length){const u=a.indexOf("height")>=0?window.pageYOffset:null,h=Yj(e,t,a);return s.length&&s.forEach(([f,d])=>{t.getValue(f).set(d)}),t.render(),gm&&u!==null&&window.scrollTo({top:u}),{target:h,transitionEnd:n}}else return{target:e,transitionEnd:n}};function Qj(t,e,r,n){return Hj(e)?Kj(t,e,r,n):{target:e,transitionEnd:n}}const qj=(t,e,r,n)=>{const i=jj(t,e,n);return e=i.target,n=i.transitionEnd,Qj(t,e,r,n)},mx={current:null},XM={current:!1};function Zj(){if(XM.current=!0,!!gm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mx.current=t.matches;t.addListener(e),e()}else mx.current=!1}function Jj(t,e,r){const{willChange:n}=e;for(const i in e){const s=e[i],o=r[i];if(Xr(s))t.addValue(i,s),Rp(n)&&n.add(i);else if(Xr(o))t.addValue(i,Gl(s,{owner:t})),Rp(n)&&n.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Gl(a!==void 0?a:s,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const sC=new WeakMap,YM=Object.keys(Qc),eG=YM.length,oC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],tG=N_.length;class rG{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Et.render(this.render,!1,!0);const{latestValues:a,renderState:u}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=vm(r),this.isVariantNode=DI(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{});for(const d in f){const p=f[d];a[d]!==void 0&&Xr(p)&&(p.set(a[d],!1),Rp(h)&&h.add(d))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,sC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),XM.current||Zj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sC.delete(this.current),this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=ya.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Et.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,s){let o,a;for(let u=0;u<eG;u++){const h=YM[u],{isEnabled:f,Feature:d,ProjectionNode:p,MeasureLayout:g}=Qc[h];p&&(o=p),f(r)&&(!this.features[h]&&d&&(this.features[h]=new d(this)),g&&(a=g))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:h,drag:f,dragConstraints:d,layoutScroll:p,layoutRoot:g}=r;this.projection.setOptions({layoutId:u,layout:h,alwaysMeasureLayout:!!f||d&&hl(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<oC.length;n++){const i=oC[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Jj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<tG;n++){const i=N_[n],s=this.props[i];(Kc(s)||s===!1)&&(r[i]=s)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Gl(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=H_(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Xr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new J_),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class KM extends rG{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},s){let o=wV(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),s){xV(this,n,o);const a=qj(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:r,...n}}}function nG(t){return window.getComputedStyle(t)}class iG extends KM{readValueFromInstance(e,r){if(ya.has(r)){const n=K_(r);return n&&n.default||0}else{const n=nG(e),i=(BI(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return OM(e,r)}build(e,r,n,i){B_(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return G_(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){HI(e,r,n,i)}}class sG extends KM{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ya.has(r)){const n=K_(r);return n&&n.default||0}return r=$I.has(r)?r:j_(r),e.getAttribute(r)}measureInstanceViewportBox(){return Ut()}scrapeMotionValuesFromProps(e,r){return XI(e,r)}build(e,r,n,i){z_(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){WI(e,r,n,i)}mount(e){this.isSVGTag=V_(e.tagName),super.mount(e)}}const oG=(t,e)=>O_(t)?new sG(e,{enableHardwareAcceleration:!1}):new iG(e,{enableHardwareAcceleration:!0}),aG={layout:{ProjectionNode:$M,MeasureLayout:BM}},lG={...FV,...e8,...Uj,...aG},uG=l6((t,e)=>B6(t,e,lG,oG)),cG={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function gx(t){return je.jsx(uG.div,{variants:cG,initial:"initial",animate:"animate",exit:"exit",transition:{duration:5,type:"spring",stiffness:50,mass:5},children:t.children})}function hG(){const[t,e]=vI();return je.jsxs(gx,{children:[je.jsx(ms.Stage,{width:t,height:e,options:{backgroundColor:0},className:"absolute -z-50 w-screen h-screen top-0 left-1/2 right-1/2 -translate-x-1/2",children:je.jsx(II,{count:25,screen:new hr(t,e),player:!1,setScore:()=>1,setLevel:()=>1,gameOver:()=>1})}),je.jsxs("div",{className:"flex flex-col h-screen text-8xl bg-transparent text-neutral-200 ",children:[je.jsx("p",{className:"align-middle justify-center m-auto mb-10 bg-black rounded animate-bouncepulse bg-opacity-50",children:"Asteroids"}),je.jsx(LA,{to:"/play",className:"text-4xl m-auto justify-center align-middle text-center mt-5 py-4 px-10 outline-double outline-4 hover:animate-colorpulse bg-opacity-50 bg-black",children:"Play"})]})]})}function fG(){const[t,e]=vI(),[r,n]=K.useState(0),[i,s]=K.useState(0),[o,a]=K.useState(!1),u=d=>{s(d)},h=d=>{n(d)},f=()=>{console.log("GAME OVER"),o||(console.log("Done!"),a(!0))};return je.jsxs(gx,{children:[je.jsxs("p",{className:"absolute top-0 left-0 p-5 text-4xl text-neutral-300 bg-transparent",children:["Score: ",r]}),je.jsxs("p",{className:"absolute top-0 right-0 p-5 text-4xl text-neutral-300 bg-transparent",children:["Level: ",i]}),je.jsx(ms.Stage,{width:t,height:e,options:{backgroundColor:0},className:"absolute -z-50 w-screen h-screen top-0 left-1/2 right-1/2 -translate-x-1/2",children:je.jsx(II,{count:4,screen:new hr(t,e),player:!0,setScore:h,setLevel:u,gameOver:f})}),o?je.jsx(gx,{children:je.jsxs("div",{className:"flex flex-col h-screen text-neutral-200",children:[je.jsx("p",{className:"align-middle justify-center m-auto mb-10 bg-black rounded animate-bouncepulse bg-opacity-50 text-8xl",children:"Game Over!"}),je.jsx("button",{onClick:()=>window.location.reload(),className:"text-4xl m-auto justify-center align-middle text-center mt-5 py-4 px-10 outline-double outline-4 hover:animate-colorpulse",children:"Play Again"})]})}):je.jsx(je.Fragment,{})]})}function dv(){return je.jsxs("div",{className:"flex flex-col h-screen text-8xl bg-black text-neutral-200",children:[je.jsx("p",{className:"align-middle justify-center m-auto mb-10",children:"404"}),je.jsx(LA,{to:"/",className:"text-4xl m-auto justify-center align-middle text-center mt-5 py-4 px-10 outline-double hover:outline-neutral-400 hover:text-neutral-300",children:"Home"})]})}const dG=EF([{path:"/",element:je.jsx(hG,{}),errorElement:je.jsx(dv,{})},{path:"/play",element:je.jsx(fG,{}),errorElement:je.jsx(dv,{})},{path:"*",element:je.jsx(dv,{})}]);pv.createRoot(document.getElementById("root")).render(je.jsx(sn.StrictMode,{children:je.jsx(gF,{router:dG})}))});export default pG();
